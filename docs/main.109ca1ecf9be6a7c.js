(self.webpackChunkknowledges=self.webpackChunkknowledges||[]).push([[179],{543:(Ul,ir,X)=>{"use strict";function U(e){return"function"==typeof e}function E(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const H=E(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,s)=>`${s+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function q(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class G{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const c of t)c.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(U(r))try{r()}catch(c){n=c instanceof H?c.errors:[c]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const c of s)try{S(c)}catch(h){n=null!=n?n:[],h instanceof H?n=[...n,...h.errors]:n.push(h)}}if(n)throw new H(n)}}add(n){var t;if(n&&n!==this)if(this.closed)S(n);else{if(n instanceof G){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&q(t,n)}remove(n){const{_teardowns:t}=this;t&&q(t,n),n instanceof G&&n._removeParent(this)}}G.EMPTY=(()=>{const e=new G;return e.closed=!0,e})();const V=G.EMPTY;function fe(e){return e instanceof G||e&&"closed"in e&&U(e.remove)&&U(e.add)&&U(e.unsubscribe)}function S(e){U(e)?e():e.unsubscribe()}const me={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gt={setTimeout(...e){const{delegate:n}=gt;return((null==n?void 0:n.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:n}=gt;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Oe(e){gt.setTimeout(()=>{const{onUnhandledError:n}=me;if(!n)throw e;n(e)})}function mt(){}const $i=As("C",void 0,void 0);function As(e,n,t){return{kind:e,value:n,error:t}}let ke=null;function Ne(e){if(me.useDeprecatedSynchronousErrorHandling){const n=!ke;if(n&&(ke={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=ke;if(ke=null,t)throw r}}else e()}class qe extends G{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,fe(n)&&n.add(this)):this.destination=ai}static create(n,t,r){return new ot(n,t,r)}next(n){this.isStopped?rr(As("N",n,void 0),this):this._next(n)}error(n){this.isStopped?rr(As("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?rr($i,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ot extends qe{constructor(n,t,r){let s;if(super(),U(n))s=n;else if(n){let c;({next:s,error:t,complete:r}=n),this&&me.useDeprecatedNextContext?(c=Object.create(n),c.unsubscribe=()=>this.unsubscribe()):c=n,s=null==s?void 0:s.bind(c),t=null==t?void 0:t.bind(c),r=null==r?void 0:r.bind(c)}this.destination={next:s?Pt(s):mt,error:Pt(null!=t?t:Vt),complete:r?Pt(r):mt}}}function Pt(e,n){return(...t)=>{try{e(...t)}catch(r){me.useDeprecatedSynchronousErrorHandling?function(e){me.useDeprecatedSynchronousErrorHandling&&ke&&(ke.errorThrown=!0,ke.error=e)}(r):Oe(r)}}}function Vt(e){throw e}function rr(e,n){const{onStoppedNotification:t}=me;t&&gt.setTimeout(()=>t(e,n))}const ai={closed:!0,next:mt,error:Vt,complete:mt},No="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ni(e){return e}let Ke=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,s){const c=function(e){return e&&e instanceof qe||function(e){return e&&U(e.next)&&U(e.error)&&U(e.complete)}(e)&&fe(e)}(t)?t:new ot(t,r,s);return Ne(()=>{const{operator:h,source:p}=this;c.add(h?h.call(c,p):p?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Wl(r))((s,c)=>{let h;h=this.subscribe(p=>{try{t(p)}catch(m){c(m),null==h||h.unsubscribe()}},c,s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[No](){return this}pipe(...t){return function(e){return 0===e.length?Ni:1===e.length?e[0]:function(t){return e.reduce((r,s)=>s(r),t)}}(t)(this)}toPromise(t){return new(t=Wl(t))((r,s)=>{let c;this.subscribe(h=>c=h,h=>s(h),()=>r(c))})}}return e.create=n=>new e(n),e})();function Wl(e){var n;return null!==(n=null!=e?e:me.Promise)&&void 0!==n?n:Promise}const D3=E(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ft=(()=>{class e extends Ke{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new x3(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new D3}next(t){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const s of r)s.next(t)}})}error(t){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:s,observers:c}=this;return r||s?V:(c.push(t),new G(()=>q(c,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:s,isStopped:c}=this;r?t.error(s):c&&t.complete()}asObservable(){const t=new Ke;return t.source=this,t}}return e.create=(n,t)=>new x3(n,t),e})();class x3 extends Ft{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:V}}function Yr(e){return U(null==e?void 0:e.lift)}function Ut(e){return n=>{if(Yr(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class At extends qe{constructor(n,t,r,s,c){super(n),this.onFinalize=c,this._next=t?function(h){try{t(h)}catch(p){n.error(p)}}:super._next,this._error=s?function(h){try{s(h)}catch(p){n.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function Be(e,n){return Ut((t,r)=>{let s=0;t.subscribe(new At(r,c=>{r.next(e.call(n,c,s++))}))})}function Po(e){return this instanceof Po?(this.v=e,this):new Po(e)}function S5(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=t.apply(e,n||[]),c=[];return s={},h("next"),h("throw"),h("return"),s[Symbol.asyncIterator]=function(){return this},s;function h(A){r[A]&&(s[A]=function(M){return new Promise(function(N,O){c.push([A,M,N,O])>1||p(A,M)})})}function p(A,M){try{!function(A){A.value instanceof Po?Promise.resolve(A.value.v).then(v,k):y(c[0][2],A)}(r[A](M))}catch(N){y(c[0][3],N)}}function v(A){p("next",A)}function k(A){p("throw",A)}function y(A,M){A(M),c.shift(),c.length&&p(c[0][0],c[0][1])}}function N5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(c){t[c]=e[c]&&function(h){return new Promise(function(p,m){!function(c,h,p,m){Promise.resolve(m).then(function(v){c({value:v,done:p})},h)}(p,m,(h=e[c](h)).done,h.value)})}}}const kc=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function P3(e){return U(null==e?void 0:e.then)}function ci(e){return U(e[No])}function Ql(e){return Symbol.asyncIterator&&U(null==e?void 0:e[Symbol.asyncIterator])}function Xl(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const z3="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function wc(e){return U(null==e?void 0:e[z3])}function Ln(e){return S5(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:s}=yield Po(t.read());if(s)return yield Po(void 0);yield yield Po(r)}}finally{t.releaseLock()}})}function xs(e){return U(null==e?void 0:e.getReader)}function Ve(e){if(e instanceof Ke)return e;if(null!=e){if(ci(e))return function(e){return new Ke(n=>{const t=e[No]();if(U(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(kc(e))return function(e){return new Ke(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(P3(e))return function(e){return new Ke(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Oe)})}(e);if(Ql(e))return yc(e);if(wc(e))return function(e){return new Ke(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(xs(e))return function(e){return yc(Ln(e))}(e)}throw Xl(e)}function yc(e){return new Ke(n=>{(function(e,n){var t,r,s,c;return function(e,n,t,r){return new(t||(t=Promise))(function(c,h){function p(k){try{v(r.next(k))}catch(y){h(y)}}function m(k){try{v(r.throw(k))}catch(y){h(y)}}function v(k){k.done?c(k.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(k.value).then(p,m)}v((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=N5(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(h){s={error:h}}finally{try{r&&!r.done&&(c=t.return)&&(yield c.call(t))}finally{if(s)throw s.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Dr(e,n,t,r=0,s=!1){const c=n.schedule(function(){t(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(c),!s)return c}function en(e,n,t=1/0){return U(n)?en((r,s)=>Be((c,h)=>n(r,c,s,h))(Ve(e(r,s))),t):("number"==typeof n&&(t=n),Ut((r,s)=>function(e,n,t,r,s,c,h,p){const m=[];let v=0,k=0,y=!1;const A=()=>{y&&!m.length&&!v&&n.complete()},M=O=>v<r?N(O):m.push(O),N=O=>{v++;let B=!1;Ve(t(O,k++)).subscribe(new At(n,j=>{n.next(j)},()=>{B=!0},void 0,()=>{if(B)try{for(v--;m.length&&v<r;){const j=m.shift();N(j)}A()}catch(j){n.error(j)}}))};return e.subscribe(new At(n,M,()=>{y=!0,A()})),()=>{}}(r,s,e,t)))}function La(e=1/0){return en(Ni,e)}const Wi=new Ke(e=>e.complete());function Fa(e){return e&&U(e.schedule)}function Es(e){return e[e.length-1]}function zo(e){return U(Es(e))?e.pop():void 0}function or(e){return Fa(Es(e))?e.pop():void 0}function Ac(e,n=0){return Ut((t,r)=>{t.subscribe(new At(r,s=>Dr(r,e,()=>r.next(s),n),()=>Dr(r,e,()=>r.complete(),n),s=>Dr(r,e,()=>r.error(s),n)))})}function ln(e,n=0){return Ut((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function n0(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ke(t=>{Dr(t,n,()=>{const r=e[Symbol.asyncIterator]();Dr(t,n,()=>{r.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function dn(e,n){return n?function(e,n){if(null!=e){if(ci(e))return function(e,n){return Ve(e).pipe(ln(n),Ac(n))}(e,n);if(kc(e))return function(e,n){return new Ke(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(P3(e))return function(e,n){return Ve(e).pipe(ln(n),Ac(n))}(e,n);if(Ql(e))return n0(e,n);if(wc(e))return function(e,n){return new Ke(t=>{let r;return Dr(t,n,()=>{r=e[z3](),Dr(t,n,()=>{let s,c;try{({value:s,done:c}=r.next())}catch(h){return void t.error(h)}c?t.complete():t.next(s)},0,!0)}),()=>U(null==r?void 0:r.return)&&r.return()})}(e,n);if(xs(e))return function(e,n){return n0(Ln(e),n)}(e,n)}throw Xl(e)}(e,n):Ve(e)}function Rn(e){return e<=0?()=>Wi:Ut((n,t)=>{let r=0;n.subscribe(new At(t,s=>{++r<=e&&(t.next(s),e<=r&&t.complete())}))})}function Dc(e,n,...t){return!0===n?(e(),null):!1===n?null:n(...t).pipe(Rn(1)).subscribe(()=>e())}function ut(e){for(let n in e)if(e[n]===ut)return n;throw Error("Could not find renamed property on target object.")}function r0(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function tt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(tt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function xc(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const L5=ut({__forward_ref__:ut});function nt(e){return e.__forward_ref__=nt,e.toString=function(){return tt(this())},e}function we(e){return B3(e)?e():e}function B3(e){return"function"==typeof e&&e.hasOwnProperty(L5)&&e.__forward_ref__===nt}class li extends Error{constructor(n,t){super(function(e,n){return`${e?`NG0${e}: `:""}${n}`}(n,t)),this.code=n}}function Se(e){return"string"==typeof e?e:null==e?"":String(e)}function Un(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Se(e)}function Mc(e,n){const t=n?` in ${n}`:"";throw new li("201",`No provider for ${Un(e)} found${t}`)}function ui(e,n){null==e&&function(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function je(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ts(e){return j3(e,Sc)||j3(e,U3)}function j3(e,n){return e.hasOwnProperty(n)?e[n]:null}function G3(e){return e&&(e.hasOwnProperty(l0)||e.hasOwnProperty(d0))?e[l0]:null}const Sc=ut({\u0275prov:ut}),l0=ut({\u0275inj:ut}),U3=ut({ngInjectableDef:ut}),d0=ut({ngInjectorDef:ut});var Te=(()=>((Te=Te||{})[Te.Default=0]="Default",Te[Te.Host=1]="Host",Te[Te.Self=2]="Self",Te[Te.SkipSelf=4]="SkipSelf",Te[Te.Optional=8]="Optional",Te))();let u0;function Mr(e){const n=u0;return u0=e,n}function W3(e,n,t){const r=Ts(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Te.Optional?null:void 0!==n?n:void Mc(tt(e),"Injector")}function Qr(e){return{toString:e}.toString()}var Ti=(()=>((Ti=Ti||{})[Ti.OnPush=0]="OnPush",Ti[Ti.Default=1]="Default",Ti))(),qi=(()=>{return(e=qi||(qi={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",qi;var e})();const K3="undefined"!=typeof globalThis&&globalThis,H5="undefined"!=typeof window&&window,J3="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bt=K3||"undefined"!=typeof global&&global||H5||J3,Xr={},ht=[],ja=ut({\u0275cmp:ut}),Nc=ut({\u0275dir:ut}),Tc=ut({\u0275pipe:ut}),h0=ut({\u0275mod:ut}),sr=ut({\u0275fac:ut}),Ga=ut({__NG_ELEMENT_ID__:ut});let B5=0;function _t(e){return Qr(()=>{const t={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ti.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||qi.Emulated,id:"c",styles:e.styles||ht,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,c=e.features,h=e.pipes;return r.id+=B5++,r.inputs=Ua(e.inputs,t),r.outputs=Ua(e.outputs),c&&c.forEach(p=>p(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(X3):null,r.pipeDefs=h?()=>("function"==typeof h?h():h).map(eo):null,r})}function X3(e){return Vn(e)||function(e){return e[Nc]||null}(e)}function eo(e){return function(e){return e[Tc]||null}(e)}const Ps={};function st(e){return Qr(()=>{const n={type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ps[e.id]=e.type),n})}function Ua(e,n){if(null==e)return Xr;const t={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],c=s;Array.isArray(s)&&(c=s[1],s=s[0]),t[s]=r,n&&(n[s]=c)}return t}const re=_t;function Vn(e){return e[ja]||null}function hi(e,n){const t=e[h0]||null;if(!t&&!0===n)throw new Error(`Type ${tt(e)} does not have '\u0275mod' property.`);return t}function ar(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ji(e){return Array.isArray(e)&&!0===e[1]}function Tn(e){return 0!=(8&e.flags)}function Ka(e){return 2==(2&e.flags)}function cr(e){return 1==(1&e.flags)}function Je(e){return null!==e.template}function Er(e){return 0!=(512&e[2])}function Bo(e,n){return e.hasOwnProperty(sr)?e[sr]:null}class Z5{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function tn(){return Ja}function Ja(e){return e.type.prototype.ngOnChanges&&(e.setInput=Y5),m0}function m0(){const e=Lc(this),n=null==e?void 0:e.current;if(n){const t=e.previous;if(t===Xr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Y5(e,n,t,r){const s=Lc(e)||function(e,n){return e[od]=n}(e,{previous:Xr,current:null}),c=s.current||(s.current={}),h=s.previous,p=this.declaredInputs[t],m=h[p];c[p]=new Z5(m&&m.currentValue,n,h===Xr),e[r]=n}tn.ngInherit=!0;const od="__ngSimpleChanges__";function Lc(e){return e[od]||null}let v0;function Za(){return void 0!==v0?v0:"undefined"!=typeof document?document:void 0}function at(e){return!!e.listen}const _0={createRenderer:(e,n)=>Za()};function qt(e){for(;Array.isArray(e);)e=e[0];return e}function Fc(e,n){return qt(n[e])}function _n(e,n){return qt(n[e.index])}function _e(e,n){return e.data[n]}function $n(e,n){const t=n[e];return ar(t)?t:t[0]}function Ii(e){return 4==(4&e[2])}function Ya(e){return 128==(128&e[2])}function lr(e,n){return null==n?null:e[n]}function ld(e){e[18]=0}function jo(e,n){e[5]+=n;let t=e,r=e[3];for(;null!==r&&(1===n&&1===t[5]||-1===n&&0===t[5]);)r[5]+=n,t=r,r=r[3]}const be={lFrame:x0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function dd(){return be.bindingsEnabled}function Q(){return be.lFrame.lView}function We(){return be.lFrame.tView}function Ge(e){return be.lFrame.contextLView=e,e[8]}function hn(){let e=hd();for(;null!==e&&64===e.type;)e=e.parent;return e}function hd(){return be.lFrame.currentTNode}function dr(e,n){const t=be.lFrame;t.currentTNode=e,t.isParent=n}function Pi(){return be.lFrame.isParent}function Qa(){be.lFrame.isParent=!1}function Xa(){return be.isInCheckNoChangesMode}function jc(e){be.isInCheckNoChangesMode=e}function ur(){return be.lFrame.bindingIndex}function zi(){return be.lFrame.bindingIndex++}function hr(e){const n=be.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function md(e,n){const t=be.lFrame;t.bindingIndex=t.bindingRootIndex=e,Gc(n)}function Gc(e){be.lFrame.currentDirectiveIndex=e}function bd(){return be.lFrame.currentQueryIndex}function e1(e){be.lFrame.currentQueryIndex=e}function t1(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function A0(e,n,t){if(t&Te.SkipSelf){let s=n,c=e;for(;!(s=s.parent,null!==s||t&Te.Host||(s=t1(c),null===s||(c=c[15],10&s.type))););if(null===s)return!1;n=s,e=c}const r=be.lFrame=D0();return r.currentTNode=n,r.lView=e,!0}function fn(e){const n=D0(),t=e[1];be.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function D0(){const e=be.lFrame,n=null===e?null:e.child;return null===n?x0(e):n}function x0(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function M0(){const e=be.lFrame;return be.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const n1=M0;function Fn(){const e=M0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qn(){return be.lFrame.selectedIndex}function Nr(e){be.lFrame.selectedIndex=e}function Ht(){const e=be.lFrame;return _e(e.tView,e.selectedIndex)}function i1(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const c=e.data[t].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:p,ngAfterViewInit:m,ngAfterViewChecked:v,ngOnDestroy:k}=c;h&&(e.contentHooks||(e.contentHooks=[])).push(-t,h),p&&((e.contentHooks||(e.contentHooks=[])).push(t,p),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,p)),m&&(e.viewHooks||(e.viewHooks=[])).push(-t,m),v&&((e.viewHooks||(e.viewHooks=[])).push(t,v),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,v)),null!=k&&(e.destroyHooks||(e.destroyHooks=[])).push(t,k)}}function r1(e,n,t){qc(e,n,3,t)}function Wc(e,n,t,r){(3&e[2])===t&&qc(e,n,t,r)}function nn(e,n){let t=e[2];(3&t)===n&&(t&=2047,t+=1,e[2]=t)}function qc(e,n,t,r){const c=null!=r?r:-1,h=n.length-1;let p=0;for(let m=void 0!==r?65535&e[18]:0;m<h;m++)if("number"==typeof n[m+1]){if(p=n[m],null!=r&&p>=r)break}else n[m]<0&&(e[18]+=65536),(p<c||-1==c)&&(o1(e,t,n,m),e[18]=(4294901760&e[18])+m+2),m++}function o1(e,n,t,r){const s=t[r]<0,c=t[r+1],p=e[s?-t[r]:t[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{c.call(p)}finally{}}}else try{c.call(p)}finally{}}class s1{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function a1(e,n,t){const r=at(e);let s=0;for(;s<t.length;){const c=t[s];if("number"==typeof c){if(0!==c)break;s++;const h=t[s++],p=t[s++],m=t[s++];r?e.setAttribute(n,p,m,h):n.setAttributeNS(h,p,m)}else{const h=c,p=t[++s];N0(h)?r&&e.setProperty(n,h,p):r?e.setAttribute(n,h,p):n.setAttribute(h,p),s++}}return s}function Tr(e){return 3===e||4===e||6===e}function N0(e){return 64===e.charCodeAt(0)}function Yc(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const s=n[r];"number"==typeof s?t=s:0===t||c1(e,t,s,null,-1===t||2===t?n[++r]:null)}}return e}function c1(e,n,t,r,s){let c=0,h=e.length;if(-1===n)h=-1;else for(;c<e.length;){const p=e[c++];if("number"==typeof p){if(p===n){h=-1;break}if(p>n){h=c-1;break}}}for(;c<e.length;){const p=e[c];if("number"==typeof p)break;if(p===t){if(null===r)return void(null!==s&&(e[c+1]=s));if(r===e[c+1])return void(e[c+2]=s)}c++,null!==r&&c++,null!==s&&c++}-1!==h&&(e.splice(h,0,n),c=h+1),e.splice(c++,0,t),null!==r&&e.splice(c++,0,r),null!==s&&e.splice(c++,0,s)}function Ad(e){return-1!==e}function Ls(e){return 32767&e}function Uo(e,n){let t=function(e){return e>>16}(e),r=n;for(;t>0;)r=r[15],t--;return r}let T0=!0;function Qc(e){const n=T0;return T0=e,n}let lf=0;function Rs(e,n){const t=Vs(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,e2(r.data,e),e2(n,null),e2(r.blueprint,null));const s=l1(e,n),c=e.injectorIndex;if(Ad(s)){const h=Ls(s),p=Uo(s,n),m=p[1].data;for(let v=0;v<8;v++)n[c+v]=p[h+v]|m[h+v]}return n[c+8]=s,c}function e2(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Vs(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function l1(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,s=n;for(;null!==s;){const c=s[1],h=c.type;if(r=2===h?c.declTNode:1===h?s[6]:null,null===r)return-1;if(t++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function t2(e,n,t){!function(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ga)&&(r=t[Ga]),null==r&&(r=t[Ga]=lf++);const s=255&r;n.data[e+(s>>5)]|=1<<s}(e,n,t)}function Md(e,n,t){if(t&Te.Optional)return e;Mc(n,"NodeInjector")}function I0(e,n,t,r){if(t&Te.Optional&&void 0===r&&(r=null),0==(t&(Te.Self|Te.Host))){const s=e[9],c=Mr(void 0);try{return s?s.get(n,r,t&Te.Optional):W3(n,r,t&Te.Optional)}finally{Mr(c)}}return Md(r,n,t)}function n2(e,n,t,r=Te.Default,s){if(null!==e){const c=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ga)?e[Ga]:void 0;return"number"==typeof n?n>=0?255&n:uf:n}(t);if("function"==typeof c){if(!A0(n,e,r))return r&Te.Host?Md(s,t,r):I0(n,t,r,s);try{const h=c(r);if(null!=h||r&Te.Optional)return h;Mc(t)}finally{n1()}}else if("number"==typeof c){let h=null,p=Vs(e,n),m=-1,v=r&Te.Host?n[16][6]:null;for((-1===p||r&Te.SkipSelf)&&(m=-1===p?l1(e,n):n[p+8],-1!==m&&Sd(r,!1)?(h=n[1],p=Ls(m),n=Uo(m,n)):p=-1);-1!==p;){const k=n[1];if(Ed(c,p,k.data)){const y=P0(p,n,t,h,r,v);if(y!==ao)return y}m=n[p+8],-1!==m&&Sd(r,n[1].data[p+8]===v)&&Ed(c,p,n)?(h=k,p=Ls(m),n=Uo(m,n)):p=-1}}}return I0(n,t,r,s)}const ao={};function uf(){return new Fs(hn(),Q())}function P0(e,n,t,r,s,c){const h=n[1],p=h.data[e+8],k=r2(p,h,t,null==r?Ka(p)&&T0:r!=h&&0!=(3&p.type),s&Te.Host&&c===p);return null!==k?d1(n,h,k,p):ao}function r2(e,n,t,r,s){const c=e.providerIndexes,h=n.data,p=1048575&c,m=e.directiveStart,k=c>>20,A=s?p+k:e.directiveEnd;for(let M=r?p:p+k;M<A;M++){const N=h[M];if(M<m&&t===N||M>=m&&N.type===t)return M}if(s){const M=h[m];if(M&&Je(M)&&M.type===t)return m}return null}function d1(e,n,t,r){let s=e[t];const c=n.data;if(function(e){return e instanceof s1}(s)){const h=s;h.resolving&&function(e,n){throw new li("200",`Circular dependency in DI detected for ${e}`)}(Un(c[t]));const p=Qc(h.canSeeViewProviders);h.resolving=!0;const m=h.injectImpl?Mr(h.injectImpl):null;A0(e,r,Te.Default);try{s=e[t]=h.factory(void 0,c,e,r),n.firstCreatePass&&t>=r.directiveStart&&function(e,n,t){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:c}=n.type.prototype;if(r){const h=Ja(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,h),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,h)}s&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,s),c&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,c),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,c))}(t,c[t],n)}finally{null!==m&&Mr(m),Qc(p),h.resolving=!1,n1()}}return s}function Ed(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function Sd(e,n){return!(e&Te.Self||e&Te.Host&&n)}class Fs{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return n2(this._tNode,this._lView,n,r,t)}}function mi(e){return Qr(()=>{const n=e.prototype.constructor,t=n[sr]||z0(n),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const c=s[sr]||z0(s);if(c&&c!==t)return c;s=Object.getPrototypeOf(s)}return c=>new c})}function z0(e){return B3(e)?()=>{const n=z0(we(e));return n&&n()}:Bo(e)}function co(e){return function(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let s=0;for(;s<r;){const c=t[s];if(Tr(c))break;if(0===c)s+=2;else if("number"==typeof c)for(s++;s<r&&"string"==typeof t[s];)s++;else{if(c===n)return t[s+1];s+=2}}}return null}(hn(),e)}const Bs="__parameters__";function js(e,n,t){return Qr(()=>{const r=function(e){return function(...t){if(e){const r=e(...t);for(const s in r)this[s]=r[s]}}}(n);function s(...c){if(this instanceof s)return r.apply(this,c),this;const h=new s(...c);return p.annotation=h,p;function p(m,v,k){const y=m.hasOwnProperty(Bs)?m[Bs]:Object.defineProperty(m,Bs,{value:[]})[Bs];for(;y.length<=k;)y.push(null);return(y[k]=y[k]||[]).push(h),m}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class ze{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ge({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Td=new ze("AnalyzeForEntryComponents");function bi(e,n){void 0===n&&(n=e);for(let t=0;t<e.length;t++){let r=e[t];Array.isArray(r)?(n===e&&(n=e.slice(0,t)),bi(r,n)):n!==e&&n.push(r)}return n}function fr(e,n){e.forEach(t=>Array.isArray(t)?fr(t,n):n(t))}function V0(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function u1(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Us(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function gn(e,n,t){let r=Kn(e,n);return r>=0?e[1|r]=t:(r=~r,function(e,n,t,r){let s=e.length;if(s==n)e.push(t,r);else if(1===s)e.push(r,e[0]),e[0]=t;else{for(s--,e.push(e[s-1],e[s]);s>n;)e[s]=e[s-2],s--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function ft(e,n){const t=Kn(e,n);if(t>=0)return e[1|t]}function Kn(e,n){return function(e,n,t){let r=0,s=e.length>>t;for(;s!==r;){const c=r+(s-r>>1),h=e[c<<t];if(n===h)return c<<t;h>n?s=c:r=c+1}return~(s<<t)}(e,n,1)}const uo={},f1="__NG_DI_FLAG__",o2="ngTempTokenPath",kf=/\n/gm,$0="__source",wf=ut({provide:String,useValue:ut});let qs;function s2(e){const n=qs;return qs=e,n}function zr(e,n=Te.Default){if(void 0===qs)throw new Error("inject() must be called from an injection context");return null===qs?W3(e,void 0,n):qs.get(e,n&Te.Optional?null:void 0,n)}function oe(e,n=Te.Default){return(u0||zr)(we(e),n)}function vi(e){const n=[];for(let t=0;t<e.length;t++){const r=we(e[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let s,c=Te.Default;for(let h=0;h<r.length;h++){const p=r[h],m=c2(p);"number"==typeof m?-1===m?s=p.token:c|=m:s=p}n.push(oe(s,c))}else n.push(oe(r))}return n}function p1(e,n){return e[f1]=n,e.prototype[f1]=n,e}function c2(e){return e[f1]}const g1=p1(js("Inject",e=>({token:e})),-1),Zi=p1(js("Optional"),8),Or=p1(js("SkipSelf"),4);let _1,l2;function Ks(e){var n;return(null===(n=function(){if(void 0===_1&&(_1=null,bt.trustedTypes))try{_1=bt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return _1}())||void 0===n?void 0:n.createHTML(e))||e}function Fd(e){var n;return(null===(n=function(){if(void 0===l2&&(l2=null,bt.trustedTypes))try{l2=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return l2}())||void 0===n?void 0:n.createHTML(e))||e}class Jo{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bd extends Jo{getTypeName(){return"HTML"}}class jd extends Jo{getTypeName(){return"Style"}}class Nf extends Jo{getTypeName(){return"Script"}}class Tf extends Jo{getTypeName(){return"URL"}}class Gd extends Jo{getTypeName(){return"ResourceURL"}}function _i(e){return e instanceof Jo?e.changingThisBreaksApplicationSecurity:e}function Oi(e,n){const t=Q0(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===n}function Q0(e){return e instanceof Jo&&e.getTypeName()||null}class $d{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(Ks(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class C1{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(n){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ks(n),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ks(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const t=n.attributes;for(let s=t.length-1;0<s;s--){const h=t.item(s).name;("xmlns:ns1"===h||0===h.indexOf("ns1:"))&&n.removeAttribute(h)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Wd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function w1(e){return(e=String(e)).match(Wd)||e.match(Kt)?e:"unsafe:"+e}function dt(e){return(e=String(e)).split(",").map(n=>w1(n.trim())).join(", ")}function Ct(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function Cn(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const Jn=Ct("area,br,col,hr,img,wbr"),gr=Ct("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jt=Ct("rp,rt"),u2=Cn(Jn,Cn(gr,Ct("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cn(Jt,Ct("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cn(Jt,gr)),h2=Ct("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zo=Ct("srcset"),Kd=Cn(h2,Zo,Ct("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ct("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jd=Ct("script,style,template");class zf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=this.checkClobberedElement(t,t.nextSibling);if(s){t=s;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!u2.hasOwnProperty(t))return this.sanitizedSomething=!0,!Jd.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let s=0;s<r.length;s++){const c=r.item(s),h=c.name,p=h.toLowerCase();if(!Kd.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let m=c.value;h2[p]&&(m=w1(m)),Zo[p]&&(m=dt(m)),this.buf.push(" ",h,'="',e4(m),'"')}return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();u2.hasOwnProperty(t)&&!Jn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(e4(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const Of=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lf=/([^\#-~ |!])/g;function e4(e){return e.replace(/&/g,"&amp;").replace(Of,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Lf,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let y1;function f2(e,n){let t=null;try{y1=y1||function(e){const n=new C1(e);return function(){try{return!!(new window.DOMParser).parseFromString(Ks(""),"text/html")}catch(e){return!1}}()?new $d(n):n}(e);let r=n?String(n):"";t=y1.getInertBodyElement(r);let s=5,c=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=c,c=t.innerHTML,t=y1.getInertBodyElement(r)}while(r!==c);return Ks((new zf).sanitizeChildren(p2(t)||t))}finally{if(t){const r=p2(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function p2(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var kt=(()=>((kt=kt||{})[kt.NONE=0]="NONE",kt[kt.HTML=1]="HTML",kt[kt.STYLE=2]="STYLE",kt[kt.SCRIPT=3]="SCRIPT",kt[kt.URL=4]="URL",kt[kt.RESOURCE_URL=5]="RESOURCE_URL",kt))();function Yo(e){const n=Zs();return n?Fd(n.sanitize(kt.HTML,e)||""):Oi(e,"HTML")?Fd(_i(e)):f2(Za(),Se(e))}function Ci(e){const n=Zs();return n?n.sanitize(kt.URL,e)||"":Oi(e,"URL")?_i(e):w1(Se(e))}function Zs(){const e=Q();return e&&e[12]}const eu="__ngContext__";function Bn(e,n){e[eu]=n}function m2(e){const n=function(e){return e[eu]||null}(e);return n?Array.isArray(n)?n:n.lView:null}function s4(e){return e.ngOriginalError}function Jf(e,...n){e.error(...n)}class Ys{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n),r=(e=n)&&e.ngErrorLogger||Jf;var e;r(this._console,"ERROR",n),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&s4(n);for(;t&&s4(t);)t=s4(t);return t||null}}const Xe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bt))();function ki(e){return e instanceof Function?e():e}var ei=(()=>((ei=ei||{})[ei.Important=1]="Important",ei[ei.DashCase=2]="DashCase",ei))();function v2(e,n){return undefined(e,n)}function Xs(e){const n=e[3];return Ji(n)?n[3]:n}function M1(e){return c4(e[13])}function E1(e){return c4(e[4])}function c4(e){for(;null!==e&&!Ji(e);)e=e[4];return e}function es(e,n,t,r,s){if(null!=r){let c,h=!1;Ji(r)?c=r:ar(r)&&(h=!0,r=r[0]);const p=qt(r);0===e&&null!==t?null==s?p4(n,t,p):ts(n,t,p,s||null,!0):1===e&&null!==t?ts(n,t,p,s||null,!0):2===e?function(e,n,t){const r=w2(e,n);r&&function(e,n,t,r){at(e)?e.removeChild(n,t,r):n.removeChild(t)}(e,r,n,t)}(n,p,h):3===e&&n.destroyNode(p),null!=c&&function(e,n,t,r,s){const c=t[7];c!==qt(t)&&es(n,e,r,c,s);for(let p=10;p<t.length;p++){const m=t[p];N1(m[1],m,e,n,r,c)}}(n,e,c,t,s)}}function u4(e,n,t){return at(e)?e.createElement(n,t):null===t?e.createElement(n):e.createElementNS(t,n)}function _2(e,n){const t=e[9],r=t.indexOf(n),s=n[3];1024&n[2]&&(n[2]&=-1025,jo(s,-1)),t.splice(r,1)}function ea(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const s=r[17];null!==s&&s!==e&&_2(s,r),n>0&&(e[t-1][4]=r[4]);const c=u1(e,10+n);!function(e,n){N1(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const h=c[19];null!==h&&h.detachView(c[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function C2(e,n){if(!(256&n[2])){const t=n[11];at(t)&&t.destroyNode&&N1(e,n,t,3,null,null),function(e){let n=e[13];if(!n)return k2(e[1],e);for(;n;){let t=null;if(ar(n))t=n[13];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)ar(n)&&k2(n[1],n),n=n[3];null===n&&(n=e),ar(n)&&k2(n[1],n),t=n&&n[4]}n=t}}(n)}}function k2(e,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const s=n[t[r]];if(!(s instanceof s1)){const c=t[r+1];if(Array.isArray(c))for(let h=0;h<c.length;h+=2){const p=s[c[h]],m=c[h+1];try{m.call(p)}finally{}}else try{c.call(s)}finally{}}}}(e,n),function(e,n){const t=e.cleanup,r=n[7];let s=-1;if(null!==t)for(let c=0;c<t.length-1;c+=2)if("string"==typeof t[c]){const h=t[c+1],p="function"==typeof h?h(n):qt(n[h]),m=r[s=t[c+2]],v=t[c+3];"boolean"==typeof v?p.removeEventListener(t[c],m,v):v>=0?r[s=v]():r[s=-v].unsubscribe(),c+=2}else{const h=r[s=t[c+1]];t[c].call(h)}if(null!==r){for(let c=s+1;c<r.length;c++)r[c]();n[7]=null}}(e,n),1===n[1].type&&at(n[11])&&n[11].destroy();const t=n[17];if(null!==t&&Ji(n[3])){t!==n[3]&&_2(t,n);const r=n[19];null!==r&&r.detachView(e)}}}function h4(e,n,t){return function(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[0];if(2&r.flags){const s=e.data[r.directiveStart].encapsulation;if(s===qi.None||s===qi.Emulated)return null}return _n(r,t)}(e,n.parent,t)}function ts(e,n,t,r,s){at(e)?e.insertBefore(n,t,r,s):n.insertBefore(t,r,s)}function p4(e,n,t){at(e)?e.appendChild(n,t):n.appendChild(t)}function uu(e,n,t,r,s){null!==r?ts(e,n,t,r,s):p4(e,n,t)}function w2(e,n){return at(e)?e.parentNode(n):n.parentNode}function y2(e,n,t){return m4(e,n,t)}let m4=function(e,n,t){return 40&e.type?_n(e,t):null};function D2(e,n,t,r){const s=h4(e,r,n),c=n[11],p=y2(r.parent||n[6],r,n);if(null!=s)if(Array.isArray(t))for(let m=0;m<t.length;m++)uu(c,s,t[m],p,!1);else uu(c,s,t,p,!1)}function S1(e,n){if(null!==n){const t=n.type;if(3&t)return _n(n,e);if(4&t)return v4(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return S1(e,r);{const s=e[n.index];return Ji(s)?v4(-1,s):qt(s)}}if(32&t)return v2(n,e)()||qt(e[n.index]);{const r=b4(e,n);return null!==r?Array.isArray(r)?r[0]:S1(Xs(e[16]),r):S1(e,n.next)}}return null}function b4(e,n){return null!==n?e[16][6].projection[n.projection]:null}function v4(e,n){const t=10+e+1;if(t<n.length){const r=n[t],s=r[1].firstChild;if(null!==s)return S1(r,s)}return n[7]}function C4(e,n,t,r,s,c,h){for(;null!=t;){const p=r[t.index],m=t.type;if(h&&0===n&&(p&&Bn(qt(p),r),t.flags|=4),64!=(64&t.flags))if(8&m)C4(e,n,t.child,r,s,c,!1),es(n,e,s,p,c);else if(32&m){const v=v2(t,r);let k;for(;k=v();)es(n,e,s,k,c);es(n,e,s,p,c)}else 16&m?k4(e,n,r,t,s,c):es(n,e,s,p,c);t=h?t.projectionNext:t.next}}function N1(e,n,t,r,s,c){C4(t,r,e.firstChild,n,s,c,!1)}function k4(e,n,t,r,s,c){const h=t[16],m=h[6].projection[r.projection];if(Array.isArray(m))for(let v=0;v<m.length;v++)es(n,e,s,m[v],c);else C4(e,n,m,h[3],s,c,!0)}function pu(e,n,t){at(e)?e.setAttribute(n,"style",t):n.style.cssText=t}function w4(e,n,t){at(e)?""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t):n.className=t}function y4(e,n,t){let r=e.length;for(;;){const s=e.indexOf(n,t);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const c=n.length;if(s+c===r||e.charCodeAt(s+c)<=32)return s}t=s+1}}const A4="ng-template";function up(e,n,t){let r=0;for(;r<e.length;){let s=e[r++];if(t&&"class"===s){if(s=e[r],-1!==y4(s.toLowerCase(),n,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===n)return!0;return!1}}return!1}function ns(e){return 4===e.type&&e.value!==A4}function D4(e,n,t){return n===(4!==e.type||t?e.value:A4)}function x4(e,n,t){let r=4;const s=e.attrs||[],c=function(e){for(let n=0;n<e.length;n++)if(Tr(e[n]))return n;return e.length}(s);let h=!1;for(let p=0;p<n.length;p++){const m=n[p];if("number"!=typeof m){if(!h)if(4&r){if(r=2|1&r,""!==m&&!D4(e,m,t)||""===m&&1===n.length){if(Vi(r))return!1;h=!0}}else{const v=8&r?m:n[++p];if(8&r&&null!==e.attrs){if(!up(e.attrs,v,t)){if(Vi(r))return!1;h=!0}continue}const y=hp(8&r?"class":m,s,ns(e),t);if(-1===y){if(Vi(r))return!1;h=!0;continue}if(""!==v){let A;A=y>c?"":s[y+1].toLowerCase();const M=8&r?A:null;if(M&&-1!==y4(M,v,0)||2&r&&v!==A){if(Vi(r))return!1;h=!0}}}}else{if(!h&&!Vi(r)&&!Vi(m))return!1;if(h&&Vi(m))continue;h=!1,r=m|1&r}}return Vi(r)||h}function Vi(e){return 0==(1&e)}function hp(e,n,t,r){if(null===n)return-1;let s=0;if(r||!t){let c=!1;for(;s<n.length;){const h=n[s];if(h===e)return s;if(3===h||6===h)c=!0;else{if(1===h||2===h){let p=n[++s];for(;"string"==typeof p;)p=n[++s];continue}if(4===h)break;if(0===h){s+=4;continue}}s+=c?1:2}return-1}return function(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function gu(e,n,t=!1){for(let r=0;r<n.length;r++)if(x4(e,n[r],t))return!0;return!1}function pp(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let s=0;s<e.length;s++)if(e[s]!==r[s])continue e;return!0}}return!1}function vu(e,n){return e?":not("+n.trim()+")":n}function gp(e){let n=e[0],t=1,r=2,s="",c=!1;for(;t<e.length;){let h=e[t];if("string"==typeof h)if(2&r){const p=e[++t];s+="["+h+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?s+="."+h:4&r&&(s+=" "+h);else""!==s&&!Vi(h)&&(n+=vu(c,s),s=""),r=h,c=c||!Vi(r);t++}return""!==s&&(n+=vu(c,s)),n}const Me={};function K(e){Cu(We(),Q(),qn()+e,Xa())}function Cu(e,n,t,r){if(!r)if(3==(3&n[2])){const c=e.preOrderCheckHooks;null!==c&&r1(n,c,t)}else{const c=e.preOrderHooks;null!==c&&Wc(n,c,0,t)}Nr(t)}function x2(e,n){return e<<17|n<<2}function Yi(e){return e>>17&32767}function E2(e){return 2|e}function Vr(e){return(131068&e)>>2}function S2(e,n){return-131069&e|n<<2}function Ye(e){return 1|e}function Su(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r],c=t[r+1];if(-1!==c){const h=e.data[c];e1(s),h.contentQueries(2,n[c],c)}}}function ia(e,n,t,r,s,c,h,p,m,v){const k=n.blueprint.slice();return k[0]=s,k[2]=140|r,ld(k),k[3]=k[15]=e,k[8]=t,k[10]=h||e&&e[10],k[11]=p||e&&e[11],k[12]=m||e&&e[12]||null,k[9]=v||e&&e[9]||null,k[6]=c,k[16]=2==n.type?e[16]:k,k}function rs(e,n,t,r,s){let c=e.data[n];if(null===c)c=function(e,n,t,r,s){const c=hd(),h=Pi(),m=e.data[n]=function(e,n,t,r,s,c){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?c:c&&c.parent,t,n,r,s);return null===e.firstChild&&(e.firstChild=m),null!==c&&(h?null==c.child&&null!==m.parent&&(c.child=m):null===c.next&&(c.next=m)),m}(e,n,t,r,s),be.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=t,c.value=r,c.attrs=s;const h=function(){const e=be.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();c.injectorIndex=null===h?-1:h.injectorIndex}return dr(c,!0),c}function po(e,n,t,r){if(0===t)return-1;const s=n.length;for(let c=0;c<t;c++)n.push(r),e.blueprint.push(r),e.data.push(null);return s}function I1(e,n,t){fn(n);try{const r=e.viewQuery;null!==r&&bo(1,r,t);const s=e.template;null!==s&&Nu(e,n,s,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Su(e,n),e.staticViewQueries&&bo(2,e.viewQuery,t);const c=e.components;null!==c&&function(e,n){for(let t=0;t<n.length;t++)ju(e,n[t])}(n,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,Fn()}}function ra(e,n,t,r){const s=n[2];if(256==(256&s))return;fn(n);const c=Xa();try{ld(n),function(e){be.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Nu(e,n,t,2,r);const h=3==(3&s);if(!c)if(h){const v=e.preOrderCheckHooks;null!==v&&r1(n,v,null)}else{const v=e.preOrderHooks;null!==v&&Wc(n,v,0,null),nn(n,0)}if(function(e){for(let n=M1(e);null!==n;n=E1(n)){if(!n[2])continue;const t=n[9];for(let r=0;r<t.length;r++){const s=t[r],c=s[3];0==(1024&s[2])&&jo(c,1),s[2]|=1024}}}(n),function(e){for(let n=M1(e);null!==n;n=E1(n))for(let t=10;t<n.length;t++){const r=n[t],s=r[1];Ya(r)&&ra(s,r,s.template,r[8])}}(n),null!==e.contentQueries&&Su(e,n),!c)if(h){const v=e.contentCheckHooks;null!==v&&r1(n,v)}else{const v=e.contentHooks;null!==v&&Wc(n,v,1),nn(n,1)}!function(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)Nr(~s);else{const c=s,h=t[++r],p=t[++r];md(h,c),p(2,n[c])}}}finally{Nr(-1)}}(e,n);const p=e.components;null!==p&&function(e,n){for(let t=0;t<n.length;t++)oa(e,n[t])}(n,p);const m=e.viewQuery;if(null!==m&&bo(2,m,r),!c)if(h){const v=e.viewCheckHooks;null!==v&&r1(n,v)}else{const v=e.viewHooks;null!==v&&Wc(n,v,2),nn(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),c||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,jo(n[3],-1))}finally{Fn()}}function L4(e,n,t,r){const s=n[10],c=!Xa(),h=Ii(n);try{c&&!h&&s.begin&&s.begin(),h&&I1(e,n,r),ra(e,n,t,r)}finally{c&&!h&&s.end&&s.end()}}function Nu(e,n,t,r,s){const c=qn(),h=2&r;try{Nr(-1),h&&n.length>20&&Cu(e,n,20,Xa()),t(r,s)}finally{Nr(c)}}function go(e,n,t){!dd()||(function(e,n,t,r){const s=t.directiveStart,c=t.directiveEnd;e.firstCreatePass||Rs(t,n),Bn(r,n);const h=t.initialInputs;for(let p=s;p<c;p++){const m=e.data[p],v=Je(m);v&&Fu(n,t,m);const k=d1(n,e,p,t);Bn(k,n),null!==h&&zp(0,p-s,k,m,0,h),v&&($n(t.index,n)[8]=k)}}(e,n,t,_n(t,n)),128==(128&t.flags)&&function(e,n,t){const r=t.directiveStart,s=t.directiveEnd,h=t.index,p=be.lFrame.currentDirectiveIndex;try{Nr(h);for(let m=r;m<s;m++){const v=e.data[m],k=n[m];Gc(m),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&F4(v,k)}}finally{Nr(-1),Gc(p)}}(e,n,t))}function R2(e,n,t=_n){const r=n.localNames;if(null!==r){let s=n.index+1;for(let c=0;c<r.length;c+=2){const h=r[c+1],p=-1===h?t(n,e):e[h];e[s++]=p}}}function P1(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=z1(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function z1(e,n,t,r,s,c,h,p,m,v){const k=20+r,y=k+s,A=function(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Me);return t}(k,y),M="function"==typeof v?v():v;return A[1]={type:e,blueprint:A,template:t,queries:null,viewQuery:p,declTNode:n,data:A.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:m,consts:M,incompleteFirstPass:!1}}function Tu(e,n,t,r){const s=$u(n);null===t?s.push(r):(s.push(t),e.firstCreatePass&&G2(e).push(r,s.length-1))}function V2(e,n,t){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(n,s):t[r]=[n,s]}return t}function wi(e,n,t,r,s,c,h,p){const m=_n(n,t);let k,v=n.inputs;!p&&null!=v&&(k=v[r])?(W2(e,t,k,r,s),Ka(n)&&function(e,n){const t=$n(n,e);16&t[2]||(t[2]|=64)}(t,n.index)):3&n.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=h?h(s,n.value||"",r):s,at(c)?c.setProperty(m,r,s):N0(r)||(m.setProperty?m.setProperty(r,s):m[r]=s))}function F2(e,n,t,r){let s=!1;if(dd()){const c=function(e,n,t){const r=e.directiveRegistry;let s=null;if(r)for(let c=0;c<r.length;c++){const h=r[c];gu(t,h.selectors,!1)&&(s||(s=[]),t2(Rs(t,n),e,h.type),Je(h)?(B4(e,t),s.unshift(h)):s.push(h))}return s}(e,n,t),h=null===r?null:{"":-1};if(null!==c){s=!0,R1(t,e.data.length,c.length);for(let k=0;k<c.length;k++){const y=c[k];y.providersResolver&&y.providersResolver(y)}let p=!1,m=!1,v=po(e,n,c.length,null);for(let k=0;k<c.length;k++){const y=c[k];t.mergedAttrs=Yc(t.mergedAttrs,y.hostAttrs),V1(e,t,n,v,y),G4(v,y,h),null!==y.contentQueries&&(t.flags|=8),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(t.flags|=128);const A=y.type.prototype;!p&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),p=!0),!m&&(A.ngOnChanges||A.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),m=!0),v++}!function(e,n){const r=n.directiveEnd,s=e.data,c=n.attrs,h=[];let p=null,m=null;for(let v=n.directiveStart;v<r;v++){const k=s[v],y=k.inputs,A=null===c||ns(n)?null:Hu(y,c);h.push(A),p=V2(y,v,p),m=V2(k.outputs,v,m)}null!==p&&(p.hasOwnProperty("class")&&(n.flags|=16),p.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=h,n.inputs=p,n.outputs=m}(e,t)}h&&function(e,n,t){if(n){const r=e.localNames=[];for(let s=0;s<n.length;s+=2){const c=t[n[s+1]];if(null==c)throw new li("301",`Export of name '${n[s+1]}' not found!`);r.push(n[s],c)}}}(t,r,h)}return t.mergedAttrs=Yc(t.mergedAttrs,t.attrs),s}function V4(e,n,t,r,s,c){const h=c.hostBindings;if(h){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const m=~n.index;(function(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(p)!=m&&p.push(m),p.push(r,s,h)}}function F4(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function B4(e,n){n.flags|=2,(e.components||(e.components=[])).push(n.index)}function G4(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Je(n)&&(t[""]=e)}}function R1(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function V1(e,n,t,r,s){e.data[r]=s;const c=s.factory||(s.factory=Bo(s.type)),h=new s1(c,Je(s),null);e.blueprint[r]=h,t[r]=h,V4(e,n,0,r,po(e,t,s.hostVars,Me),s)}function Fu(e,n,t){const r=_n(n,e),s=P1(t),c=e[10],h=os(e,ia(e,s,null,t.onPush?64:16,r,n,c,c.createRenderer(r,t),null,null));e[n.index]=h}function mr(e,n,t,r,s,c){const h=_n(e,n);!function(e,n,t,r,s,c,h){if(null==c)at(e)?e.removeAttribute(n,s,t):n.removeAttribute(s);else{const p=null==h?Se(c):h(c,r||"",s);at(e)?e.setAttribute(n,s,p,t):t?n.setAttributeNS(t,s,p):n.setAttribute(s,p)}}(n[11],h,c,e.value,t,r,s)}function zp(e,n,t,r,s,c){const h=c[n];if(null!==h){const p=r.setInput;for(let m=0;m<h.length;){const v=h[m++],k=h[m++],y=h[m++];null!==p?r.setInput(t,y,v,k):t[k]=y}}}function Hu(e,n){let t=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===t&&(t=[]),t.push(s,e[s],n[r+1])),r+=2}else r+=2;else r+=4}return t}function Bu(e,n,t,r){return new Array(e,!0,!1,n,null,0,r,t,null,null)}function oa(e,n){const t=$n(n,e);if(Ya(t)){const r=t[1];80&t[2]?ra(r,t,r.template,t[8]):t[5]>0&&mo(t)}}function mo(e){for(let r=M1(e);null!==r;r=E1(r))for(let s=10;s<r.length;s++){const c=r[s];if(1024&c[2]){const h=c[1];ra(h,c,h.template,c[8])}else c[5]>0&&mo(c)}const t=e[1].components;if(null!==t)for(let r=0;r<t.length;r++){const s=$n(t[r],e);Ya(s)&&s[5]>0&&mo(s)}}function ju(e,n){const t=$n(n,e),r=t[1];(function(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),I1(r,t,t[8])}function os(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function H2(e){for(;e;){e[2]|=64;const n=Xs(e);if(Er(e)&&!n)return e;e=n}return null}function B2(e,n,t){const r=n[10];r.begin&&r.begin();try{ra(e,n,e.template,t)}catch(s){throw $2(n,s),s}finally{r.end&&r.end()}}function Uu(e){!function(e){for(let n=0;n<e.components.length;n++){const t=e.components[n],r=m2(t),s=r[1];L4(s,r,s.template,t)}}(e[8])}function bo(e,n,t){e1(0),n(e,t)}const W4=(()=>Promise.resolve(null))();function $u(e){return e[7]||(e[7]=[])}function G2(e){return e.cleanup||(e.cleanup=[])}function $2(e,n){const t=e[9],r=t?t.get(Ys,null):null;r&&r.handleError(n)}function W2(e,n,t,r,s){for(let c=0;c<t.length;){const h=t[c++],p=t[c++],m=n[h],v=e.data[h];null!==v.setInput?v.setInput(m,s,r,p):m[p]=s}}function br(e,n,t){const r=Fc(n,e);!function(e,n,t){at(e)?e.setValue(n,t):n.textContent=t}(e[11],r,t)}function q2(e,n,t){let r=t?e.styles:null,s=t?e.classes:null,c=0;if(null!==n)for(let h=0;h<n.length;h++){const p=n[h];"number"==typeof p?c=p:1==c?s=xc(s,p):2==c&&(r=xc(r,p+": "+n[++h]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=s:e.classesWithoutHost=s}const K2=new ze("INJECTOR",-1);class q4{get(n,t=uo){if(t===uo){const r=new Error(`NullInjectorError: No provider for ${tt(n)}!`);throw r.name="NullInjectorError",r}return t}}const J2=new ze("Set Injector scope."),F1={},qu={};let K4;function Ku(){return void 0===K4&&(K4=new q4),K4}function Ju(e,n=null,t=null,r){const s=Z2(e,n,t,r);return s._resolveInjectorDefTypes(),s}function Z2(e,n=null,t=null,r){return new Zu(e,t,n||Ku(),r)}class Zu{constructor(n,t,r,s=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];t&&fr(t,p=>this.processProvider(p,n,t)),fr([n],p=>this.processInjectorType(p,[],c)),this.records.set(K2,aa(void 0,this));const h=this.records.get(J2);this.scope=null!=h?h.value:null,this.source=s||("object"==typeof n?null:tt(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,t=uo,r=Te.Default){this.assertNotDestroyed();const s=s2(this),c=Mr(void 0);try{if(!(r&Te.SkipSelf)){let p=this.records.get(n);if(void 0===p){const m=("function"==typeof(e=n)||"object"==typeof e&&e instanceof ze)&&Ts(n);p=m&&this.injectableDefInScope(m)?aa(Y2(n),F1):null,this.records.set(n,p)}if(null!=p)return this.hydrate(n,p)}return(r&Te.Self?Ku():this.parent).get(n,t=r&Te.Optional&&t===uo?null:t)}catch(h){if("NullInjectorError"===h.name){if((h[o2]=h[o2]||[]).unshift(tt(n)),s)throw h;return function(e,n,t,r){const s=e[o2];throw n[$0]&&s.unshift(n[$0]),e.message=function(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=tt(n);if(Array.isArray(n))s=n.map(tt).join(" -> ");else if("object"==typeof n){let c=[];for(let h in n)if(n.hasOwnProperty(h)){let p=n[h];c.push(h+":"+("string"==typeof p?JSON.stringify(p):tt(p)))}s=`{${c.join(", ")}}`}return`${t}${r?"("+r+")":""}[${s}]: ${e.replace(kf,"\n  ")}`}("\n"+e.message,s,t,r),e.ngTokenPath=s,e[o2]=null,e}(h,n,"R3InjectorError",this.source)}throw h}finally{Mr(c),s2(s)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((r,s)=>n.push(tt(s))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,t,r){if(!(n=we(n)))return!1;let s=G3(n);const c=null==s&&n.ngModule||void 0,h=void 0===c?n:c,p=-1!==r.indexOf(h);if(void 0!==c&&(s=G3(c)),null==s)return!1;if(null!=s.imports&&!p){let k;r.push(h);try{fr(s.imports,y=>{this.processInjectorType(y,t,r)&&(void 0===k&&(k=[]),k.push(y))})}finally{}if(void 0!==k)for(let y=0;y<k.length;y++){const{ngModule:A,providers:M}=k[y];fr(M,N=>this.processProvider(N,A,M||ht))}}this.injectorDefTypes.add(h);const m=Bo(h)||(()=>new h);this.records.set(h,aa(m,F1));const v=s.providers;if(null!=v&&!p){const k=n;fr(v,y=>this.processProvider(y,k,v))}return void 0!==c&&void 0!==n.providers}processProvider(n,t,r){let s=ca(n=we(n))?n:we(n&&n.provide);const c=function(e,n,t){return H1(e)?aa(void 0,e.useValue):aa(Q2(e),F1)}(n);if(ca(n)||!0!==n.multi)this.records.get(s);else{let h=this.records.get(s);h||(h=aa(void 0,F1,!0),h.factory=()=>vi(h.multi),this.records.set(s,h)),s=n,h.multi.push(n)}this.records.set(s,c)}hydrate(n,t){return t.value===F1&&(t.value=qu,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(e=t.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var e}injectableDefInScope(n){if(!n.providedIn)return!1;const t=we(n.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Y2(e){const n=Ts(e),t=null!==n?n.factory:Bo(e);if(null!==t)return t;if(e instanceof ze)throw new Error(`Token ${tt(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const n=e.length;if(n>0){const r=Us(n,"?");throw new Error(`Can't resolve all parameters for ${tt(e)}: (${r.join(", ")}).`)}const t=function(e){const n=e&&(e[Sc]||e[U3]);if(n){const t=function(e){if(e.hasOwnProperty("name"))return e.name;const n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Error("unreachable")}function Q2(e,n,t){let r;if(ca(e)){const s=we(e);return Bo(s)||Y2(s)}if(H1(e))r=()=>we(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...vi(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>oe(we(e.useExisting));else{const s=we(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Bo(s)||Y2(s);r=()=>new s(...vi(e.deps))}return r}function aa(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function H1(e){return null!==e&&"object"==typeof e&&wf in e}function ca(e){return"function"==typeof e}let Zt=(()=>{class e{static create(t,r){var s;if(Array.isArray(t))return Ju({name:""},r,t,"");{const c=null!==(s=t.name)&&void 0!==s?s:"";return Ju({name:c},t.parent,t.providers,c)}}}return e.THROW_IF_NOT_FOUND=uo,e.NULL=new q4,e.\u0275prov=ge({token:e,providedIn:"any",factory:()=>oe(K2)}),e.__NG_ELEMENT_ID__=-1,e})();function d8(e,n){i1(m2(e)[1],hn())}function wt(e){let n=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let s;if(Je(e))s=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");s=n.\u0275dir}if(s){if(t){r.push(s);const h=e;h.inputs=X4(e.inputs),h.declaredInputs=X4(e.declaredInputs),h.outputs=X4(e.outputs);const p=s.hostBindings;p&&qp(e,p);const m=s.viewQuery,v=s.contentQueries;if(m&&h8(e,m),v&&f8(e,v),r0(e.inputs,s.inputs),r0(e.declaredInputs,s.declaredInputs),r0(e.outputs,s.outputs),Je(s)&&s.data.animation){const k=e.data;k.animation=(k.animation||[]).concat(s.data.animation)}}const c=s.features;if(c)for(let h=0;h<c.length;h++){const p=c[h];p&&p.ngInherit&&p(e),p===wt&&(t=!1)}}n=Object.getPrototypeOf(n)}!function(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=n+=s.hostVars,s.hostAttrs=Yc(s.hostAttrs,t=Yc(t,s.hostAttrs))}}(r)}function X4(e){return e===Xr?{}:e===ht?[]:e}function h8(e,n){const t=e.viewQuery;e.viewQuery=t?(r,s)=>{n(r,s),t(r,s)}:n}function f8(e,n){const t=e.contentQueries;e.contentQueries=t?(r,s,c)=>{n(r,s,c),t(r,s,c)}:n}function qp(e,n){const t=e.hostBindings;e.hostBindings=t?(r,s)=>{n(r,s),t(r,s)}:n}let j1=null;function da(){if(!j1){const e=bt.Symbol;if(e&&e.iterator)j1=e.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const r=n[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(j1=r)}}}return j1}function G1(e){return!!U1(e)&&(Array.isArray(e)||!(e instanceof Map)&&da()in e)}function U1(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function In(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function ss(e,n,t,r){const s=In(e,n,t);return In(e,n+1,r)||s}function lt(e,n,t,r){const s=Q();return In(s,zi(),n)&&(We(),mr(Ht(),s,e,n,t,r)),lt}function vr(e,n,t,r){return In(e,zi(),t)?n+Se(t)+r:Me}function as(e,n,t,r,s,c,h,p){const v=function(e,n,t,r,s){const c=ss(e,n,t,r);return In(e,n+2,s)||c}(e,ur(),t,s,h);return hr(3),v?n+Se(t)+r+Se(s)+c+Se(h)+p:Me}function _o(e,n,t,r,s,c,h,p,m,v){const y=function(e,n,t,r,s,c){const h=ss(e,n,t,r);return ss(e,n+2,s,c)||h}(e,ur(),t,s,h,m);return hr(4),y?n+Se(t)+r+Se(s)+c+Se(h)+p+Se(m)+v:Me}function ee(e,n,t,r,s,c,h,p){const m=Q(),v=We(),k=e+20,y=v.firstCreatePass?function(e,n,t,r,s,c,h,p,m){const v=n.consts,k=rs(n,e,4,h||null,lr(v,p));F2(n,t,k,lr(v,m)),i1(n,k);const y=k.tViews=z1(2,k,r,s,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,v);return null!==n.queries&&(n.queries.template(n,k),y.queries=n.queries.embeddedTView(k)),k}(k,v,m,n,t,r,s,c,h):v.data[k];dr(y,!1);const A=m[11].createComment("");D2(v,m,A,y),Bn(A,m),os(m,m[k]=Bu(A,m,A,y)),cr(y)&&go(v,m,y),null!=h&&R2(m,y,p)}function z(e,n=Te.Default){const t=Q();return null===t?oe(e,n):n2(hn(),t,we(e),n)}function o6(){throw new Error("invalid")}function J(e,n,t){const r=Q();return In(r,zi(),n)&&wi(We(),Ht(),r,e,n,r[11],t,!1),J}function s6(e,n,t,r,s){const h=s?"class":"style";W2(e,t,n.inputs[h],h,r)}function I(e,n,t,r){const s=Q(),c=We(),h=20+e,p=s[11],m=s[h]=u4(p,n,be.lFrame.currentNamespace),v=c.firstCreatePass?function(e,n,t,r,s,c,h){const p=n.consts,v=rs(n,e,2,s,lr(p,c));return F2(n,t,v,lr(p,h)),null!==v.attrs&&q2(v,v.attrs,!1),null!==v.mergedAttrs&&q2(v,v.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,v),v}(h,c,s,0,n,t,r):c.data[h];dr(v,!0);const k=v.mergedAttrs;null!==k&&a1(p,m,k);const y=v.classes;null!==y&&w4(p,m,y);const A=v.styles;null!==A&&pu(p,m,A),64!=(64&v.flags)&&D2(c,s,m,v),0===be.lFrame.elementDepthCount&&Bn(m,s),be.lFrame.elementDepthCount++,cr(v)&&(go(c,s,v),function(e,n,t){if(Tn(n)){const s=n.directiveEnd;for(let c=n.directiveStart;c<s;c++){const h=e.data[c];h.contentQueries&&h.contentQueries(1,t[c],c)}}}(c,v,s)),null!==r&&R2(s,v)}function P(){let e=hn();Pi()?Qa():(e=e.parent,dr(e,!1));const n=e;be.lFrame.elementDepthCount--;const t=We();t.firstCreatePass&&(i1(t,e),Tn(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(n)&&s6(t,n,Q(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(n)&&s6(t,n,Q(),n.stylesWithoutHost,!1)}function Fe(e,n,t,r){I(e,n,t,r),P()}function yn(){return Q()}function ba(e){return!!e&&"function"==typeof e.then}const al=function(e){return!!e&&"function"==typeof e.subscribe};function de(e,n,t,r){const s=Q(),c=We(),h=hn();return function(e,n,t,r,s,c,h,p){const m=cr(r),k=e.firstCreatePass&&G2(e),y=n[8],A=$u(n);let M=!0;if(3&r.type||p){const B=_n(r,n),j=p?p(B):B,F=A.length,ie=p?ue=>p(qt(ue[r.index])):r.index;if(at(t)){let ue=null;if(!p&&m&&(ue=function(e,n,t,r){const s=e.cleanup;if(null!=s)for(let c=0;c<s.length-1;c+=2){const h=s[c];if(h===t&&s[c+1]===r){const p=n[7],m=s[c+2];return p.length>m?p[m]:null}"string"==typeof h&&(c+=2)}return null}(e,n,s,r.index)),null!==ue)(ue.__ngLastListenerFn__||ue).__ngNextListenerFn__=c,ue.__ngLastListenerFn__=c,M=!1;else{c=cl(r,n,y,c,!1);const Ae=t.listen(j,s,c);A.push(c,Ae),k&&k.push(s,ie,F,F+1)}}else c=cl(r,n,y,c,!0),j.addEventListener(s,c,h),A.push(c),k&&k.push(s,ie,F,h)}else c=cl(r,n,y,c,!1);const N=r.outputs;let O;if(M&&null!==N&&(O=N[s])){const B=O.length;if(B)for(let j=0;j<B;j+=2){const Pe=n[O[j]][O[j+1]].subscribe(c),cn=A.length;A.push(c,Pe),k&&k.push(s,r.index,cn,-(cn+1))}}}(c,s,s[11],h,e,n,!!t,r),de}function B8(e,n,t,r){try{return!1!==t(r)}catch(s){return $2(e,s),!1}}function cl(e,n,t,r,s){return function c(h){if(h===Function)return r;const p=2&e.flags?$n(e.index,n):n;0==(32&n[2])&&H2(p);let m=B8(n,0,r,h),v=c.__ngNextListenerFn__;for(;v;)m=B8(n,0,v,h)&&m,v=v.__ngNextListenerFn__;return s&&!1===m&&(h.preventDefault(),h.returnValue=!1),m}}function he(e=1){return function(e){return(be.lFrame.contextLView=function(e,n){for(;e>0;)n=n[15],e--;return n}(e,be.lFrame.contextLView))[8]}(e)}function p7(e,n){let t=null;const r=function(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(0==(1&t))return n[t+1]}return null}(e);for(let s=0;s<n.length;s++){const c=n[s];if("*"!==c){if(null===r?gu(e,c,!0):pp(r,c))return s}else t=s}return t}function ll(e){const n=Q()[16][6];if(!n.projection){const r=n.projection=Us(e?e.length:1,null),s=r.slice();let c=n.child;for(;null!==c;){const h=e?p7(c,e):0;null!==h&&(s[h]?s[h].projectionNext=c:r[h]=c,s[h]=c),c=c.next}}}function u6(e,n=0,t){const r=Q(),s=We(),c=rs(s,20+e,16,null,t||null);null===c.projection&&(c.projection=n),Qa(),64!=(64&c.flags)&&function(e,n,t){k4(n[11],0,n,t,h4(e,t,n),y2(t.parent||n[6],t,n))}(s,r,c)}function dl(e,n,t){return va(e,"",n,"",t),dl}function va(e,n,t,r,s){const c=Q(),h=vr(c,n,t,r);return h!==Me&&wi(We(),Ht(),c,e,h,c[11],s,!1),va}function W8(e,n,t,r,s){const c=e[t+1],h=null===n;let p=r?Yi(c):Vr(c),m=!1;for(;0!==p&&(!1===m||h);){const k=e[p+1];m7(e[p],n)&&(m=!0,e[p+1]=r?Ye(k):E2(k)),p=r?Yi(k):Vr(k)}m&&(e[t+1]=r?E2(c):Ye(c))}function m7(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Kn(e,n)>=0}const jt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function q8(e){return e.substring(jt.key,jt.keyEnd)}function _a(e,n){const t=jt.textEnd;return t===n?-1:(n=jt.keyEnd=function(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,jt.key=n,t),ko(e,n,t))}function ko(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function u(e,n,t){return w(e,n,t,!1),u}function f(e,n){return w(e,n,null,!0),f}function _(e){!function(e,n,t,r){const s=We(),c=hr(2);s.firstUpdatePass&&T(s,null,c,r);const h=Q();if(t!==Me&&In(h,c,t)){const p=s.data[qn()];if(J1(p,r)&&!x(s,c)){let m=r?p.classesWithoutHost:p.stylesWithoutHost;null!==m&&(t=xc(m,t||"")),s6(s,p,h,t,r)}else!function(e,n,t,r,s,c,h,p){s===Me&&(s=ht);let m=0,v=0,k=0<s.length?s[0]:null,y=0<c.length?c[0]:null;for(;null!==k||null!==y;){const A=m<s.length?s[m+1]:void 0,M=v<c.length?c[v+1]:void 0;let O,N=null;k===y?(m+=2,v+=2,A!==M&&(N=y,O=M)):null===y||null!==k&&k<y?(m+=2,N=k):(v+=2,N=y,O=M),null!==N&&Cr(e,n,t,r,N,O,h,p),k=m<s.length?s[m]:null,y=v<c.length?c[v]:null}}(s,p,h,h[11],h[c+1],h[c+1]=function(e,n,t){if(null==t||""===t)return ht;const r=[],s=_i(t);if(Array.isArray(s))for(let c=0;c<s.length;c++)e(r,s[c],!0);else if("object"==typeof s)for(const c in s)s.hasOwnProperty(c)&&e(r,c,s[c]);else"string"==typeof s&&n(r,s);return r}(e,n,t),r,c)}}(gn,C,e,!0)}function C(e,n){for(let t=function(e){return function(e){jt.key=0,jt.keyEnd=0,jt.value=0,jt.valueEnd=0,jt.textEnd=e.length}(e),_a(e,ko(e,0,jt.textEnd))}(n);t>=0;t=_a(n,t))gn(e,q8(n),!0)}function w(e,n,t,r){const s=Q(),c=We(),h=hr(2);c.firstUpdatePass&&T(c,e,h,r),n!==Me&&In(s,h,n)&&Cr(c,c.data[qn()],s,s[11],e,s[h+1]=function(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=tt(_i(e)))),e}(n,t),r,h)}function x(e,n){return n>=e.expandoStartIndex}function T(e,n,t,r){const s=e.data;if(null===s[t+1]){const c=s[qn()],h=x(e,t);J1(c,r)&&null===n&&!h&&(n=!1),n=function(e,n,t,r){const s=function(e){const n=be.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let c=r?n.residualClasses:n.residualStyles;if(null===s)0===(r?n.classBindings:n.styleBindings)&&(t=He(t=te(null,e,n,t,r),n.attrs,r),c=null);else{const h=n.directiveStylingLast;if(-1===h||e[h]!==s)if(t=te(s,e,n,t,r),null===c){let m=function(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Vr(r))return e[Yi(r)]}(e,n,r);void 0!==m&&Array.isArray(m)&&(m=te(null,e,n,m[1],r),m=He(m,n.attrs,r),function(e,n,t,r){e[Yi(t?n.classBindings:n.styleBindings)]=r}(e,n,r,m))}else c=function(e,n,t){let r;const s=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<s;c++)r=He(r,e[c].hostAttrs,t);return He(r,n.attrs,t)}(e,n,r)}return void 0!==c&&(r?n.residualClasses=c:n.residualStyles=c),t}(s,c,n,r),function(e,n,t,r,s,c){let h=c?n.classBindings:n.styleBindings,p=Yi(h),m=Vr(h);e[r]=t;let k,v=!1;if(Array.isArray(t)){const y=t;k=y[1],(null===k||Kn(y,k)>0)&&(v=!0)}else k=t;if(s)if(0!==m){const A=Yi(e[p+1]);e[r+1]=x2(A,p),0!==A&&(e[A+1]=S2(e[A+1],r)),e[p+1]=function(e,n){return 131071&e|n<<17}(e[p+1],r)}else e[r+1]=x2(p,0),0!==p&&(e[p+1]=S2(e[p+1],r)),p=r;else e[r+1]=x2(m,0),0===p?p=r:e[m+1]=S2(e[m+1],r),m=r;v&&(e[r+1]=E2(e[r+1])),W8(e,k,r,!0),W8(e,k,r,!1),function(e,n,t,r,s){const c=s?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof n&&Kn(c,n)>=0&&(t[r+1]=Ye(t[r+1]))}(n,k,e,r,c),h=x2(p,m),c?n.classBindings=h:n.styleBindings=h}(s,c,n,t,h,r)}}function te(e,n,t,r,s){let c=null;const h=t.directiveEnd;let p=t.directiveStylingLast;for(-1===p?p=t.directiveStart:p++;p<h&&(c=n[p],r=He(r,c.hostAttrs,s),c!==e);)p++;return null!==e&&(t.directiveStylingLast=p),r}function He(e,n,t){const r=t?1:2;let s=-1;if(null!==n)for(let c=0;c<n.length;c++){const h=n[c];"number"==typeof h?s=h:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gn(e,h,!!t||n[++c]))}return void 0===e?null:e}function Cr(e,n,t,r,s,c,h,p){if(!(3&n.type))return;const m=e.data,v=m[p+1];Hi(function(e){return 1==(1&e)}(v)?K1(m,n,t,s,Vr(v),h):void 0)||(Hi(c)||function(e){return 2==(2&e)}(v)&&(c=K1(m,null,t,s,p,h)),function(e,n,t,r,s){const c=at(e);if(n)s?c?e.addClass(t,r):t.classList.add(r):c?e.removeClass(t,r):t.classList.remove(r);else{let h=-1===r.indexOf("-")?void 0:ei.DashCase;if(null==s)c?e.removeStyle(t,r,h):t.style.removeProperty(r);else{const p="string"==typeof s&&s.endsWith("!important");p&&(s=s.slice(0,-10),h|=ei.Important),c?e.setStyle(t,r,s,h):t.style.setProperty(r,s,p?"important":"")}}}(r,h,Fc(qn(),t),s,c))}function K1(e,n,t,r,s,c){const h=null===n;let p;for(;s>0;){const m=e[s],v=Array.isArray(m),k=v?m[1]:m,y=null===k;let A=t[s+1];A===Me&&(A=y?ht:void 0);let M=y?ft(A,r):k===r?A:void 0;if(v&&!Hi(M)&&(M=ft(m,r)),Hi(M)&&(p=M,h))return p;const N=e[s+1];s=h?Yi(N):Vr(N)}if(null!==n){let m=c?n.residualClasses:n.residualStyles;null!=m&&(p=ft(m,r))}return p}function Hi(e){return void 0!==e}function J1(e,n){return 0!=(e.flags&(n?16:32))}function ce(e,n=""){const t=Q(),r=We(),s=e+20,c=r.firstCreatePass?rs(r,s,1,n,null):r.data[s],h=t[s]=function(e,n){return at(e)?e.createText(n):e.createTextNode(n)}(t[11],n);D2(r,t,h,c),dr(c,!1)}function wo(e){return ii("",e,""),wo}function ii(e,n,t){const r=Q(),s=vr(r,e,n,t);return s!==Me&&br(r,qn(),s),ii}function fl(e,n,t,r,s){const c=Q(),h=function(e,n,t,r,s,c){const p=ss(e,ur(),t,s);return hr(2),p?n+Se(t)+r+Se(s)+c:Me}(c,e,n,t,r,s);return h!==Me&&br(c,qn(),h),fl}function _7(e,n,t,r,s,c,h){const p=Q(),m=as(p,e,n,t,r,s,c,h);return m!==Me&&br(p,qn(),m),_7}function C7(e,n,t,r,s,c,h,p,m){const v=Q(),k=_o(v,e,n,t,r,s,c,h,p,m);return k!==Me&&br(v,qn(),k),C7}function Ca(e,n,t){const r=Q();return In(r,zi(),n)&&wi(We(),Ht(),r,e,n,r[11],t,!0),Ca}const Z1=void 0;var Cx=["en",[["a","p"],["AM","PM"],Z1],[["AM","PM"],Z1,Z1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Z1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Z1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Z1,"{1} 'at' {0}",Z1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let pl={};function rv(e){return e in pl||(pl[e]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[e]),pl[e]}var ae=(()=>((ae=ae||{})[ae.LocaleId=0]="LocaleId",ae[ae.DayPeriodsFormat=1]="DayPeriodsFormat",ae[ae.DayPeriodsStandalone=2]="DayPeriodsStandalone",ae[ae.DaysFormat=3]="DaysFormat",ae[ae.DaysStandalone=4]="DaysStandalone",ae[ae.MonthsFormat=5]="MonthsFormat",ae[ae.MonthsStandalone=6]="MonthsStandalone",ae[ae.Eras=7]="Eras",ae[ae.FirstDayOfWeek=8]="FirstDayOfWeek",ae[ae.WeekendRange=9]="WeekendRange",ae[ae.DateFormat=10]="DateFormat",ae[ae.TimeFormat=11]="TimeFormat",ae[ae.DateTimeFormat=12]="DateTimeFormat",ae[ae.NumberSymbols=13]="NumberSymbols",ae[ae.NumberFormats=14]="NumberFormats",ae[ae.CurrencyCode=15]="CurrencyCode",ae[ae.CurrencySymbol=16]="CurrencySymbol",ae[ae.CurrencyName=17]="CurrencyName",ae[ae.Currencies=18]="Currencies",ae[ae.Directionality=19]="Directionality",ae[ae.PluralCase=20]="PluralCase",ae[ae.ExtraData=21]="ExtraData",ae))();const J8="en-US";let ov=J8;function A7(e,n,t,r,s){if(e=we(e),Array.isArray(e))for(let c=0;c<e.length;c++)A7(e[c],n,t,r,s);else{const c=We(),h=Q();let p=ca(e)?e:we(e.provide),m=Q2(e);const v=hn(),k=1048575&v.providerIndexes,y=v.directiveStart,A=v.providerIndexes>>20;if(ca(e)||!e.multi){const M=new s1(m,s,z),N=x7(p,n,s?k:k+A,y);-1===N?(t2(Rs(v,h),c,p),D7(c,e,n.length),n.push(p),v.directiveStart++,v.directiveEnd++,s&&(v.providerIndexes+=1048576),t.push(M),h.push(M)):(t[N]=M,h[N]=M)}else{const M=x7(p,n,k+A,y),N=x7(p,n,k,k+A),O=M>=0&&t[M],B=N>=0&&t[N];if(s&&!B||!s&&!O){t2(Rs(v,h),c,p);const j=function(e,n,t,r,s){const c=new s1(e,t,z);return c.multi=[],c.index=n,c.componentProviders=0,Sv(c,s,r&&!t),c}(s?mM:gM,t.length,s,r,m);!s&&B&&(t[N].providerFactory=j),D7(c,e,n.length,0),n.push(p),v.directiveStart++,v.directiveEnd++,s&&(v.providerIndexes+=1048576),t.push(j),h.push(j)}else D7(c,e,M>-1?M:N,Sv(t[s?N:M],m,!s&&r));!s&&r&&B&&t[N].componentProviders++}}}function D7(e,n,t,r){const s=ca(n),c=function(e){return!!e.useClass}(n);if(s||c){const m=(c?we(n.useClass):n).prototype.ngOnDestroy;if(m){const v=e.destroyHooks||(e.destroyHooks=[]);if(!s&&n.multi){const k=v.indexOf(t);-1===k?v.push(t,[r,m]):v[k+1].push(r,m)}else v.push(t,m)}}}function Sv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function x7(e,n,t,r){for(let s=t;s<r;s++)if(n[s]===e)return s;return-1}function gM(e,n,t,r){return M7(this.multi,[])}function mM(e,n,t,r){const s=this.multi;let c;if(this.providerFactory){const h=this.providerFactory.componentProviders,p=d1(t,t[1],this.providerFactory.index,r);c=p.slice(0,h),M7(s,c);for(let m=h;m<p.length;m++)c.push(p[m])}else c=[],M7(s,c);return c}function M7(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function xt(e,n=[]){return t=>{t.providersResolver=(r,s)=>function(e,n,t){const r=We();if(r.firstCreatePass){const s=Je(e);A7(t,r.data,r.blueprint,s,!0),A7(n,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,n)}}class Nv{}class CM{resolveComponentFactory(n){throw function(e){const n=Error(`No component factory found for ${tt(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let Y1=(()=>{class e{}return e.NULL=new CM,e})();function kM(){return ml(hn(),Q())}function ml(e,n){return new yt(_n(e,n))}let yt=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=kM,e})();function wM(e){return e instanceof yt?e.nativeElement:e}class E7{}let kr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function(){const e=Q(),t=$n(hn().index,e);return function(e){return e[11]}(ar(t)?t:e)}(),e})(),DM=(()=>{class e{}return e.\u0275prov=ge({token:e,providedIn:"root",factory:()=>null}),e})();class w6{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const xM=new w6("13.1.1"),S7={};function eh(e,n,t,r,s=!1){for(;null!==t;){const c=n[t.index];if(null!==c&&r.push(qt(c)),Ji(c))for(let p=10;p<c.length;p++){const m=c[p],v=m[1].firstChild;null!==v&&eh(m[1],m,v,r)}const h=t.type;if(8&h)eh(e,n,t.child,r);else if(32&h){const p=v2(t,n);let m;for(;m=p();)r.push(m)}else if(16&h){const p=b4(n,t);if(Array.isArray(p))r.push(...p);else{const m=Xs(n[16]);eh(m[1],m,p,r,!0)}}t=s?t.projectionNext:t.next}return r}class y6{constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,t=n[1];return eh(t,n,t.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ji(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(ea(n,r),u1(t,r))}this._attachedToViewContainer=!1}C2(this._lView[1],this._lView)}onDestroy(n){Tu(this._lView[1],this._lView,null,n)}markForCheck(){H2(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){B2(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,n,t){jc(!0);try{B2(e,n,t)}finally{jc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,N1(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class MM extends y6{constructor(n){super(n),this._view=n}detectChanges(){Uu(this._view)}checkNoChanges(){!function(e){jc(!0);try{Uu(e)}finally{jc(!1)}}(this._view)}get context(){return null}}class Iv extends Y1{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Vn(n);return new N7(t,this.ngModule)}}function Pv(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}const SM=new ze("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xe});class N7 extends Nv{constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=n.selectors.map(gp).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Pv(this.componentDef.inputs)}get outputs(){return Pv(this.componentDef.outputs)}create(n,t,r,s){const c=(s=s||this.ngModule)?function(e,n){return{get:(t,r,s)=>{const c=e.get(t,S7,s);return c!==S7||r===S7?c:n.get(t,r,s)}}}(n,s.injector):n,h=c.get(E7,_0),p=c.get(DM,null),m=h.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",k=r?function(e,n,t){if(at(e))return e.selectRootElement(n,t===qi.ShadowDom);let r="string"==typeof n?e.querySelector(n):n;return r.textContent="",r}(m,r,this.componentDef.encapsulation):u4(h.createRenderer(null,this.componentDef),v,function(e){const n=e.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(v)),y=this.componentDef.onPush?576:528,A=function(e,n){return{components:[],scheduler:e||Xe,clean:W4,playerHandler:n||null,flags:0}}(),M=z1(0,null,null,1,0,null,null,null,null,null),N=ia(null,M,A,y,null,null,h,m,p,c);let O,B;fn(N);try{const j=function(e,n,t,r,s,c){const h=t[1];t[20]=e;const m=rs(h,20,2,"#host",null),v=m.mergedAttrs=n.hostAttrs;null!==v&&(q2(m,v,!0),null!==e&&(a1(s,e,v),null!==m.classes&&w4(s,e,m.classes),null!==m.styles&&pu(s,e,m.styles)));const k=r.createRenderer(e,n),y=ia(t,P1(n),null,n.onPush?64:16,t[20],m,r,k,c||null,null);return h.firstCreatePass&&(t2(Rs(m,t),h,n.type),B4(h,m),R1(m,t.length,1)),os(t,y),t[20]=y}(k,this.componentDef,N,h,m);if(k)if(r)a1(m,k,["ng-version",xM.full]);else{const{attrs:F,classes:ie}=function(e){const n=[],t=[];let r=1,s=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===s?""!==c&&n.push(c,e[++r]):8===s&&t.push(c);else{if(!Vi(s))break;s=c}r++}return{attrs:n,classes:t}}(this.componentDef.selectors[0]);F&&a1(m,k,F),ie&&ie.length>0&&w4(m,k,ie.join(" "))}if(B=_e(M,20),void 0!==t){const F=B.projection=[];for(let ie=0;ie<this.ngContentSelectors.length;ie++){const ue=t[ie];F.push(null!=ue?Array.from(ue):null)}}O=function(e,n,t,r,s){const c=t[1],h=function(e,n,t){const r=hn();e.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),V1(e,r,n,po(e,n,1,null),t));const s=d1(n,e,r.directiveStart,r);Bn(s,n);const c=_n(r,n);return c&&Bn(c,n),s}(c,t,n);if(r.components.push(h),e[8]=h,s&&s.forEach(m=>m(h,n)),n.contentQueries){const m=hn();n.contentQueries(1,h,m.directiveStart)}const p=hn();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Nr(p.index),V4(t[1],p,0,p.directiveStart,p.directiveEnd,n),F4(n,h)),h}(j,this.componentDef,N,A,[d8]),I1(M,N,null)}finally{Fn()}return new IM(this.componentType,O,ml(B,N),N,B)}}class IM extends class{}{constructor(n,t,r,s,c){super(),this.location=r,this._rootLView=s,this._tNode=c,this.instance=t,this.hostView=this.changeDetectorRef=new MM(s),this.componentType=n}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ls{}class zv{}const bl=new Map;class Rv extends ls{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Iv(this);const r=hi(n);this._bootstrapComponents=ki(r.bootstrap),this._r3Injector=Z2(n,t,[{provide:ls,useValue:this},{provide:Y1,useValue:this.componentFactoryResolver}],tt(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,t=Zt.THROW_IF_NOT_FOUND,r=Te.Default){return n===Zt||n===ls||n===K2?this:this._r3Injector.get(n,t,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class T7 extends zv{constructor(n){super(),this.moduleType=n,null!==hi(n)&&function(e){const n=new Set;!function t(r){const s=hi(r,!0),c=s.id;null!==c&&(function(e,n,t){if(n&&n!==t)throw new Error(`Duplicate module registered for ${e} - ${tt(n)} vs ${tt(n.name)}`)}(c,bl.get(c),r),bl.set(c,r));const h=ki(s.imports);for(const p of h)n.has(p)||(n.add(p),t(p))}(e)}(n)}create(n){return new Rv(this.moduleType,n)}}function A6(e,n,t){const r=function(){const e=be.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}()+e,s=Q();return s[r]===Me?function(e,n,t){return e[n]=t}(s,r,t?n.call(t):n()):function(e,n){return e[n]}(s,r)}function P7(e){return n=>{setTimeout(e,void 0,n)}}const Ce=class extends Ft{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){var s,c,h;let p=n,m=t||(()=>null),v=r;if(n&&"object"==typeof n){const y=n;p=null===(s=y.next)||void 0===s?void 0:s.bind(y),m=null===(c=y.error)||void 0===c?void 0:c.bind(y),v=null===(h=y.complete)||void 0===h?void 0:h.bind(y)}this.__isAsync&&(m=P7(m),p&&(p=P7(p)),v&&(v=P7(v)));const k=super.subscribe({next:p,error:m,complete:v});return n instanceof G&&n.add(k),k}};function JM(){return this._results[da()]()}class z7{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=da(),r=z7.prototype;r[t]||(r[t]=JM)}get changes(){return this._changes||(this._changes=new Ce)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const s=bi(n);(this._changesDetected=!function(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],c=n[r];if(t&&(s=t(s),c=t(c)),c!==s)return!1}return!0}(r._results,s,t))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let on=(()=>{class e{}return e.__NG_ELEMENT_ID__=QM,e})();const ZM=on,YM=class extends ZM{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n){const t=this._declarationTContainer.tViews,r=ia(this._declarationLView,t,n,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(r[19]=c.createEmbeddedView(t)),I1(t,r,n),new y6(r)}};function QM(){return nh(hn(),Q())}function nh(e,n){return 4&e.type?new YM(n,e,ml(e,n)):null}let jr=(()=>{class e{}return e.__NG_ELEMENT_ID__=XM,e})();function XM(){return $v(hn(),Q())}const eE=jr,Gv=class extends eE{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ml(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){const n=l1(this._hostTNode,this._hostLView);if(Ad(n)){const t=Uo(n,this._hostLView),r=Ls(n);return new Fs(t[1].data[r+8],t)}return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Uv(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){const s=n.createEmbeddedView(t||{});return this.insert(s,r),s}createComponent(n,t,r,s,c){const h=n&&!function(e){return"function"==typeof e}(n);let p;if(h)p=t;else{const y=t||{};p=y.index,r=y.injector,s=y.projectableNodes,c=y.ngModuleRef}const m=h?n:new N7(Vn(n)),v=r||this.parentInjector;if(!c&&null==m.ngModule&&v){const y=v.get(ls,null);y&&(c=y)}const k=m.create(v,s,void 0,c);return this.insert(k.hostView,p),k}insert(n,t){const r=n._lView,s=r[1];if(Ji(r[3])){const k=this.indexOf(n);if(-1!==k)this.detach(k);else{const y=r[3],A=new Gv(y,y[6],y[3]);A.detach(A.indexOf(n))}}const c=this._adjustIndex(t),h=this._lContainer;!function(e,n,t,r){const s=10+r,c=t.length;r>0&&(t[s-1][4]=n),r<c-10?(n[4]=t[s],V0(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const h=n[17];null!==h&&t!==h&&function(e,n){const t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(h,n);const p=n[19];null!==p&&p.insertView(e),n[2]|=128}(s,r,h,c);const p=v4(c,h),m=r[11],v=w2(m,h[7]);return null!==v&&function(e,n,t,r,s,c){r[0]=s,r[6]=n,N1(e,r,t,1,s,c)}(s,h[6],m,r,v,p),n.attachToViewContainerRef(),V0(O7(h),c,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Uv(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=ea(this._lContainer,t);r&&(u1(O7(this._lContainer),t),C2(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=ea(this._lContainer,t);return r&&null!=u1(O7(this._lContainer),t)?new y6(r):null}_adjustIndex(n,t=0){return null==n?this.length+t:n}};function Uv(e){return e[8]}function O7(e){return e[8]||(e[8]=[])}function $v(e,n){let t;const r=n[e.index];if(Ji(r))t=r;else{let s;if(8&e.type)s=qt(r);else{const c=n[11];s=c.createComment("");const h=_n(e,n);ts(c,w2(c,h),s,function(e,n){return at(e)?e.nextSibling(n):n.nextSibling}(c,h),!1)}n[e.index]=t=Bu(r,n,s,e),os(n,t)}return new Gv(t,e,n)}class L7{constructor(n){this.queryList=n,this.matches=null}clone(){return new L7(this.queryList)}setDirty(){this.queryList.setDirty()}}class R7{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,s=[];for(let c=0;c<r;c++){const h=t.getByIndex(c);s.push(this.queries[h.indexInDeclarationView].clone())}return new R7(s)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Zv(n,t).matches&&this.queries[t].setDirty()}}class Wv{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class V7{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const s=null!==t?t.length:0,c=this.getByIndex(r).embeddedTView(n,s);c&&(c.indexInDeclarationView=r,null!==t?t.push(c):t=[c])}return null!==t?new V7(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class F7{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new F7(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const c=r[s];this.matchTNodeWithReadOption(n,t,iE(t,c)),this.matchTNodeWithReadOption(n,t,r2(t,n,c,!1,!1))}else r===on?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,r2(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===yt||s===jr||s===on&&4&t.type)this.addMatch(t.index,-2);else{const c=r2(t,n,s,!1,!1);null!==c&&this.addMatch(t.index,c)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function iE(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function oE(e,n,t,r){return-1===t?function(e,n){return 11&e.type?ml(e,n):4&e.type?nh(e,n):null}(n,e):-2===t?function(e,n,t){return t===yt?ml(n,e):t===on?nh(n,e):t===jr?$v(n,e):void 0}(e,n,r):d1(e,e[1],t,n)}function qv(e,n,t,r){const s=n[19].queries[r];if(null===s.matches){const c=e.data,h=t.matches,p=[];for(let m=0;m<h.length;m+=2){const v=h[m];p.push(v<0?null:oE(n,c[v],h[m+1],t.metadata.read))}s.matches=p}return s.matches}function H7(e,n,t,r){const s=e.queries.getByIndex(t),c=s.matches;if(null!==c){const h=qv(e,n,s,t);for(let p=0;p<c.length;p+=2){const m=c[p];if(m>0)r.push(h[p/2]);else{const v=c[p+1],k=n[-m];for(let y=10;y<k.length;y++){const A=k[y];A[17]===A[3]&&H7(A[1],A,v,r)}if(null!==k[9]){const y=k[9];for(let A=0;A<y.length;A++){const M=y[A];H7(M[1],M,v,r)}}}}}return r}function Yt(e){const n=Q(),t=We(),r=bd();e1(r+1);const s=Zv(t,r);if(e.dirty&&Ii(n)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const c=s.crossesNgTemplate?H7(t,n,r,[]):qv(t,n,s,r);e.reset(c,wM),e.notifyOnChanges()}return!0}return!1}function mn(e,n,t,r){const s=We();if(s.firstCreatePass){const c=hn();Jv(s,new Wv(n,t,r),c.index),function(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(s,e),2==(2&t)&&(s.staticContentQueries=!0)}Kv(s,Q(),t)}function Qt(){return e=Q(),n=bd(),e[19].queries[n].queryList;var e,n}function Kv(e,n,t){const r=new z7(4==(4&t));Tu(e,n,r,r.destroy),null===n[19]&&(n[19]=new R7),n[19].queries.push(new L7(r))}function Jv(e,n,t){null===e.queries&&(e.queries=new V7),e.queries.track(new F7(n,t))}function Zv(e,n){return e.queries.getByIndex(n)}function oh(...e){}const sh=new ze("Application Initializer");let _l=(()=>{class e{constructor(t){this.appInits=t,this.resolve=oh,this.reject=oh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const c=this.appInits[s]();if(ba(c))t.push(c);else if(al(c)){const h=new Promise((p,m)=>{c.subscribe({complete:p,error:m})});t.push(h)}}Promise.all(t).then(()=>{r()}).catch(s=>{this.reject(s)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(oe(sh,8))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const S6=new ze("AppId"),xE={provide:S6,useFactory:function(){return`${q7()}${q7()}${q7()}`},deps:[]};function q7(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const f_=new ze("Platform Initializer"),N6=new ze("Platform ID"),p_=new ze("appBootstrapListener");let g_=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const wa=new ze("LocaleId"),m_=new ze("DefaultCurrencyCode");class ME{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let ah=(()=>{class e{compileModuleSync(t){return new T7(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),c=ki(hi(t).declarations).reduce((h,p)=>{const m=Vn(p);return m&&h.push(new N7(m)),h},[]);return new ME(r,c)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const SE=(()=>Promise.resolve(0))();function K7(e){"undefined"==typeof Zone?SE.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Mt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ce(!1),this.onMicrotaskEmpty=new Ce(!1),this.onStable=new Ce(!1),this.onError=new Ce(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&t,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let e=bt.requestAnimationFrame,n=bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(e){const n=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(bt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Z7(e),e.isCheckStableRunning=!0,J7(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Z7(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,s,c,h,p)=>{try{return b_(e),t.invokeTask(s,c,h,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&n(),v_(e)}},onInvoke:(t,r,s,c,h,p,m)=>{try{return b_(e),t.invoke(s,c,h,p,m)}finally{e.shouldCoalesceRunChangeDetection&&n(),v_(e)}},onHasTask:(t,r,s,c)=>{t.hasTask(s,c),r===s&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,Z7(e),J7(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(t,r,s,c)=>(t.handleError(s,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,s){const c=this._inner,h=c.scheduleEventTask("NgZoneEvent: "+s,n,TE,oh,oh);try{return c.runTask(h,t,r)}finally{c.cancelTask(h)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const TE={};function J7(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Z7(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function b_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function v_(e){e._nesting--,J7(e)}class zE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ce,this.onMicrotaskEmpty=new Ce,this.onStable=new Ce,this.onError=new Ce}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,s){return n.apply(t,r)}}let Y7=(()=>{class e{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mt.assertNotInAngularZone(),K7(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())K7(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,s){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==c),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:c,updateCb:s})}whenStable(t,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,s){return[]}}return e.\u0275fac=function(t){return new(t||e)(oe(Mt))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),__=(()=>{class e{constructor(){this._applications=new Map,Q7.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Q7.findTestabilityInTree(this,t,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();class OE{addToWindow(n){}findTestabilityInTree(n,t,r){return null}}let Gr,Q7=new OE;const C_=new ze("AllowMultipleToken");class k_{constructor(n,t){this.name=n,this.token=t}}function w_(e,n,t=[]){const r=`Platform: ${n}`,s=new ze(r);return(c=[])=>{let h=y_();if(!h||h.injector.get(C_,!1))if(e)e(t.concat(c).concat({provide:s,useValue:!0}));else{const p=t.concat(c).concat({provide:s,useValue:!0},{provide:J2,useValue:"platform"});!function(e){if(Gr&&!Gr.destroyed&&!Gr.injector.get(C_,!1))throw new li("400","");Gr=e.get(A_);const n=e.get(f_,null);n&&n.forEach(t=>t())}(Zt.create({providers:p,name:r}))}return function(e){const n=y_();if(!n)throw new li("401","");return n}()}}function y_(){return Gr&&!Gr.destroyed?Gr:null}let A_=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const p=function(e,n){let t;return t="noop"===e?new zE:("zone.js"===e?void 0:e)||new Mt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),m=[{provide:Mt,useValue:p}];return p.run(()=>{const v=Zt.create({providers:m,parent:this.injector,name:t.moduleType.name}),k=t.create(v),y=k.injector.get(Ys,null);if(!y)throw new li("402","");return p.runOutsideAngular(()=>{const A=p.onError.subscribe({next:M=>{y.handleError(M)}});k.onDestroy(()=>{X7(this._modules,k),A.unsubscribe()})}),function(e,n,t){try{const r=t();return ba(r)?r.catch(s=>{throw n.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(y,p,()=>{const A=k.injector.get(_l);return A.runInitializers(),A.donePromise.then(()=>(function(e){ui(e,"Expected localeId to be defined"),"string"==typeof e&&(ov=e.toLowerCase().replace(/_/g,"-"))}(k.injector.get(wa,J8)||J8),this._moduleDoBootstrap(k),k))})})}bootstrapModule(t,r=[]){const s=D_({},r);return function(e,n,t){const r=new T7(t);return Promise.resolve(r)}(0,0,t).then(c=>this.bootstrapModuleFactory(c,s))}_moduleDoBootstrap(t){const r=t.injector.get(Cl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new li("403","");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new li("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(oe(Zt))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();function D_(e,n){return Array.isArray(n)?n.reduce(D_,e):Object.assign(Object.assign({},e),n)}let Cl=(()=>{class e{constructor(t,r,s,c,h){this._zone=t,this._injector=r,this._exceptionHandler=s,this._componentFactoryResolver=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new Ke(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new Ke(v=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Mt.assertNotInAngularZone(),K7(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{Mt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{k.unsubscribe(),y.unsubscribe()}});this.isStable=function(...e){const n=or(e),t=function(e,n){return"number"==typeof Es(e)?e.pop():1/0}(e),r=e;return r.length?1===r.length?Ve(r[0]):La(t)(dn(r,n)):Wi}(p,m.pipe(function(e={}){const{connector:n=(()=>new Ft),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return c=>{let h=null,p=null,m=null,v=0,k=!1,y=!1;const A=()=>{null==p||p.unsubscribe(),p=null},M=()=>{A(),h=m=null,k=y=!1},N=()=>{const O=h;M(),null==O||O.unsubscribe()};return Ut((O,B)=>{v++,!y&&!k&&A();const j=m=null!=m?m:n();B.add(()=>{v--,0===v&&!y&&!k&&(p=Dc(N,s))}),j.subscribe(B),h||(h=new ot({next:F=>j.next(F),error:F=>{y=!0,A(),p=Dc(M,t,F),j.error(F)},complete:()=>{k=!0,A(),p=Dc(M,r),j.complete()}}),dn(O).subscribe(h))})(c)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new li("405","");let s;s=t instanceof Nv?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(s.componentType);const c=function(e){return e.isBoundToModule}(s)?void 0:this._injector.get(ls),p=s.create(Zt.NULL,[],r||s.selector,c),m=p.location.nativeElement,v=p.injector.get(Y7,null),k=v&&p.injector.get(__);return v&&k&&k.registerApplication(m,v),p.onDestroy(()=>{this.detachView(p.hostView),X7(this.components,p),k&&k.unregisterApplication(m)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new li("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;X7(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(p_,[]).concat(this._bootstrapListeners).forEach(s=>s(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(oe(Mt),oe(Zt),oe(Ys),oe(Y1),oe(_l))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();function X7(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let M_=!0,yo=(()=>{class e{}return e.__NG_ELEMENT_ID__=WE,e})();function WE(e){return function(e,n,t){if(Ka(e)&&!t){const r=$n(e.index,n);return new y6(r,r)}return 47&e.type?new y6(n[16],n):null}(hn(),Q(),16==(16&e))}class z_{constructor(){}supports(n){return G1(n)}create(n){return new XE(n)}}const QE=(e,n)=>n;class XE{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||QE}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,s=0,c=null;for(;t||r;){const h=!r||t&&t.currentIndex<L_(r,s,c)?t:r,p=L_(h,s,c),m=h.currentIndex;if(h===r)s--,r=r._nextRemoved;else if(t=t._next,null==h.previousIndex)s++;else{c||(c=[]);const v=p-s,k=m-s;if(v!=k){for(let A=0;A<v;A++){const M=A<c.length?c[A]:c[A]=0,N=M+A;k<=N&&N<v&&(c[A]=M+1)}c[h.previousIndex]=k-v}}p!==m&&n(h,p,m)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!G1(n))throw new Error(`Error trying to diff '${tt(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s,c,h,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let p=0;p<this.length;p++)c=n[p],h=this._trackByFn(p,c),null!==t&&Object.is(t.trackById,h)?(r&&(t=this._verifyReinsertion(t,c,h,p)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,h,p),r=!0),t=t._next}else s=0,function(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[da()]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,p=>{h=this._trackByFn(s,p),null!==t&&Object.is(t.trackById,h)?(r&&(t=this._verifyReinsertion(t,p,h,s)),Object.is(t.item,p)||this._addIdentityChange(t,p)):(t=this._mismatch(t,p,h,s),r=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,s){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,c,s)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,c,s)):n=this._addAfter(new eS(t,r),c,s),n}_verifyReinsertion(n,t,r,s){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==c?n=this._reinsertAfter(c,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const s=n._prevRemoved,c=n._nextRemoved;return null===s?this._removalsHead=c:s._nextRemoved=c,null===c?this._removalsTail=s:c._prevRemoved=s,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const s=null===t?this._itHead:t._next;return n._next=s,n._prev=t,null===s?this._itTail=n:s._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new O_),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new O_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class eS{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tS{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class O_{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new tS,this.map.set(t,r)),r.add(n)}get(n,t){const s=this.map.get(n);return s?s.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function L_(e,n,t){const r=e.previousIndex;if(null===r)return r;let s=0;return t&&r<t.length&&(s=t[r]),r+n+s}class R_{constructor(){}supports(n){return n instanceof Map||U1(n)}create(){return new nS}}class nS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||U1(n)))throw new Error(`Error trying to diff '${tt(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const c=this._getOrCreateRecordForKey(s,r);t=this._insertBeforeOrAppend(t,c)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const s=this._records.get(n);this._maybeAddToChanges(s,t);const c=s._prev,h=s._next;return c&&(c._next=h),h&&(h._prev=c),s._next=null,s._prev=null,s}const r=new iS(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class iS{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function V_(){return new T6([new z_])}let T6=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const s=r.factories.slice();t=t.concat(s)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||V_()),deps:[[e,new Or,new Zi]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(e){return e.name||typeof e}(t)}'`)}}return e.\u0275prov=ge({token:e,providedIn:"root",factory:V_}),e})();function F_(){return new kl([new R_])}let kl=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const s=r.factories.slice();t=t.concat(s)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||F_()),deps:[[e,new Or,new Zi]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return e.\u0275prov=ge({token:e,providedIn:"root",factory:F_}),e})();const oS=[new R_],aS=new T6([new z_]),cS=new kl(oS),lS=w_(null,"core",[{provide:N6,useValue:"unknown"},{provide:A_,deps:[Zt]},{provide:__,deps:[]},{provide:g_,deps:[]}]),pS=[{provide:Cl,useClass:Cl,deps:[Mt,Zt,Ys,Y1,_l]},{provide:SM,deps:[Mt],useFactory:function(e){let n=[];return e.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(t){n.push(t)}}},{provide:_l,useClass:_l,deps:[[new Zi,sh]]},{provide:ah,useClass:ah,deps:[]},xE,{provide:T6,useFactory:function(){return aS},deps:[]},{provide:kl,useFactory:function(){return cS},deps:[]},{provide:wa,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||J8},deps:[[new g1(wa),new Zi,new Or]]},{provide:m_,useValue:"USD"}];let mS=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(oe(Cl))},e.\u0275mod=st({type:e}),e.\u0275inj=je({providers:pS}),e})(),lh=null;function Ao(){return lh}const sn=new ze("DocumentToken");let X1=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:function(){return oe(H_)},providedIn:"platform"}),e})();const kS=new ze("Location Initialized");let H_=(()=>{class e extends X1{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ao().getBaseHref(this._doc)}onPopState(t){const r=Ao().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ao().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){B_()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){B_()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(oe(sn))},e.\u0275prov=ge({token:e,factory:function(){return new H_(oe(sn))},providedIn:"platform"}),e})();function B_(){return!!window.history.pushState}function rg(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function j_(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function us(e){return e&&"?"!==e[0]?"?"+e:e}let wl=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:function(){return function(e){const n=oe(sn).location;return new G_(oe(X1),n&&n.origin||"")}()},providedIn:"root"}),e})();const og=new ze("appBaseHref");let G_=(()=>{class e extends wl{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rg(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+us(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,c){const h=this.prepareExternalUrl(s+us(c));this._platformLocation.pushState(t,r,h)}replaceState(t,r,s,c){const h=this.prepareExternalUrl(s+us(c));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return e.\u0275fac=function(t){return new(t||e)(oe(X1),oe(og,8))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),AS=(()=>{class e extends wl{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=rg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,c){let h=this.prepareExternalUrl(s+us(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,s,c){let h=this.prepareExternalUrl(s+us(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return e.\u0275fac=function(t){return new(t||e)(oe(X1),oe(og,8))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),sg=(()=>{class e{constructor(t,r){this._subject=new Ce,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=j_(U_(s)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+us(r))}normalize(t){return e.stripTrailingSlash(function(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._baseHref,U_(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._platformStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+us(r)),s)}replaceState(t,r="",s=null){this._platformStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+us(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return e.normalizeQueryParams=us,e.joinWithSlash=rg,e.stripTrailingSlash=j_,e.\u0275fac=function(t){return new(t||e)(oe(wl),oe(X1))},e.\u0275prov=ge({token:e,factory:function(){return new sg(oe(wl),oe(X1))},providedIn:"root"}),e})();function U_(e){return e.replace(/\/index.html$/,"")}var An=(()=>((An=An||{})[An.Zero=0]="Zero",An[An.One=1]="One",An[An.Two=2]="Two",An[An.Few=3]="Few",An[An.Many=4]="Many",An[An.Other=5]="Other",An))();const PS=function(e){return function(e){const n=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=rv(n);if(t)return t;const r=n.split("-")[0];if(t=rv(r),t)return t;if("en"===r)return Cx;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[ae.PluralCase]};class _h{}let cN=(()=>{class e extends _h{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(PS(r||this.locale)(t)){case An.Zero:return"zero";case An.One:return"one";case An.Two:return"two";case An.Few:return"few";case An.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(oe(wa))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();function X_(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[s,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===n)return decodeURIComponent(c)}return null}class uN{constructor(n,t,r,s){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Do=(()=>{class e{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,c,h)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new uN(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===c?void 0:c);else if(null!==c){const p=r.get(c);r.move(p,h),eC(p,s)}});for(let s=0,c=r.length;s<c;s++){const p=r.get(s).context;p.index=s,p.count=c,p.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{eC(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(z(jr),z(on),z(T6))},e.\u0275dir=re({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function eC(e,n){e.context.$implicit=n.item}let ji=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new hN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(z(jr),z(on))},e.\u0275dir=re({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class hN{constructor(){this.$implicit=null,this.ngIf=null}}function tC(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${tt(n)}'.`)}let Gi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({providers:[{provide:_h,useClass:cN}]}),e})();let jN=(()=>{class e{}return e.\u0275prov=ge({token:e,providedIn:"root",factory:()=>new GN(oe(sn),window)}),e})();class GN{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const c=s.shadowRoot;if(c){const h=c.getElementById(n)||c.querySelector(`[name="${n}"]`);if(h)return h}s=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],s-c[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=oC(this.window.history)||oC(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function oC(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class sC{}class _g extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new _g,lh||(lh=e)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=(O6=O6||document.querySelector("base"),O6?O6.getAttribute("href"):null);return null==t?null:function(e){Ch=Ch||document.createElement("a"),Ch.setAttribute("href",e);const n=Ch.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){O6=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return X_(document.cookie,n)}}let Ch,O6=null;const aC=new ze("TRANSITION_ID"),JN=[{provide:sh,useFactory:function(e,n,t){return()=>{t.get(_l).donePromise.then(()=>{const r=Ao(),s=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let c=0;c<s.length;c++)r.remove(s[c])})}},deps:[aC,sn,Zt],multi:!0}];class Cg{static init(){var e;e=new Cg,Q7=e}addToWindow(n){bt.getAngularTestability=(r,s=!0)=>{const c=n.findTestabilityInTree(r,s);if(null==c)throw new Error("Could not find testability for element.");return c},bt.getAllAngularTestabilities=()=>n.getAllTestabilities(),bt.getAllAngularRootElements=()=>n.getAllRootElements(),bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(r=>{const s=bt.getAllAngularTestabilities();let c=s.length,h=!1;const p=function(m){h=h||m,c--,0==c&&r(h)};s.forEach(function(m){m.whenStable(p)})})}findTestabilityInTree(n,t,r){if(null==t)return null;const s=n.getTestability(t);return null!=s?s:r?Ao().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}}let ZN=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const kh=new ze("EventManagerPlugins");let wh=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let c=0;c<s.length;c++){const h=s[c];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(oe(kh),oe(Mt))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();class cC{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const s=Ao().getGlobalEventTarget(this._doc,n);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let lC=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),L6=(()=>{class e extends lC{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,s.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(dC),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(dC))}}return e.\u0275fac=function(t){return new(t||e)(oe(sn))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();function dC(e){Ao().remove(e)}const kg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wg=/%COMP%/g;function yh(e,n,t){for(let r=0;r<n.length;r++){let s=n[r];Array.isArray(s)?yh(e,s,t):(s=s.replace(wg,e),t.push(s))}return t}function fC(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let yg=(()=>{class e{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Ag(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case qi.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new nT(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case qi.ShadowDom:return new iT(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=yh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(oe(wh),oe(L6),oe(S6))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();class Ag{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(kg[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){n.appendChild(t)}insertBefore(n,t,r){n&&n.insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,s){if(s){t=s+":"+t;const c=kg[s];c?n.setAttributeNS(c,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const s=kg[r];s?n.removeAttributeNS(s,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,s){s&(ei.DashCase|ei.Important)?n.style.setProperty(t,r,s&ei.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&ei.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,fC(r)):this.eventManager.addEventListener(n,t,fC(r))}}class nT extends Ag{constructor(n,t,r,s){super(n),this.component=r;const c=yh(s+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(wg,s+"-"+r.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(wg,e)}(s+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class iT extends Ag{constructor(n,t,r,s){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=yh(s.id,s.styles,[]);for(let h=0;h<c.length;h++){const p=document.createElement("style");p.textContent=c[h],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let rT=(()=>{class e extends cC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return e.\u0275fac=function(t){return new(t||e)(oe(sn))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const gC=["alt","control","meta","shift"],sT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},aT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let cT=(()=>{class e extends cC{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,s){const c=e.parseEventName(r),h=e.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ao().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const c=e._normalizeKey(r.pop());let h="";if(gC.forEach(m=>{const v=r.indexOf(m);v>-1&&(r.splice(v,1),h+=m+".")}),h+=c,0!=r.length||0===c.length)return null;const p={};return p.domEventName=s,p.fullKey=h,p}static getEventFullKey(t){let r="",s=function(e){let n=e.key;if(null==n){if(n=e.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===e.location&&mC.hasOwnProperty(n)&&(n=mC[n]))}return sT[n]||n}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),gC.forEach(c=>{c!=s&&aT[c](t)&&(r+=c+".")}),r+=s,r}static eventCallback(t,r,s){return c=>{e.getEventFullKey(c)===t&&s.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(oe(sn))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const fT=w_(lS,"browser",[{provide:N6,useValue:"browser"},{provide:f_,useValue:function(){_g.makeCurrent(),Cg.init()},multi:!0},{provide:sn,useFactory:function(){return e=document,v0=e,document;var e},deps:[]}]),pT=[{provide:J2,useValue:"root"},{provide:Ys,useFactory:function(){return new Ys},deps:[]},{provide:kh,useClass:rT,multi:!0,deps:[sn,Mt,N6]},{provide:kh,useClass:cT,multi:!0,deps:[sn]},{provide:yg,useClass:yg,deps:[wh,L6,S6]},{provide:E7,useExisting:yg},{provide:lC,useExisting:L6},{provide:L6,useClass:L6,deps:[sn]},{provide:Y7,useClass:Y7,deps:[Mt]},{provide:wh,useClass:wh,deps:[kh,Mt]},{provide:sC,useClass:ZN,deps:[]}];let gT=(()=>{class e{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:S6,useValue:t.appId},{provide:aC,useExisting:S6},JN]}}}return e.\u0275fac=function(t){return new(t||e)(oe(e,12))},e.\u0275mod=st({type:e}),e.\u0275inj=je({providers:pT,imports:[Gi,mS]}),e})();"undefined"!=typeof window&&window;let _C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:function(t){let r=null;return r=t?new(t||e):oe(CC),r},providedIn:"root"}),e})(),CC=(()=>{class e extends _C{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case kt.NONE:return r;case kt.HTML:return Oi(r,"HTML")?_i(r):f2(this._doc,String(r)).toString();case kt.STYLE:return Oi(r,"Style")?_i(r):r;case kt.SCRIPT:if(Oi(r,"Script"))return _i(r);throw new Error("unsafe value used in a script context");case kt.URL:return Q0(r),Oi(r,"URL")?_i(r):w1(String(r));case kt.RESOURCE_URL:if(Oi(r,"ResourceURL"))return _i(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(e){return new Bd(e)}(t)}bypassSecurityTrustStyle(t){return function(e){return new jd(e)}(t)}bypassSecurityTrustScript(t){return function(e){return new Nf(e)}(t)}bypassSecurityTrustUrl(t){return function(e){return new Tf(e)}(t)}bypassSecurityTrustResourceUrl(t){return function(e){return new Gd(e)}(t)}}return e.\u0275fac=function(t){return new(t||e)(oe(sn))},e.\u0275prov=ge({token:e,factory:function(t){let r=null;return r=t?new t:function(e){return new CC(e.get(sn))}(oe(Zt)),r},providedIn:"root"}),e})();function Ie(...e){return dn(e,or(e))}class Gn extends Ft{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const{isArray:xT}=Array,{getPrototypeOf:MT,prototype:ET,keys:ST}=Object;function kC(e){if(1===e.length){const n=e[0];if(xT(n))return{args:n,keys:null};if(function(e){return e&&"object"==typeof e&&MT(e)===ET}(n)){const t=ST(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:TT}=Array;function xg(e){return Be(n=>function(e,n){return TT(n)?e(...n):e(n)}(e,n))}function wC(e,n){return e.reduce((t,r,s)=>(t[r]=n[s],t),{})}function yC(e,n,t){e?Dr(t,e,n):n()}const Ah=E(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function R6(...e){return La(1)(dn(e,or(e)))}function AC(e){return new Ke(n=>{Ve(e()).subscribe(n)})}function DC(){return Ut((e,n)=>{let t=null;e._refCount++;const r=new At(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const s=e._connection,c=t;t=null,s&&(!c||s===c)&&s.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class OT extends Ke{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yr(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new G;const t=this.getSubject();n.add(this.source.subscribe(new At(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=G.EMPTY)}return n}refCount(){return DC()(this)}}function fs(e,n){return Ut((t,r)=>{let s=null,c=0,h=!1;const p=()=>h&&!s&&r.complete();t.subscribe(new At(r,m=>{null==s||s.unsubscribe();let v=0;const k=c++;Ve(e(m,k)).subscribe(s=new At(r,y=>r.next(n?n(m,y,k,v++):y),()=>{s=null,p()}))},()=>{h=!0,p()}))})}function LT(e,n,t,r,s){return(c,h)=>{let p=t,m=n,v=0;c.subscribe(new At(h,k=>{const y=v++;m=p?e(m,k,y):(p=!0,k),r&&h.next(m)},s&&(()=>{p&&h.next(m),h.complete()})))}}function xC(e,n){return Ut(LT(e,n,arguments.length>=2,!0))}function Ui(e,n){return Ut((t,r)=>{let s=0;t.subscribe(new At(r,c=>e.call(n,c,s++)&&r.next(c)))})}function Aa(e){return Ut((n,t)=>{let c,r=null,s=!1;r=n.subscribe(new At(t,void 0,void 0,h=>{c=Ve(e(h,Aa(e)(n))),r?(r.unsubscribe(),r=null,c.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,c.subscribe(t))})}function yl(e,n){return U(n)?en(e,n,1):en(e,1)}function Eg(e){return e<=0?()=>Wi:Ut((n,t)=>{let r=[];n.subscribe(new At(t,s=>{r.push(s),e<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function MC(e=RT){return Ut((n,t)=>{let r=!1;n.subscribe(new At(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(e())))})}function RT(){return new Ah}function EC(e){return Ut((n,t)=>{let r=!1;n.subscribe(new At(t,s=>{r=!0,t.next(s)},()=>{r||t.next(e),t.complete()}))})}function ec(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ui((s,c)=>e(s,c,r)):Ni,Rn(1),t?EC(n):MC(()=>new Ah))}function xi(e,n,t){const r=U(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ut((s,c)=>{var h;null===(h=r.subscribe)||void 0===h||h.call(r);let p=!0;s.subscribe(new At(c,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),c.next(m)},()=>{var m;p=!1,null===(m=r.complete)||void 0===m||m.call(r),c.complete()},m=>{var v;p=!1,null===(v=r.error)||void 0===v||v.call(r,m),c.error(m)},()=>{var m,v;p&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Ni}class ps{constructor(n,t){this.id=n,this.url=t}}class Sg extends ps{constructor(n,t,r="imperative",s=null){super(n,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class V6 extends ps{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class SC extends ps{constructor(n,t,r){super(n,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HT extends ps{constructor(n,t,r){super(n,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BT extends ps{constructor(n,t,r,s){super(n,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jT extends ps{constructor(n,t,r,s){super(n,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GT extends ps{constructor(n,t,r,s,c){super(n,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class UT extends ps{constructor(n,t,r,s){super(n,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $T extends ps{constructor(n,t,r,s){super(n,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NC{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TC{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WT{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qT{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KT{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JT{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IC{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qe="primary";class ZT{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Al(e){return new ZT(e)}const PC="ngNavigationCancelingError";function Ng(e){const n=Error("NavigationCancelingError: "+e);return n[PC]=!0,n}function QT(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const s={};for(let c=0;c<r.length;c++){const h=r[c],p=e[c];if(h.startsWith(":"))s[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}function xo(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let c=0;c<t.length;c++)if(s=t[c],!zC(e[s],n[s]))return!1;return!0}function zC(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((s,c)=>r[c]===s)}return e===n}function OC(e){return Array.prototype.concat.apply([],e)}function LC(e){return e.length>0?e[e.length-1]:null}function Yn(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function Mo(e){return al(e)?e:ba(e)?dn(Promise.resolve(e)):Ie(e)}const tI={exact:function FC(e,n,t){if(!nc(e.segments,n.segments)||!xh(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!FC(e.children[r],n.children[r],t))return!1;return!0},subset:HC},RC={exact:function(e,n){return xo(e,n)},subset:function(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>zC(e[t],n[t]))},ignored:()=>!0};function VC(e,n,t){return tI[t.paths](e.root,n.root,t.matrixParams)&&RC[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function HC(e,n,t){return BC(e,n,n.segments,t)}function BC(e,n,t,r){if(e.segments.length>t.length){const s=e.segments.slice(0,t.length);return!(!nc(s,t)||n.hasChildren()||!xh(s,t,r))}if(e.segments.length===t.length){if(!nc(e.segments,t)||!xh(e.segments,t,r))return!1;for(const s in n.children)if(!e.children[s]||!HC(e.children[s],n.children[s],r))return!1;return!0}{const s=t.slice(0,e.segments.length),c=t.slice(e.segments.length);return!!(nc(e.segments,s)&&xh(e.segments,s,r)&&e.children[Qe])&&BC(e.children[Qe],n,c,r)}}function xh(e,n,t){return n.every((r,s)=>RC[t](e[s].parameters,r.parameters))}class tc{constructor(n,t,r){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Al(this.queryParams)),this._queryParamMap}toString(){return sI.serialize(this)}}class it{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Yn(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mh(this)}}class F6{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Al(this.parameters)),this._parameterMap}toString(){return WC(this)}}function nc(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}class jC{}class GC{parse(n){const t=new gI(n);return new tc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${H6(n.root,!0)}`,r=function(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(s=>`${Eh(t)}=${Eh(s)}`).join("&"):`${Eh(t)}=${Eh(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);var e;return`${t}${r}${"string"==typeof n.fragment?`#${e=n.fragment,encodeURI(e)}`:""}`}}const sI=new GC;function Mh(e){return e.segments.map(n=>WC(n)).join("/")}function H6(e,n){if(!e.hasChildren())return Mh(e);if(n){const t=e.children[Qe]?H6(e.children[Qe],!1):"",r=[];return Yn(e.children,(s,c)=>{c!==Qe&&r.push(`${c}:${H6(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(e,n){let t=[];return Yn(e.children,(r,s)=>{s===Qe&&(t=t.concat(n(r,s)))}),Yn(e.children,(r,s)=>{s!==Qe&&(t=t.concat(n(r,s)))}),t}(e,(r,s)=>s===Qe?[H6(e.children[Qe],!1)]:[`${s}:${H6(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Qe]?`${Mh(e)}/${t[0]}`:`${Mh(e)}/(${t.join("//")})`}}function UC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eh(e){return UC(e).replace(/%3B/gi,";")}function Tg(e){return UC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sh(e){return decodeURIComponent(e)}function $C(e){return Sh(e.replace(/\+/g,"%20"))}function WC(e){return`${Tg(e.path)}${function(e){return Object.keys(e).map(n=>`;${Tg(n)}=${Tg(e[n])}`).join("")}(e.parameters)}`}const dI=/^[^\/()?;=#]+/;function Nh(e){const n=e.match(dI);return n?n[0]:""}const uI=/^[^=?&#]+/,fI=/^[^&#]+/;class gI{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Qe]=new it(n,t)),r}parseSegment(){const n=Nh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new F6(Sh(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=Nh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Nh(this.remaining);s&&(r=s,this.capture(r))}n[Sh(t)]=Sh(r)}parseQueryParam(n){const t=function(e){const n=e.match(uI);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(e){const n=e.match(fI);return n?n[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const s=$C(t),c=$C(r);if(n.hasOwnProperty(s)){let h=n[s];Array.isArray(h)||(h=[h],n[s]=h),h.push(c)}else n[s]=c}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Nh(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):n&&(c=Qe);const h=this.parseChildren();t[c]=1===Object.keys(h).length?h[Qe]:new it([],h),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class qC{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Ig(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Ig(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Pg(n,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==n)}pathFromRoot(n){return Pg(n,this._root).map(t=>t.value)}}function Ig(e,n){if(e===n.value)return n;for(const t of n.children){const r=Ig(e,t);if(r)return r}return null}function Pg(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Pg(e,t);if(r.length)return r.unshift(n),r}return[]}class gs{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dl(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class KC extends qC{constructor(n,t){super(n),this.snapshot=t,zg(this,n)}toString(){return this.snapshot.toString()}}function JC(e,n){const t=function(e,n){const h=new Th([],{},{},"",{},Qe,n,null,e.root,-1,{});return new YC("",new gs(h,[]))}(e,n),r=new Gn([new F6("",{})]),s=new Gn({}),c=new Gn({}),h=new Gn({}),p=new Gn(""),m=new ic(r,s,h,p,c,Qe,n,t.root);return m.snapshot=t.root,new KC(new gs(m,[]),t)}class ic{constructor(n,t,r,s,c,h,p,m){this.url=n,this.params=t,this.queryParams=r,this.fragment=s,this.data=c,this.outlet=h,this.component=p,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Be(n=>Al(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Be(n=>Al(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZC(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const s=t[r],c=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(c.component)break;r--}}return function(e){return e.reduce((n,t)=>({params:Object.assign(Object.assign({},n.params),t.params),data:Object.assign(Object.assign({},n.data),t.data),resolve:Object.assign(Object.assign({},n.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Th{constructor(n,t,r,s,c,h,p,m,v,k,y){this.url=n,this.params=t,this.queryParams=r,this.fragment=s,this.data=c,this.outlet=h,this.component=p,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=k,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Al(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Al(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YC extends qC{constructor(n,t){super(t),this.url=n,zg(this,t)}toString(){return QC(this._root)}}function zg(e,n){n.value._routerState=e,n.children.forEach(t=>zg(e,t))}function QC(e){const n=e.children.length>0?` { ${e.children.map(QC).join(", ")} } `:"";return`${e.value}${n}`}function Og(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,xo(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),xo(n.params,t.params)||e.params.next(t.params),function(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!xo(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),xo(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Lg(e,n){const t=xo(e.params,n.params)&&function(e,n){return nc(e,n)&&e.every((t,r)=>xo(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Lg(e.parent,n.parent))}function B6(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const s=function(e,n,t){return n.children.map(r=>{for(const s of t.children)if(e.shouldReuseRoute(r.value,s.value.snapshot))return B6(e,r,s);return B6(e,r)})}(e,n,t);return new gs(r,s)}{if(e.shouldAttach(n.value)){const c=e.retrieve(n.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(p=>B6(e,p)),h}}const r=function(e){return new ic(new Gn(e.url),new Gn(e.params),new Gn(e.queryParams),new Gn(e.fragment),new Gn(e.data),e.outlet,e.component,e)}(n.value),s=n.children.map(c=>B6(e,c));return new gs(r,s)}}function Ih(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function j6(e){return"object"==typeof e&&null!=e&&e.outlets}function Rg(e,n,t,r,s){let c={};return r&&Yn(r,(h,p)=>{c[p]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`}),new tc(t.root===e?n:XC(t.root,e,n),c,s)}function XC(e,n,t){const r={};return Yn(e.children,(s,c)=>{r[c]=s===n?t:XC(s,n,t)}),new it(e.segments,r)}class ek{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ih(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(j6);if(s&&s!==LC(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vg{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function tk(e,n,t){if(e||(e=new it([],{})),0===e.segments.length&&e.hasChildren())return Ph(e,n,t);const r=function(e,n,t){let r=0,s=n;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=t.length)return c;const h=e.segments[s],p=t[r];if(j6(p))break;const m=`${p}`,v=r<t.length-1?t[r+1]:null;if(s>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!ik(m,v,h))return c;r+=2}else{if(!ik(m,{},h))return c;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(e,n,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const c=new it(e.segments.slice(0,r.pathIndex),{});return c.children[Qe]=new it(e.segments.slice(r.pathIndex),e.children),Ph(c,0,s)}return r.match&&0===s.length?new it(e.segments,{}):r.match&&!e.hasChildren()?Fg(e,n,t):r.match?Ph(e,0,s):Fg(e,n,t)}function Ph(e,n,t){if(0===t.length)return new it(e.segments,{});{const r=function(e){return j6(e[0])?e[0].outlets:{[Qe]:e}}(t),s={};return Yn(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(s[h]=tk(e.children[h],n,c))}),Yn(e.children,(c,h)=>{void 0===r[h]&&(s[h]=c)}),new it(e.segments,s)}}function Fg(e,n,t){const r=e.segments.slice(0,n);let s=0;for(;s<t.length;){const c=t[s];if(j6(c)){const m=MI(c.outlets);return new it(r,m)}if(0===s&&Ih(t[0])){r.push(new F6(e.segments[n].path,nk(t[0]))),s++;continue}const h=j6(c)?c.outlets[Qe]:`${c}`,p=s<t.length-1?t[s+1]:null;h&&p&&Ih(p)?(r.push(new F6(h,nk(p))),s+=2):(r.push(new F6(h,{})),s++)}return new it(r,{})}function MI(e){const n={};return Yn(e,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[r]=Fg(new it([],{}),0,t))}),n}function nk(e){const n={};return Yn(e,(t,r)=>n[r]=`${t}`),n}function ik(e,n,t){return e==t.path&&xo(n,t.parameters)}class SI{constructor(n,t,r,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Og(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const s=Dl(t);n.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,s[h],r),delete s[h]}),Yn(s,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(n,t,r){const s=n.value,c=t?t.value:null;if(s===c)if(s.component){const h=r.getContext(s.outlet);h&&this.deactivateChildRoutes(n,t,h.children)}else this.deactivateChildRoutes(n,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),s=r&&n.value.component?r.children:t,c=Dl(n);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],s);if(r&&r.outlet){const h=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:p})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),s=r&&n.value.component?r.children:t,c=Dl(n);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,t,r){const s=Dl(t);n.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],r),this.forwardEvent(new JT(c.value.snapshot))}),n.children.length&&this.forwardEvent(new qT(n.value.snapshot))}activateRoutes(n,t,r){const s=n.value,c=t?t.value:null;if(Og(s),s===c)if(s.component){const h=r.getOrCreateContext(s.outlet);this.activateChildRoutes(n,t,h.children)}else this.activateChildRoutes(n,t,r);else if(s.component){const h=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(p.contexts),h.attachRef=p.componentRef,h.route=p.route.value,h.outlet&&h.outlet.attach(p.componentRef,p.route.value),Og(p.route.value),this.activateChildRoutes(n,null,h.children)}else{const p=function(e){for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),m=p?p.module.componentFactoryResolver:null;h.attachRef=null,h.route=s,h.resolver=m,h.outlet&&h.outlet.activateWith(s,m),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,r)}}class Hg{constructor(n,t){this.routes=n,this.module=t}}function Da(e){return"function"==typeof e}function rc(e){return e instanceof tc}const G6=Symbol("INITIAL_VALUE");function U6(){return fs(e=>function(...e){const n=or(e),t=zo(e),{args:r,keys:s}=kC(e);if(0===r.length)return dn([],n);const c=new Ke(function(e,n,t=Ni){return r=>{yC(n,()=>{const{length:s}=e,c=new Array(s);let h=s,p=s;for(let m=0;m<s;m++)yC(n,()=>{const v=dn(e[m],n);let k=!1;v.subscribe(new At(r,y=>{c[m]=y,k||(k=!0,p--),p||r.next(t(c.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,n,s?h=>wC(s,h):Ni));return t?c.pipe(xg(t)):c}(e.map(n=>n.pipe(Rn(1),function(...e){const n=or(e);return Ut((t,r)=>{(n?R6(e,t,n):R6(e,t)).subscribe(r)})}(G6)))).pipe(xC((n,t)=>{let r=!1;return t.reduce((s,c,h)=>s!==G6?s:(c===G6&&(r=!0),r||!1!==c&&h!==t.length-1&&!rc(c)?s:c),n)},G6),Ui(n=>n!==G6),Be(n=>rc(n)?n:!0===n),Rn(1)))}class LI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $6,this.attachRef=null}}class $6{constructor(){this.contexts=new Map}onChildOutletCreated(n,t){const r=this.getOrCreateContext(n);r.outlet=t,this.contexts.set(n,r)}onChildOutletDestroyed(n){const t=this.getContext(n);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let t=this.getContext(n);return t||(t=new LI,this.contexts.set(n,t)),t}getContext(n){return this.contexts.get(n)||null}}let zh=(()=>{class e{constructor(t,r,s,c,h){this.parentContexts=t,this.location=r,this.resolver=s,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ce,this.deactivateEvents=new Ce,this.attachEvents=new Ce,this.detachEvents=new Ce,this.name=c||Qe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,m=new RI(t,p,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(z($6),z(jr),z(Y1),co("name"),z(yo))},e.\u0275dir=re({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class RI{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===ic?this.route:n===$6?this.childContexts:this.parent.get(n,t)}}let rk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_t({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Fe(0,"router-outlet")},directives:[zh],encapsulation:2}),e})();function ok(e,n=""){for(let t=0;t<e.length;t++){const r=e[t];VI(r,FI(n,r))}}function VI(e,n){e.children&&ok(e.children,n)}function FI(e,n){return n?e||n.path?e&&!n.path?`${e}/`:!e&&n.path?n.path:`${e}/${n.path}`:"":e}function Bg(e){const n=e.children&&e.children.map(Bg),t=n?Object.assign(Object.assign({},e),{children:n}):Object.assign({},e);return!t.component&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Qe&&(t.component=rk),t}function Ar(e){return e.outlet||Qe}function sk(e,n){const t=e.filter(r=>Ar(r)===n);return t.push(...e.filter(r=>Ar(r)!==n)),t}const ak={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Oh(e,n,t){var r;if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?Object.assign({},ak):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(n.matcher||QT)(t,e,n);if(!c)return Object.assign({},ak);const h={};Yn(c.posParams,(m,v)=>{h[v]=m.path});const p=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:p,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Lh(e,n,t,r,s="corrected"){if(t.length>0&&function(e,n,t){return t.some(r=>Rh(e,n,r)&&Ar(r)!==Qe)}(e,t,r)){const h=new it(n,function(e,n,t,r){const s={};s[Qe]=r,r._sourceSegment=e,r._segmentIndexShift=n.length;for(const c of t)if(""===c.path&&Ar(c)!==Qe){const h=new it([],{});h._sourceSegment=e,h._segmentIndexShift=n.length,s[Ar(c)]=h}return s}(e,n,r,new it(t,e.children)));return h._sourceSegment=e,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(e,n,t){return t.some(r=>Rh(e,n,r))}(e,t,r)){const h=new it(e.segments,function(e,n,t,r,s,c){const h={};for(const p of r)if(Rh(e,t,p)&&!s[Ar(p)]){const m=new it([],{});m._sourceSegment=e,m._segmentIndexShift="legacy"===c?e.segments.length:n.length,h[Ar(p)]=m}return Object.assign(Object.assign({},s),h)}(e,n,t,r,e.children,s));return h._sourceSegment=e,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:t}}const c=new it(e.segments,e.children);return c._sourceSegment=e,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:t}}function Rh(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function ck(e,n,t,r){return!!(Ar(e)===r||r!==Qe&&Rh(n,t,e))&&("**"===e.path||Oh(n,e,t).matched)}function lk(e,n,t){return 0===n.length&&!e.children[t]}class W6{constructor(n){this.segmentGroup=n||null}}class dk{constructor(n){this.urlTree=n}}function Vh(e){return new Ke(n=>n.error(new W6(e)))}function uk(e){return new Ke(n=>n.error(new dk(e)))}function UI(e){return new Ke(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class qI{constructor(n,t,r,s,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=c,this.allowRedirects=!0,this.ngModule=n.get(ls)}apply(){const n=Lh(this.urlTree.root,[],[],this.config).segmentGroup,t=new it(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Qe).pipe(Be(c=>this.createUrlTree(jg(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Aa(c=>{if(c instanceof dk)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof W6?this.noMatchError(c):c}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Qe).pipe(Be(s=>this.createUrlTree(jg(s),n.queryParams,n.fragment))).pipe(Aa(s=>{throw s instanceof W6?this.noMatchError(s):s}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,t,r){const s=n.segments.length>0?new it([],{[Qe]:n}):n;return new tc(s,t,r)}expandSegmentGroup(n,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,t,r).pipe(Be(c=>new it([],c))):this.expandSegment(n,r,t,r.segments,s,!0)}expandChildren(n,t,r){const s=[];for(const c of Object.keys(r.children))"primary"===c?s.unshift(c):s.push(c);return dn(s).pipe(yl(c=>{const h=r.children[c],p=sk(t,c);return this.expandSegmentGroup(n,p,h,c).pipe(Be(m=>({segment:m,outlet:c})))}),xC((c,h)=>(c[h.outlet]=h.segment,c),{}),function(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ui((s,c)=>e(s,c,r)):Ni,Eg(1),t?EC(n):MC(()=>new Ah))}())}expandSegment(n,t,r,s,c,h){return dn(r).pipe(yl(p=>this.expandSegmentAgainstRoute(n,t,r,p,s,c,h).pipe(Aa(v=>{if(v instanceof W6)return Ie(null);throw v}))),ec(p=>!!p),Aa((p,m)=>{if(p instanceof Ah||"EmptyError"===p.name){if(lk(t,s,c))return Ie(new it([],{}));throw new W6(t)}throw p}))}expandSegmentAgainstRoute(n,t,r,s,c,h,p){return ck(s,t,c,h)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(n,t,s,c,h):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,r,s,c,h):Vh(t):Vh(t)}expandSegmentAgainstRouteUsingRedirect(n,t,r,s,c,h){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,s,h):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,s,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,s){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uk(c):this.lineralizeSegments(r,c).pipe(en(h=>{const p=new it(h,{});return this.expandSegment(n,p,t,h,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,s,c,h){const{matched:p,consumedSegments:m,lastChild:v,positionalParamSegments:k}=Oh(t,s,c);if(!p)return Vh(t);const y=this.applyRedirectCommands(m,s.redirectTo,k);return s.redirectTo.startsWith("/")?uk(y):this.lineralizeSegments(s,y).pipe(en(A=>this.expandSegment(n,t,r,A.concat(c.slice(v)),h,!1)))}matchSegmentAgainstRoute(n,t,r,s,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ie(r._loadedConfig):this.configLoader.load(n.injector,r)).pipe(Be(A=>(r._loadedConfig=A,new it(s,{})))):Ie(new it(s,{}));const{matched:h,consumedSegments:p,lastChild:m}=Oh(t,r,s);if(!h)return Vh(t);const v=s.slice(m);return this.getChildConfig(n,r,s).pipe(en(y=>{const A=y.module,M=y.routes,{segmentGroup:N,slicedSegments:O}=Lh(t,p,v,M),B=new it(N.segments,N.children);if(0===O.length&&B.hasChildren())return this.expandChildren(A,M,B).pipe(Be(ue=>new it(p,ue)));if(0===M.length&&0===O.length)return Ie(new it(p,{}));const j=Ar(r)===c;return this.expandSegment(A,B,M,O,j?Qe:c,!0).pipe(Be(ie=>new it(p.concat(ie.segments),ie.children)))}))}getChildConfig(n,t,r){return t.children?Ie(new Hg(t.children,n)):t.loadChildren?void 0!==t._loadedConfig?Ie(t._loadedConfig):this.runCanLoadGuards(n.injector,t,r).pipe(en(s=>{return s?this.configLoader.load(n.injector,t).pipe(Be(c=>(t._loadedConfig=c,c))):(e=t,new Ke(n=>n.error(Ng(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))));var e})):Ie(new Hg([],n))}runCanLoadGuards(n,t,r){const s=t.canLoad;return s&&0!==s.length?Ie(s.map(h=>{const p=n.get(h);let m;if((e=p)&&Da(e.canLoad))m=p.canLoad(t,r);else{if(!Da(p))throw new Error("Invalid CanLoad guard");m=p(t,r)}var e;return Mo(m)})).pipe(U6(),xi(h=>{if(!rc(h))return;const p=Ng(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw p.url=h,p}),Be(h=>!0===h)):Ie(!0)}lineralizeSegments(n,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return Ie(r);if(s.numberOfChildren>1||!s.children[Qe])return UI(n.redirectTo);s=s.children[Qe]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreatreUrlTree(n,t,r,s){const c=this.createSegmentGroup(n,t.root,r,s);return new tc(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Yn(n,(s,c)=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);r[c]=t[p]}else r[c]=s}),r}createSegmentGroup(n,t,r,s){const c=this.createSegments(n,t.segments,r,s);let h={};return Yn(t.children,(p,m)=>{h[m]=this.createSegmentGroup(n,p,r,s)}),new it(c,h)}createSegments(n,t,r,s){return t.map(c=>c.path.startsWith(":")?this.findPosParam(n,c,s):this.findOrReturn(c,r))}findPosParam(n,t,r){const s=r[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${n}'. Cannot find '${t.path}'.`);return s}findOrReturn(n,t){let r=0;for(const s of t){if(s.path===n.path)return t.splice(r),s;r++}return n}}function jg(e){const n={};for(const r of Object.keys(e.children)){const c=jg(e.children[r]);(c.segments.length>0||c.hasChildren())&&(n[r]=c)}return function(e){if(1===e.numberOfChildren&&e.children[Qe]){const n=e.children[Qe];return new it(e.segments.concat(n.segments),n.children)}return e}(new it(e.segments,n))}class hk{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Fh{constructor(n,t){this.component=n,this.route=t}}function ZI(e,n,t){const r=e._root;return q6(r,n?n._root:null,t,[r.value])}function Hh(e,n,t){const r=function(e){if(!e)return null;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(n);return(r?r.module.injector:t).get(e)}function q6(e,n,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=Dl(n);return e.children.forEach(h=>{(function(e,n,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=e.value,h=n?n.value:null,p=t?t.getContext(e.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const m=function(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!nc(e.url,n.url);case"pathParamsOrQueryParamsChange":return!nc(e.url,n.url)||!xo(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lg(e,n)||!xo(e.queryParams,n.queryParams);default:return!Lg(e,n)}}(h,c,c.routeConfig.runGuardsAndResolvers);m?s.canActivateChecks.push(new hk(r)):(c.data=h.data,c._resolvedData=h._resolvedData),q6(e,n,c.component?p?p.children:null:t,r,s),m&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new Fh(p.outlet.component,h))}else h&&K6(n,p,s),s.canActivateChecks.push(new hk(r)),q6(e,null,c.component?p?p.children:null:t,r,s)})(h,c[h.value.outlet],t,r.concat([h.value]),s),delete c[h.value.outlet]}),Yn(c,(h,p)=>K6(h,t.getContext(p),s)),s}function K6(e,n,t){const r=Dl(e),s=e.value;Yn(r,(c,h)=>{K6(c,s.component?n?n.children.getContext(h):null:n,t)}),t.canDeactivateChecks.push(new Fh(s.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,s))}class lP{}function fk(e){return new Ke(n=>n.error(e))}class uP{constructor(n,t,r,s,c,h){this.rootComponentType=n,this.config=t,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const n=Lh(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,n,Qe);if(null===t)return null;const r=new Th([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new gs(r,t),c=new YC(this.url,s);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(n){const t=n.value,r=ZC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(n,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(n,t):this.processSegment(n,t,t.segments,r)}processChildren(n,t){const r=[];for(const c of Object.keys(t.children)){const h=t.children[c],p=sk(n,c),m=this.processSegmentGroup(p,h,c);if(null===m)return null;r.push(...m)}const s=pk(r);return s.sort((n,t)=>n.value.outlet===Qe?-1:t.value.outlet===Qe?1:n.value.outlet.localeCompare(t.value.outlet)),s}processSegment(n,t,r,s){for(const c of n){const h=this.processSegmentAgainstRoute(c,t,r,s);if(null!==h)return h}return lk(t,r,s)?[]:null}processSegmentAgainstRoute(n,t,r,s){if(n.redirectTo||!ck(n,t,r,s))return null;let c,h=[],p=[];if("**"===n.path){const M=r.length>0?LC(r).parameters:{};c=new Th(r,M,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bk(n),Ar(n),n.component,n,gk(t),mk(t)+r.length,vk(n))}else{const M=Oh(t,n,r);if(!M.matched)return null;h=M.consumedSegments,p=r.slice(M.lastChild),c=new Th(h,M.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bk(n),Ar(n),n.component,n,gk(t),mk(t)+h.length,vk(n))}const m=(e=n).children?e.children:e.loadChildren?e._loadedConfig.routes:[],{segmentGroup:v,slicedSegments:k}=Lh(t,h,p,m.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution);var e;if(0===k.length&&v.hasChildren()){const M=this.processChildren(m,v);return null===M?null:[new gs(c,M)]}if(0===m.length&&0===k.length)return[new gs(c,[])];const y=Ar(n)===s,A=this.processSegment(m,v,k,y?Qe:s);return null===A?null:[new gs(c,A)]}}function pP(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function pk(e){const n=[],t=new Set;for(const r of e){if(!pP(r)){n.push(r);continue}const s=n.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):n.push(r)}for(const r of t){const s=pk(r.children);n.push(new gs(r.value,s))}return n.filter(r=>!t.has(r))}function gk(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function mk(e){let n=e,t=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift?n._segmentIndexShift:0;return t-1}function bk(e){return e.data||{}}function vk(e){return e.resolve||{}}function Gg(e){return fs(n=>{const t=e(n);return t?dn(t).pipe(Be(()=>n)):Ie(n)})}class wP extends class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const Ug=new ze("ROUTES");class _k{constructor(n,t,r,s){this.injector=n,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=s}load(n,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe(Be(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=c.create(n);return new Hg(OC(h.injector.get(Ug,void 0,Te.Self|Te.Optional)).map(Bg),h)}),Aa(c=>{throw t._loader$=void 0,c}));return t._loader$=new OT(s,()=>new Ft).pipe(DC()),t._loader$}loadModuleFactory(n){return Mo(n()).pipe(en(t=>t instanceof zv?Ie(t):dn(this.compiler.compileModuleAsync(t))))}}class AP{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function DP(e){throw e}function xP(e,n,t){return n.parse("/")}function Ck(e,n){return Ie(null)}const MP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let an=(()=>{class e{constructor(t,r,s,c,h,p,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=c,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ft,this.errorHandler=DP,this.malformedUriErrorHandler=xP,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ck,afterPreactivation:Ck},this.urlHandlingStrategy=new AP,this.routeReuseStrategy=new wP,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(ls),this.console=h.get(g_);const y=h.get(Mt);this.isNgZoneEnabled=y instanceof Mt&&Mt.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=new tc(new it([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new _k(h,p,A=>this.triggerEvent(new NC(A)),A=>this.triggerEvent(new TC(A))),this.routerState=JC(this.currentUrlTree,this.rootComponentType),this.transitions=new Gn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ui(s=>0!==s.id),Be(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),fs(s=>{let c=!1,h=!1;return Ie(s).pipe(xi(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fs(p=>{const m=this.browserUrlTree.toString(),v=!this.navigated||p.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Bh(p.source)&&(this.browserUrlTree=p.extractedUrl),Ie(p).pipe(fs(y=>{const A=this.transitions.getValue();return r.next(new Sg(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),A!==this.transitions.getValue()?Wi:Promise.resolve(y)}),function(e,n,t,r){return fs(s=>function(e,n,t,r,s){return new qI(e,n,t,r,s).apply()}(e,n,t,s.extractedUrl,r).pipe(Be(c=>Object.assign(Object.assign({},s),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),xi(y=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:y.urlAfterRedirects})}),function(e,n,t,r,s){return en(c=>function(e,n,t,r,s="emptyOnly",c="legacy"){try{const h=new uP(e,n,t,r,s,c).recognize();return null===h?fk(new lP):Ie(h)}catch(h){return fk(h)}}(e,n,c.urlAfterRedirects,t(c.urlAfterRedirects),r,s).pipe(Be(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,y=>this.serializeUrl(y),this.paramsInheritanceStrategy,this.relativeLinkResolution),xi(y=>{if("eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const M=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(M,y)}this.browserUrlTree=y.urlAfterRedirects}const A=new BT(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);r.next(A)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:M,source:N,restoredState:O,extras:B}=p,j=new Sg(A,this.serializeUrl(M),N,O);r.next(j);const F=JC(M,this.rootComponentType).snapshot;return Ie(Object.assign(Object.assign({},p),{targetSnapshot:F,urlAfterRedirects:M,extras:Object.assign(Object.assign({},B),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),Wi}),Gg(p=>{const{targetSnapshot:m,id:v,extractedUrl:k,rawUrl:y,extras:{skipLocationChange:A,replaceUrl:M}}=p;return this.hooks.beforePreactivation(m,{navigationId:v,appliedUrlTree:k,rawUrlTree:y,skipLocationChange:!!A,replaceUrl:!!M})}),xi(p=>{const m=new jT(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(m)}),Be(p=>Object.assign(Object.assign({},p),{guards:ZI(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(e,n){return en(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:h}}=t;return 0===h.length&&0===c.length?Ie(Object.assign(Object.assign({},t),{guardsResult:!0})):function(e,n,t,r){return dn(e).pipe(en(s=>function(e,n,t,r,s){const c=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return c&&0!==c.length?Ie(c.map(p=>{const m=Hh(p,n,s);let v;if(function(e){return e&&Da(e.canDeactivate)}(m))v=Mo(m.canDeactivate(e,n,t,r));else{if(!Da(m))throw new Error("Invalid CanDeactivate guard");v=Mo(m(e,n,t,r))}return v.pipe(ec())})).pipe(U6()):Ie(!0)}(s.component,s.route,t,n,r)),ec(s=>!0!==s,!0))}(h,r,s,e).pipe(en(p=>p&&function(e){return"boolean"==typeof e}(p)?function(e,n,t,r){return dn(n).pipe(yl(s=>R6(function(e,n){return null!==e&&n&&n(new WT(e)),Ie(!0)}(s.route.parent,r),function(e,n){return null!==e&&n&&n(new KT(e)),Ie(!0)}(s.route,r),function(e,n,t){const r=n[n.length-1],c=n.slice(0,n.length-1).reverse().map(h=>function(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(h)).filter(h=>null!==h).map(h=>AC(()=>Ie(h.guards.map(m=>{const v=Hh(m,h.node,t);let k;if(function(e){return e&&Da(e.canActivateChild)}(v))k=Mo(v.canActivateChild(r,e));else{if(!Da(v))throw new Error("Invalid CanActivateChild guard");k=Mo(v(r,e))}return k.pipe(ec())})).pipe(U6())));return Ie(c).pipe(U6())}(e,s.path,t),function(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Ie(!0);const s=r.map(c=>AC(()=>{const h=Hh(c,n,t);let p;if(function(e){return e&&Da(e.canActivate)}(h))p=Mo(h.canActivate(n,e));else{if(!Da(h))throw new Error("Invalid CanActivate guard");p=Mo(h(n,e))}return p.pipe(ec())}));return Ie(s).pipe(U6())}(e,s.route,t))),ec(s=>!0!==s,!0))}(r,c,e,n):Ie(p)),Be(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),xi(p=>{if(rc(p.guardsResult)){const v=Ng(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw v.url=p.guardsResult,v}const m=new GT(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(m)}),Ui(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),Gg(p=>{if(p.guards.canActivateChecks.length)return Ie(p).pipe(xi(m=>{const v=new UT(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),fs(m=>{let v=!1;return Ie(m).pipe(function(e,n){return en(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return Ie(t);let c=0;return dn(s).pipe(yl(h=>function(e,n,t,r){return function(e,n,t,r){const s=Object.keys(e);if(0===s.length)return Ie({});const c={};return dn(s).pipe(en(h=>function(e,n,t,r){const s=Hh(e,n,r);return Mo(s.resolve?s.resolve(n,t):s(n,t))}(e[h],n,t,r).pipe(xi(p=>{c[h]=p}))),Eg(1),en(()=>Object.keys(c).length===s.length?Ie(c):Wi))}(e._resolve,e,n,r).pipe(Be(c=>(e._resolvedData=c,e.data=Object.assign(Object.assign({},e.data),ZC(e,t).resolve),null)))}(h.route,r,e,n)),xi(()=>c++),Eg(1),en(h=>c===s.length?Ie(t):Wi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),xi({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),xi(m=>{const v=new $T(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),Gg(p=>{const{targetSnapshot:m,id:v,extractedUrl:k,rawUrl:y,extras:{skipLocationChange:A,replaceUrl:M}}=p;return this.hooks.afterPreactivation(m,{navigationId:v,appliedUrlTree:k,rawUrlTree:y,skipLocationChange:!!A,replaceUrl:!!M})}),Be(p=>{const m=function(e,n,t){const r=B6(e,n._root,t?t._root:void 0);return new KC(r,n)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:m})}),xi(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((e,n,t)=>Be(r=>(new SI(n,r.targetRouterState,r.currentRouterState,t).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),xi({next(){c=!0},complete(){c=!0}}),function(e){return Ut((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}(()=>{var p;c||h||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===s.id&&(this.currentNavigation=null)}),Aa(p=>{if(h=!0,function(e){return e&&e[PC]}(p)){const m=rc(p.url);m||(this.navigated=!0,this.restoreHistory(s,!0));const v=new SC(s.id,this.serializeUrl(s.extractedUrl),p.message);r.next(v),m?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),y={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bh(s.source)};this.scheduleNavigation(k,"imperative",null,y,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const m=new HT(s.id,this.serializeUrl(s.extractedUrl),p);r.next(m);try{s.resolve(this.errorHandler(p))}catch(v){s.reject(v)}}return Wi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var s;const c={replaceUrl:!0},h=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(h){const m=Object.assign({},h);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(c.state=m)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,h,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ok(t),this.config=t.map(Bg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:c,fragment:h,queryParamsHandling:p,preserveFragment:m}=r,v=s||this.routerState.root,k=m?this.currentUrlTree.fragment:h;let y=null;switch(p){case"merge":y=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=c||null}return null!==y&&(y=this.removeEmptyProps(y)),function(e,n,t,r,s){if(0===t.length)return Rg(n.root,n.root,n,r,s);const c=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ek(!0,0,e);let n=0,t=!1;const r=e.reduce((s,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const p={};return Yn(c.outlets,(m,v)=>{p[v]="string"==typeof m?m.split("/"):m}),[...s,{outlets:p}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===h?(c.split("/").forEach((p,m)=>{0==m&&"."===p||(0==m&&""===p?t=!0:".."===p?n++:""!=p&&s.push(p))}),s):[...s,c]},[]);return new ek(t,n,r)}(t);if(c.toRoot())return Rg(n.root,new it([],{}),n,r,s);const h=function(e,n,t){if(e.isAbsolute)return new Vg(n.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new Vg(c,c===n.root,0)}const r=Ih(e.commands[0])?0:1;return function(e,n,t){let r=e,s=n,c=t;for(;c>s;){if(c-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Vg(r,!1,s-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(c,n,e),p=h.processChildren?Ph(h.segmentGroup,h.index,c.commands):tk(h.segmentGroup,h.index,c.commands);return Rg(h.segmentGroup,p,n,r,s)}(v,this.currentUrlTree,t,y,null!=k?k:null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=rc(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(e){for(let n=0;n<e.length;n++){const t=e[n];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${n}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?Object.assign({},MP):!1===r?Object.assign({},EP):r,rc(t))return VC(this.currentUrlTree,t,s);const c=this.parseUrl(t);return VC(this.currentUrlTree,c,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const c=t[s];return null!=c&&(r[s]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new V6(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,c,h){var p,m,v;if(this.disposed)return Promise.resolve(!1);const k=this.transitions.value,y=Bh(r)&&k&&!Bh(k.source),A=k.rawUrl.toString()===t.toString(),M=k.id===(null===(p=this.currentNavigation)||void 0===p?void 0:p.id);if(y&&A&&M)return Promise.resolve(!0);let O,B,j;h?(O=h.resolve,B=h.reject,j=h.promise):j=new Promise((ue,Ae)=>{O=ue,B=Ae});const F=++this.navigationId;let ie;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),ie=s&&s.\u0275routerPageId?s.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):ie=0,this.setTransition({id:F,targetPageId:ie,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:O,reject:B,promise:j,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),j.catch(ue=>Promise.reject(ue))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",c):this.location.go(s,"",c)}restoreHistory(t,r=!1){var s,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const s=new SC(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){o6()},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();function Bh(e){return"imperative"!==e}let $g=(()=>{class e{constructor(t,r,s,c,h){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=c,this.el=h,this.commands=null,this.onChanges=new Ft,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:xl(this.skipLocationChange),replaceUrl:xl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xl(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(z(an),z(ic),co("tabindex"),z(kr),z(yt))},e.\u0275dir=re({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&de("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[tn]}),e})(),J6=(()=>{class e{constructor(t,r,s){this.router=t,this.route=r,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new Ft,this.subscription=t.events.subscribe(c=>{c instanceof V6&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,s,c,h){if(0!==t||r||s||c||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const p={skipLocationChange:xl(this.skipLocationChange),replaceUrl:xl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xl(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(z(an),z(ic),z(wl))},e.\u0275dir=re({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&de("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&lt("target",r.target)("href",r.href,Ci)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[tn]}),e})();function xl(e){return""===e||!!e}let kk=(()=>{class e{constructor(t,r,s,c,h,p){this.router=t,this.element=r,this.renderer=s,this.cdr=c,this.link=h,this.linkWithHref=p,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ce,this.routerEventsSubscription=t.events.subscribe(m=>{m instanceof V6&&this.update()})}ngAfterContentInit(){Ie(this.links.changes,this.linksWithHrefs.changes,Ie(null)).pipe(La()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=dn(r).pipe(La()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return e.\u0275fac=function(t){return new(t||e)(z(an),z(yt),z(kr),z(yo),z($g,8),z(J6,8))},e.\u0275dir=re({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,s){if(1&t&&(mn(s,$g,5),mn(s,J6,5)),2&t){let c;Yt(c=Qt())&&(r.links=c),Yt(c=Qt())&&(r.linksWithHrefs=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[tn]}),e})();class wk{}class yk{preload(n,t){return Ie(null)}}let Ak=(()=>{class e{constructor(t,r,s,c){this.router=t,this.injector=s,this.preloadingStrategy=c,this.loader=new _k(s,r,m=>t.triggerEvent(new NC(m)),m=>t.triggerEvent(new TC(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(t=>t instanceof V6),yl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ls);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;s.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?s.push(this.preloadConfig(t,c)):c.children&&s.push(this.processRoutes(t,c.children));return dn(s).pipe(La(),Be(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ie(r._loadedConfig):this.loader.load(t.injector,r)).pipe(en(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(oe(an),oe(ah),oe(Zt),oe(wk))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),Wg=(()=>{class e{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof V6&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof IC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new IC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){o6()},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const oc=new ze("ROUTER_CONFIGURATION"),Dk=new ze("ROUTER_FORROOT_GUARD"),IP=[sg,{provide:jC,useClass:GC},{provide:an,useFactory:function(e,n,t,r,s,c,h={},p,m){const v=new an(null,e,n,t,r,s,OC(c));return p&&(v.urlHandlingStrategy=p),m&&(v.routeReuseStrategy=m),function(e,n){e.errorHandler&&(n.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(n.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(n.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(n.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(n.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(n.canceledNavigationResolution=e.canceledNavigationResolution)}(h,v),h.enableTracing&&v.events.subscribe(k=>{var y,A;null===(y=console.group)||void 0===y||y.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(A=console.groupEnd)||void 0===A||A.call(console)}),v},deps:[jC,$6,sg,Zt,ah,Ug,oc,[class{},new Zi],[class{},new Zi]]},$6,{provide:ic,useFactory:function(e){return e.routerState.root},deps:[an]},Ak,yk,class{preload(n,t){return t().pipe(Aa(()=>Ie(null)))}},{provide:oc,useValue:{enableTracing:!1}}];function PP(){return new k_("Router",an)}let xk=(()=>{class e{constructor(t,r){}static forRoot(t,r){return{ngModule:e,providers:[IP,Mk(t),{provide:Dk,useFactory:LP,deps:[[an,new Zi,new Or]]},{provide:oc,useValue:r||{}},{provide:wl,useFactory:OP,deps:[X1,[new g1(og),new Zi],oc]},{provide:Wg,useFactory:zP,deps:[an,jN,oc]},{provide:wk,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:yk},{provide:k_,multi:!0,useFactory:PP},[qg,{provide:sh,multi:!0,useFactory:HP,deps:[qg]},{provide:Ek,useFactory:BP,deps:[qg]},{provide:p_,multi:!0,useExisting:Ek}]]}}static forChild(t){return{ngModule:e,providers:[Mk(t)]}}}return e.\u0275fac=function(t){return new(t||e)(oe(Dk,8),oe(an,8))},e.\u0275mod=st({type:e}),e.\u0275inj=je({}),e})();function zP(e,n,t){return t.scrollOffset&&n.setOffset(t.scrollOffset),new Wg(e,n,t)}function OP(e,n,t={}){return t.useHash?new AS(e,n):new G_(e,n)}function LP(e){return"guarded"}function Mk(e){return[{provide:Td,multi:!0,useValue:e},{provide:Ug,multi:!0,useValue:e}]}let qg=(()=>{class e{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ft}appInitializer(){return this.injector.get(kS,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(p=>r=p),c=this.injector.get(an),h=this.injector.get(oc);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?Ie(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),s})}bootstrapListener(t){const r=this.injector.get(oc),s=this.injector.get(Ak),c=this.injector.get(Wg),h=this.injector.get(an),p=this.injector.get(Cl);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),s.setUpPreloading(),c.init(),h.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(oe(Zt))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();function HP(e){return e.appInitializer.bind(e)}function BP(e){return e.bootstrapListener.bind(e)}const Ek=new ze("Router Initializer");var Sk={prefix:"fas",iconName:"angle-double-left",icon:[448,512,[],"f100","M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"]},Nk={prefix:"fas",iconName:"angle-down",icon:[320,512,[],"f107","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]},Tk={prefix:"fas",iconName:"angle-left",icon:[256,512,[],"f104","M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"]},Ik={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},Pk={prefix:"fas",iconName:"bell",icon:[448,512,[],"f0f3","M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"]},zk={prefix:"fas",iconName:"chevron-circle-down",icon:[512,512,[],"f13a","M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"]},Ok={prefix:"fas",iconName:"cogs",icon:[640,512,[],"f085","M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"]},Lk={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},Kg={prefix:"fas",iconName:"ellipsis-v",icon:[192,512,[],"f142","M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"]},Rk={prefix:"fas",iconName:"envelope",icon:[512,512,[],"f0e0","M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"]},Vk={prefix:"fas",iconName:"eraser",icon:[512,512,[],"f12d","M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"]},Fk={prefix:"fas",iconName:"lightbulb",icon:[352,512,[],"f0eb","M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"]},Hk={prefix:"fas",iconName:"list-alt",icon:[512,512,[],"f022","M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"]},Jg={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},Bk={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},jk={prefix:"fas",iconName:"sitemap",icon:[640,512,[],"f0e8","M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"]};const iQ=["addListener","removeListener"],rQ=["addEventListener","removeEventListener"],oQ=["on","off"];function Mi(e,n,t,r){if(U(t)&&(r=t,t=void 0),r)return Mi(e,n,t).pipe(xg(r));const[s,c]=function(e){return U(e.addEventListener)&&U(e.removeEventListener)}(e)?rQ.map(h=>p=>e[h](n,p,t)):function(e){return U(e.addListener)&&U(e.removeListener)}(e)?iQ.map(Gk(e,n)):function(e){return U(e.on)&&U(e.off)}(e)?oQ.map(Gk(e,n)):[];if(!s&&kc(e))return en(h=>Mi(h,n,t))(Ve(e));if(!s)throw new TypeError("Invalid event target");return new Ke(h=>{const p=(...m)=>h.next(1<m.length?m:m[0]);return s(p),()=>c(p)})}function Gk(e,n){return t=>r=>e[t](n,r)}class lQ extends G{constructor(n,t){super()}schedule(n,t=0){return this}}const jh={setInterval(...e){const{delegate:n}=jh;return((null==n?void 0:n.setInterval)||setInterval)(...e)},clearInterval(e){const{delegate:n}=jh;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0},Uk={now:()=>(Uk.delegate||Date).now(),delegate:void 0};class Z6{constructor(n,t=Z6.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Z6.now=Uk.now;const Zg=new class extends Z6{constructor(n,t=Z6.now){super(n,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class extends lQ{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return jh.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;jh.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let s,r=!1;try{this.work(n)}catch(c){r=!0,s=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,q(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}),hQ=Zg;const{isArray:pQ}=Array;function $k(e){return 1===e.length&&pQ(e[0])?e[0]:e}function Gh(...e){const n=zo(e),t=$k(e);return t.length?new Ke(r=>{let s=t.map(()=>[]),c=t.map(()=>!1);r.add(()=>{s=c=null});for(let h=0;!r.closed&&h<t.length;h++)Ve(t[h]).subscribe(new At(r,p=>{if(s[h].push(p),s.every(m=>m.length)){const m=s.map(v=>v.shift());r.next(n?n(...m):m),s.some((v,k)=>!v.length&&c[k])&&r.complete()}},()=>{c[h]=!0,!s[h].length&&r.complete()}));return()=>{s=c=null}}):Wi}function zn(e){return Ut((n,t)=>{Ve(e).subscribe(new At(t,()=>t.complete(),mt)),!t.closed&&n.subscribe(t)})}function bQ(e,n){return e===n}function Qg(...e){const n=zo(e);return Ut((t,r)=>{const s=e.length,c=new Array(s);let h=e.map(()=>!1),p=!1;for(let m=0;m<s;m++)Ve(e[m]).subscribe(new At(r,v=>{c[m]=v,!p&&!h[m]&&(h[m]=!0,(p=h.every(Ni))&&(h=null))},mt));t.subscribe(new At(r,m=>{if(p){const v=[m,...c];r.next(n?n(...v):v)}}))})}new Ke(mt);let Jk=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(z(kr),z(yt))},e.\u0275dir=re({type:e}),e})(),sc=(()=>{class e extends Jk{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=mi(e)))(r||e)}}(),e.\u0275dir=re({type:e,features:[wt]}),e})();const tr=new ze("NgValueAccessor"),AQ={provide:tr,useExisting:nt(()=>xa),multi:!0},xQ=new ze("CompositionEventMode");let xa=(()=>{class e extends Jk{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Ao()?Ao().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(z(kr),z(yt),z(xQ,8))},e.\u0275dir=re({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&de("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[xt([AQ]),wt]}),e})();function Ma(e){return null==e||0===e.length}function Yk(e){return null!=e&&"number"==typeof e.length}const ri=new ze("NgValidators"),Ea=new ze("NgAsyncValidators"),MQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ms{static min(n){return function(e){return n=>{if(Ma(n.value)||Ma(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function(e){return n=>{if(Ma(n.value)||Ma(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return ew(n)}static requiredTrue(n){return function(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function(e){return Ma(e.value)||MQ.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function(e){return n=>Ma(n.value)||!Yk(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function(e){return n=>Yk(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function(e){if(!e)return Y6;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Ma(r.value))return null;const s=r.value;return n.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(n)}static nullValidator(n){return null}static compose(n){return uw(n)}static composeAsync(n){return hw(n)}}function ew(e){return Ma(e.value)?{required:!0}:null}function Y6(e){return null}function sw(e){return null!=e}function aw(e){const n=ba(e)?dn(e):e;return al(n),n}function cw(e){let n={};return e.forEach(t=>{n=null!=t?Object.assign(Object.assign({},n),t):n}),0===Object.keys(n).length?null:n}function lw(e,n){return n.map(t=>t(e))}function dw(e){return e.map(n=>function(e){return!e.validate}(n)?n:t=>n.validate(t))}function uw(e){if(!e)return null;const n=e.filter(sw);return 0==n.length?null:function(t){return cw(lw(t,n))}}function Xg(e){return null!=e?uw(dw(e)):null}function hw(e){if(!e)return null;const n=e.filter(sw);return 0==n.length?null:function(t){return function(...e){const n=zo(e),{args:t,keys:r}=kC(e),s=new Ke(c=>{const{length:h}=t;if(!h)return void c.complete();const p=new Array(h);let m=h,v=h;for(let k=0;k<h;k++){let y=!1;Ve(t[k]).subscribe(new At(c,A=>{y||(y=!0,v--),p[k]=A},()=>m--,void 0,()=>{(!m||!y)&&(v||c.next(r?wC(r,p):p),c.complete())}))}});return n?s.pipe(xg(n)):s}(lw(t,n).map(aw)).pipe(Be(cw))}}function e9(e){return null!=e?hw(dw(e)):null}function fw(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function pw(e){return e._rawValidators}function gw(e){return e._rawAsyncValidators}function t9(e){return e?Array.isArray(e)?e:[e]:[]}function $h(e,n){return Array.isArray(e)?e.includes(n):e===n}function mw(e,n){const t=t9(n);return t9(e).forEach(s=>{$h(t,s)||t.push(s)}),t}function bw(e,n){return t9(n).filter(t=>!$h(e,t))}class vw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Xg(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=e9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Sa extends vw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ei extends vw{get formDirective(){return null}get path(){return null}}class _w{constructor(n){this._cd=n}is(n){var t,r,s;return"submitted"===n?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[n])}}let Ml=(()=>{class e extends _w{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(z(Sa,2))},e.\u0275dir=re({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[wt]}),e})(),Q6=(()=>{class e extends _w{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(z(Ei,10))},e.\u0275dir=re({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[wt]}),e})();function qh(e,n){return[...n.path,e]}function X6(e,n){r9(e,n),n.valueAccessor.writeValue(e.value),function(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Cw(e,n)})}(e,n),function(e,n){const t=(r,s)=>{n.valueAccessor.writeValue(r),s&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Cw(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Kh(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Zh(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Jh(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function r9(e,n){const t=pw(e);null!==n.validator?e.setValidators(fw(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=gw(e);null!==n.asyncValidator?e.setAsyncValidators(fw(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const s=()=>e.updateValueAndValidity();Jh(n._rawValidators,s),Jh(n._rawAsyncValidators,s)}function Zh(e,n){let t=!1;if(null!==e){if(null!==n.validator){const s=pw(e);if(Array.isArray(s)&&s.length>0){const c=s.filter(h=>h!==n.validator);c.length!==s.length&&(t=!0,e.setValidators(c))}}if(null!==n.asyncValidator){const s=gw(e);if(Array.isArray(s)&&s.length>0){const c=s.filter(h=>h!==n.asyncValidator);c.length!==s.length&&(t=!0,e.setAsyncValidators(c))}}}const r=()=>{};return Jh(n._rawValidators,r),Jh(n._rawAsyncValidators,r),t}function Cw(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function o9(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function s9(e,n){if(!n)return null;let t,r,s;return Array.isArray(n),n.forEach(c=>{c.constructor===xa?t=c:function(e){return Object.getPrototypeOf(e.constructor)===sc}(c)?r=c:s=c}),s||r||t||null}function Yh(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const e3="VALID",Qh="INVALID",El="PENDING",t3="DISABLED";function a9(e){return(l9(e)?e.validators:e)||null}function yw(e){return Array.isArray(e)?Xg(e):e||null}function c9(e,n){return(l9(n)?n.asyncValidators:e)||null}function Aw(e){return Array.isArray(e)?e9(e):e||null}function l9(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class d9{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=yw(this._rawValidators),this._composedAsyncValidatorFn=Aw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===e3}get invalid(){return this.status===Qh}get pending(){return this.status==El}get disabled(){return this.status===t3}get enabled(){return this.status!==t3}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=yw(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=Aw(n)}addValidators(n){this.setValidators(mw(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(mw(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(bw(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(bw(n,this._rawAsyncValidators))}hasValidator(n){return $h(this._rawValidators,n)}hasAsyncValidator(n){return $h(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=El,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=t3,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=e3,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===e3||this.status===El)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?t3:e3}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=El,this._hasOwnPendingAsyncValidator=!0;const t=aw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){return function(e,n,t){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let r=e;return n.forEach(s=>{r=r instanceof ac?r.controls.hasOwnProperty(s)?r.controls[s]:null:r instanceof HQ&&r.at(s)||null}),r}(this,n)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?t3:this.errors?Qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(El)?El:this._anyControlsHaveStatus(Qh)?Qh:e3}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){l9(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Si extends d9{constructor(n=null,t,r){super(a9(t),c9(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=null,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Yh(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Yh(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class ac extends d9{constructor(n,t,r){super(a9(t),c9(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,s)=>{r.reset(n[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t instanceof Si?t.value:t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&n(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,t,r)=>((t.enabled||this.disabled)&&(n[r]=t.value),n))}_reduceChildren(n,t){let r=n;return this._forEachChild((s,c)=>{r=t(r,s,c)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((t,r)=>{if(void 0===n[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class HQ extends d9{constructor(n,t,r){super(a9(t),c9(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),t&&(this.controls.splice(n,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){this._checkAllValuesPresent(n),n.forEach((r,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,s)=>{r.reset(n[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n instanceof Si?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((t,r)=>{if(void 0===n[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const GQ={provide:Sa,useExisting:nt(()=>h9)},Mw=(()=>Promise.resolve(null))();let h9=(()=>{class e extends Sa{constructor(t,r,s,c){super(),this.control=new Si,this._registered=!1,this.update=new Ce,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=s9(0,c)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),o9(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?qh(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){X6(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Mw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=""===r||r&&"false"!==r;Mw.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(z(Ei,9),z(ri,10),z(Ea,10),z(tr,10))},e.\u0275dir=re({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xt([GQ]),wt,tn]}),e})(),r3=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=re({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Sw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({}),e})();const f9=new ze("NgModelWithFormControlWarning"),JQ={provide:Ei,useExisting:nt(()=>cc)};let cc=(()=>{class e extends Ei{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ce,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return X6(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Kh(t.control||null,t,!1),Yh(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(Kh(r||null,t),s instanceof Si&&(X6(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(e,n){r9(e,n)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(e,n){return Zh(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){r9(this.form,this),this._oldForm&&Zh(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(z(ri,10),z(Ea,10))},e.\u0275dir=re({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&de("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xt([JQ]),wt,tn]}),e})();const QQ={provide:Sa,useExisting:nt(()=>Sl)};let Sl=(()=>{class e extends Sa{constructor(t,r,s,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new Ce,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=s9(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),o9(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return qh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(z(Ei,13),z(ri,10),z(Ea,10),z(tr,10),z(f9,8))},e.\u0275dir=re({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xt([QQ]),wt,tn]}),e})();const XQ={provide:tr,useExisting:nt(()=>o3),multi:!0};function zw(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let o3=(()=>{class e extends sc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const s=zw(r,t);this.setProperty("value",s)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=mi(e)))(r||e)}}(),e.\u0275dir=re({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&de("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[xt([XQ]),wt]}),e})(),m9=(()=>{class e{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(zw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(z(yt),z(kr),z(o3,9))},e.\u0275dir=re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const tX={provide:tr,useExisting:nt(()=>b9),multi:!0};function Ow(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let b9=(()=>{class e extends sc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const s=t.map(c=>this._getOptionId(c));r=(c,h)=>{c._setSelected(s.indexOf(h.toString())>-1)}}else r=(s,c)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const s=[],c=r.selectedOptions;if(void 0!==c){const h=c;for(let p=0;p<h.length;p++){const v=this._getOptionValue(h[p].value);s.push(v)}}else{const h=r.options;for(let p=0;p<h.length;p++){const m=h[p];if(m.selected){const v=this._getOptionValue(m.value);s.push(v)}}}this.value=s,t(s)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=mi(e)))(r||e)}}(),e.\u0275dir=re({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&de("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[xt([tX]),wt]}),e})(),v9=(()=>{class e{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ow(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ow(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(z(yt),z(kr),z(b9,9))},e.\u0275dir=re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const oX={provide:ri,useExisting:nt(()=>Nl),multi:!0};let Nl=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?ew(t):null}registerOnValidatorChange(t){this._onChange=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=re({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&lt("required",r.required?"":null)},inputs:{required:"required"},features:[xt([oX])]}),e})(),$w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Sw]]}),e})(),_9=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[$w]}),e})(),uX=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:f9,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[$w]}),e})();const _X=["*"],RX=["dialog"];function lc(e){return null!=e}function Tl(e){return(e||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){let n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});const qw={animation:!0,transitionTimerDelayMs:5},Iee=()=>{},{transitionTimerDelayMs:Pee}=qw,s3=new Map,oi=(e,n,t,r)=>{let s=r.context||{};const c=s3.get(n);if(c)switch(r.runningTransition){case"continue":return Wi;case"stop":e.run(()=>c.transition$.complete()),s=Object.assign(c.context,s),s3.delete(n)}const h=t(n,r.animation,s)||Iee;if(!r.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>h()),Ie(void 0).pipe(function(e){return n=>new Ke(t=>n.subscribe({next:h=>e.run(()=>t.next(h)),error:h=>e.run(()=>t.error(h)),complete:()=>e.run(()=>t.complete())}))}(e));const p=new Ft,m=new Ft,v=p.pipe(function(...e){return n=>R6(n,Ie(...e))}(!0));s3.set(n,{transition$:p,complete:()=>{m.next(),m.complete()},context:s});const k=function(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const y=Mi(n,"transitionend").pipe(zn(v),Ui(({target:M})=>M===n));(function(...e){return 1===(e=$k(e)).length?Ve(e[0]):new Ke(function(e){return n=>{let t=[];for(let r=0;t&&!n.closed&&r<e.length;r++)t.push(Ve(e[r]).subscribe(new At(n,s=>{if(t){for(let c=0;c<t.length;c++)c!==r&&t[c].unsubscribe();t=null}n.next(s)})))}}(e))})(function(e=0,n,t=hQ){let r=-1;return null!=n&&(Fa(n)?t=n:r=n),new Ke(s=>{let c=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;c<0&&(c=0);let h=0;return t.schedule(function(){s.closed||(s.next(h++),0<=r?this.schedule(void 0,r):s.complete())},c)})}(k+Pee).pipe(zn(v)),y,m).pipe(zn(v)).subscribe(()=>{s3.delete(n),e.run(()=>{h(),p.next(),p.complete()})})}),p.asObservable()},w9=(e,n,t)=>{let{direction:r,maxHeight:s}=t;const{classList:c}=e;function h(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(n)return s||(s=function(e){if("undefined"==typeof navigator)return"0px";const{classList:n}=e,t=n.contains("show");t||n.add("show"),e.style.height="";const r=e.getBoundingClientRect().height+"px";return t||n.remove("show"),r}(e),t.maxHeight=s,e.style.height="show"!==r?s:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),Tl(e),c.add("collapsing")),e.style.height="show"===r?s:"0px",()=>{h(),c.remove("collapsing"),e.style.height=""};h()};let a3=(()=>{class e{constructor(){this.animation=qw.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Qw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),Xw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),ty=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({}),e})(),ry=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),Wee=(()=>{class e{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(oe(a3))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qee=(()=>{class e{constructor(t,r,s){this._element=t,this._zone=s,this.collapsed=!1,this.ngbCollapseChange=new Ce,this.shown=new Ce,this.hidden=new Ce,this.animation=r.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,r){return oi(this._zone,this._element.nativeElement,w9,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return e.\u0275fac=function(t){return new(t||e)(z(yt),z(Wee),z(Mt))},e.\u0275dir=re({type:e,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[tn]}),e})(),oy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({}),e})();var On=(()=>{return(e=On||(On={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",On;var e})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ay=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function cy(e){const n=Array.from(e.querySelectorAll(ay)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new class{getAllStyles(n){return window.getComputedStyle(n)}getStyle(n,t){return this.getAllStyles(n)[t]}isStaticPositioned(n){return"static"===(this.getStyle(n,"position")||"static")}offsetParent(n){let t=n.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(n,t=!0){let r,s={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))r=n.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const c=this.offsetParent(n);r=this.offset(n,!1),c!==document.documentElement&&(s=this.offset(c,!1)),s.top+=c.clientTop,s.left+=c.clientLeft}return r.top-=s.top,r.bottom-=s.top,r.left-=s.left,r.right-=s.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(n,t=!0){const r=n.getBoundingClientRect(),s_top=window.scrollY-document.documentElement.clientTop,s_left=window.scrollX-document.documentElement.clientLeft;let c={height:r.height||n.offsetHeight,width:r.width||n.offsetWidth,top:r.top+s_top,bottom:r.bottom+s_top,left:r.left+s_left,right:r.right+s_left};return t&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(n,t,r,s){const[c="top",h="center"]=r.split("-"),p=s?this.offset(n,!1):this.position(n,!1),m=this.getAllStyles(t),v=parseFloat(m.marginTop),k=parseFloat(m.marginBottom),y=parseFloat(m.marginLeft),A=parseFloat(m.marginRight);let M=0,N=0;switch(c){case"top":M=p.top-(t.offsetHeight+v+k);break;case"bottom":M=p.top+p.height;break;case"left":N=p.left-(t.offsetWidth+y+A);break;case"right":N=p.left+p.width}switch(h){case"top":M=p.top;break;case"bottom":M=p.top+p.height-t.offsetHeight;break;case"left":N=p.left;break;case"right":N=p.left+p.width-t.offsetWidth;break;case"center":"top"===c||"bottom"===c?N=p.left+p.width/2-t.offsetWidth/2:M=p.top+p.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(N)}px, ${Math.round(M)}px)`;const O=t.getBoundingClientRect(),B=document.documentElement,j=window.innerHeight||B.clientHeight,F=window.innerWidth||B.clientWidth;return O.left>=0&&O.top>=0&&O.right<=F&&O.bottom<=j}},new Date(1882,10,12),new Date(2174,10,25);let gy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi,_9]]}),e})(),S9=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=re({type:e,selectors:[["",8,"navbar"]]}),e})(),vy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({}),e})();class fc{constructor(n,t,r){this.nodes=n,this.viewRef=t,this.componentRef=r}}let bte=(()=>{class e{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Rn(1)).subscribe(()=>{oi(this._zone,this._el.nativeElement,(t,r)=>{r&&Tl(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return oi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(t){return new(t||e)(z(yt),z(Mt))},e.\u0275cmp=_t({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(_("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),f("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})();class _y{close(n){}dismiss(n){}}class vte{constructor(n,t,r,s){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=s,this._closed=new Ft,this._dismissed=new Ft,this._hidden=new Ft,n.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,h)=>{this._resolve=c,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(zn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(zn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();(e=t)&&e.then?t.then(r=>{!1!==r&&this._dismiss(n)},()=>{}):!1!==t&&this._dismiss(n)}else this._dismiss(n);var e}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ie(void 0);n.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Gh(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var u3=(()=>{return(e=u3||(u3={}))[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",u3;var e})();let _te=(()=>{class e{constructor(t,r,s){this._document=t,this._elRef=r,this._zone=s,this._closed$=new Ft,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ce,this.shown=new Ft,this.hidden=new Ft}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Rn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Gh(oi(this._zone,t,()=>t.classList.remove("show"),r),oi(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};Gh(oi(this._zone,this._elRef.nativeElement,(c,h)=>{h&&Tl(c),c.classList.add("show")},t),oi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Mi(t,"keydown").pipe(zn(this._closed$),Ui(s=>s.which===On.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(u3.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Mi(this._dialogEl.nativeElement,"mousedown").pipe(zn(this._closed$),xi(()=>r=!1),fs(()=>Mi(t,"mouseup").pipe(zn(this._closed$),Rn(1))),Ui(({target:s})=>t===s)).subscribe(()=>{r=!0}),Mi(t,"click").pipe(zn(this._closed$)).subscribe(({target:s})=>{t===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(u3.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),s=cy(t)[0];(r||s||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let s;s=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&oi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(t){return new(t||e)(z(sn),z(yt),z(Mt))},e.\u0275cmp=_t({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&function(e,n,t){const r=We();r.firstCreatePass&&(Jv(r,new Wv(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),Kv(r,Q(),n)}(RX,7),2&t){let s;Yt(s=Qt())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(lt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),_("modal d-block"+(r.windowClass?" "+r.windowClass:"")),f("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:_X,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(ll(),I(0,"div",0,1),I(2,"div",2),u6(3),P(),P()),2&t&&_("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})();const Cte=()=>{};let kte=(()=>{class e{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Cte}_adjustBody(t){const r=this._document.body,s=r.style.paddingRight,c=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${c+t}px`,()=>r.style["padding-right"]=s}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const s=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),s}}return e.\u0275fac=function(t){return new(t||e)(oe(sn))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wte=(()=>{class e{constructor(t,r,s,c,h,p){this._applicationRef=t,this._injector=r,this._document=s,this._scrollBar=c,this._rendererFactory=h,this._ngZone=p,this._activeWindowCmptHasChanged=new Ft,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Ce,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const m=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const s=Mi(n,"focusin").pipe(zn(t),Be(c=>c.target));Mi(n,"keydown").pipe(zn(t),Ui(c=>c.which===On.Tab),Qg(s)).subscribe(([c,h])=>{const[p,m]=cy(n);(h===p||h===n)&&c.shiftKey&&(m.focus(),c.preventDefault()),h===m&&!c.shiftKey&&(p.focus(),c.preventDefault())}),r&&Mi(n,"click").pipe(zn(t),Qg(s),Be(c=>c[1])).subscribe(c=>c.focus())})})(0,m.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(m.location.nativeElement)}})}open(t,r,s,c){const h=c.container instanceof HTMLElement?c.container:lc(c.container)?this._document.querySelector(c.container):this._document.body,p=this._rendererFactory.createRenderer(null,null),m=this._scrollBar.compensate(),v=()=>{this._modalRefs.length||(p.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const k=new _y,y=this._getContentRef(t,c.injector||r,s,k,c);let A=!1!==c.backdrop?this._attachBackdrop(t,h):void 0,M=this._attachWindowComponent(t,h,y),N=new vte(M,y,A,c.beforeDismiss);return this._registerModalRef(N),this._registerWindowCmpt(M),N.result.then(m,m),N.result.then(v,v),k.close=O=>{N.close(O)},k.dismiss=O=>{N.dismiss(O)},this._applyWindowOptions(M.instance,c),1===this._modalRefs.length&&p.addClass(this._document.body,"modal-open"),A&&A.instance&&(this._applyBackdropOptions(A.instance,c),A.changeDetectorRef.detectChanges()),M.changeDetectorRef.detectChanges(),N}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let c=t.resolveComponentFactory(bte).create(this._injector);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_attachWindowComponent(t,r,s){let h=t.resolveComponentFactory(_te).create(this._injector,s.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(s=>{lc(r[s])&&(t[s]=r[s])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(s=>{lc(r[s])&&(t[s]=r[s])})}_getContentRef(t,r,s,c,h){return s?s instanceof on?this._createFromTemplateRef(s,c):function(e){return"string"==typeof e}(s)?this._createFromString(s):this._createFromComponent(t,r,s,c,h):new fc([])}_createFromTemplateRef(t,r){const c=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(c),new fc([c.rootNodes],c)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new fc([[r]])}_createFromComponent(t,r,s,c,h){const p=t.resolveComponentFactory(s),m=Zt.create({providers:[{provide:_y,useValue:c}],parent:r}),v=p.create(m),k=v.location.nativeElement;return h.scrollable&&k.classList.add("component-host-scrollable"),this._applicationRef.attachView(v.hostView),new fc([[k]],v.hostView,v)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==t&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const s=this._modalRefs.indexOf(t);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)(oe(Cl),oe(Zt),oe(sn),oe(kte),oe(E7),oe(Mt))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),yte=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(oe(a3))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ate=(()=>{class e{constructor(t,r,s,c){this._moduleCFR=t,this._injector=r,this._modalStack=s,this._config=c}open(t,r={}){const s=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)(oe(Y1),oe(Zt),oe(wte),oe(yte))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Cy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({providers:[Ate]}),e})(),Ay=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),Iy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),zy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),Oy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),Ly=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),Ry=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),Vy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})(),Fy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({}),e})();new ze("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Hy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[Gi]]}),e})();const Hte=[Qw,Xw,ty,ry,oy,gy,vy,Cy,Ay,Iy,zy,Oy,Ly,Ry,Vy,Fy,Hy];let Bte=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[Hte,Qw,Xw,ty,ry,oy,gy,vy,Cy,Ay,Iy,zy,Oy,Ly,Ry,Vy,Fy,Hy]}),e})(),jte=(()=>{class e{constructor(){this.iconBell=Pk,this.iconEnvelope=Rk,this.iconMenu=Ik}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_t({type:e,selectors:[["app-navbar"]],decls:4,vars:0,consts:[["id","sidenavAccordion",1,"topnav","navbar","navbar-expand","shadow","justify-content-between","justify-content-sm-start","navbar-light","bg-white"],["href","javascript:void(0);","routerLink","spaces",1,"navbar-brand"],[1,"navbar-nav","align-items-center","ml-auto"]],template:function(t,r){1&t&&(I(0,"nav",0),I(1,"a",1),ce(2,"Knowledge Spaces"),P(),Fe(3,"ul",2),P())},directives:[S9,J6],styles:[""]}),e})();function h3(e){return(h3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function By(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $te(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function rt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),r.forEach(function(s){$te(e,s,t[s])})}return e}function P9(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,s=!1,c=void 0;try{for(var p,h=e[Symbol.iterator]();!(r=(p=h.next()).done)&&(t.push(p.value),!n||t.length!==n);r=!0);}catch(m){s=!0,c=m}finally{try{!r&&null!=h.return&&h.return()}finally{if(s)throw c}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O9={},Gy={};try{"undefined"!=typeof window&&(O9=window),"undefined"!=typeof document&&(Gy=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(e){}var Wy=(O9.navigator||{}).userAgent,qy=void 0===Wy?"":Wy,Pl=O9,xn=Gy,vs=!!xn.documentElement&&!!xn.head&&"function"==typeof xn.addEventListener&&"function"==typeof xn.createElement,_s=(~qy.indexOf("MSIE")||qy.indexOf("Trident/"),"___FONT_AWESOME___"),Yy="svg-inline--fa",tA=[1,2,3,4,5,6,7,8,9,10],cne=tA.concat([11,12,13,14,15,16,17,18,19,20]),pc={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},nA=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",pc.GROUP,pc.SWAP_OPACITY,pc.PRIMARY,pc.SECONDARY].concat(tA.map(function(e){return"".concat(e,"x")})).concat(cne.map(function(e){return"w-".concat(e)})),Pl.FontAwesomeConfig||{});xn&&"function"==typeof xn.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var n=P9(e,2),r=n[1],s=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var n=xn.querySelector("script["+e+"]");if(n)return n.getAttribute(e)}(n[0]));null!=s&&(nA[r]=s)});var V9=rt({},{familyPrefix:"fa",replacementClass:Yy,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},nA);V9.autoReplaceSvg||(V9.observeMutations=!1);var Re=rt({},V9);Pl.FontAwesomeConfig=Re;var Cs=Pl||{};Cs[_s]||(Cs[_s]={}),Cs[_s].styles||(Cs[_s].styles={}),Cs[_s].hooks||(Cs[_s].hooks={}),Cs[_s].shims||(Cs[_s].shims=[]);var qr=Cs[_s],iA=[];vs&&((xn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(xn.readyState)||xn.addEventListener("DOMContentLoaded",function e(){xn.removeEventListener("DOMContentLoaded",e),iA.map(function(n){return n()})}));var H9,F9="pending",rA="settled",d5="fulfilled",u5="rejected",bne=function(){},oA="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,vne="undefined"==typeof setImmediate?setTimeout:setImmediate,f3=[];function _ne(){for(var e=0;e<f3.length;e++)f3[e][0](f3[e][1]);f3=[],H9=!1}function h5(e,n){f3.push([e,n]),H9||(H9=!0,vne(_ne,0))}function sA(e){var n=e.owner,t=n._state,r=n._data,s=e[t],c=e.then;if("function"==typeof s){t=d5;try{r=s(r)}catch(h){p3(c,h)}}aA(c,r)||(t===d5&&B9(c,r),t===u5&&p3(c,r))}function aA(e,n){var t;try{if(e===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===h3(n))){var r=n.then;if("function"==typeof r)return r.call(n,function(s){t||(t=!0,n===s?cA(e,s):B9(e,s))},function(s){t||(t=!0,p3(e,s))}),!0}}catch(s){return t||p3(e,s),!0}return!1}function B9(e,n){(e===n||!aA(e,n))&&cA(e,n)}function cA(e,n){e._state===F9&&(e._state=rA,e._data=n,h5(kne,e))}function p3(e,n){e._state===F9&&(e._state=rA,e._data=n,h5(wne,e))}function lA(e){e._then=e._then.forEach(sA)}function kne(e){e._state=d5,lA(e)}function wne(e){e._state=u5,lA(e),!e._handled&&oA&&global.process.emit("unhandledRejection",e._data,e)}function yne(e){global.process.emit("rejectionHandled",e)}function nr(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(!(this instanceof nr))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,n){function r(s){p3(n,s)}try{e(function(s){B9(n,s)},r)}catch(s){r(s)}}(e,this)}nr.prototype={constructor:nr,_state:F9,_then:null,_data:void 0,_handled:!1,then:function(n,t){var r={owner:this,then:new this.constructor(bne),fulfilled:n,rejected:t};return(t||n)&&!this._handled&&(this._handled=!0,this._state===u5&&oA&&h5(yne,this)),this._state===d5||this._state===u5?h5(sA,r):this._then.push(r),r.then},catch:function(n){return this.then(null,n)}},nr.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new nr(function(n,t){var r=[],s=0;function c(m){return s++,function(v){r[m]=v,--s||n(r)}}for(var p,h=0;h<e.length;h++)(p=e[h])&&"function"==typeof p.then?p.then(c(h),t):r[h]=p;s||n(r)})},nr.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new nr(function(n,t){for(var s,r=0;r<e.length;r++)(s=e[r])&&"function"==typeof s.then?s.then(n,t):n(s)})},nr.resolve=function(e){return e&&"object"===h3(e)&&e.constructor===nr?e:new nr(function(n){n(e)})},nr.reject=function(e){return new nr(function(n,t){t(e)})};var ks={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function g3(){for(var e=12,n="";e-- >0;)n+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return n}function uA(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f5(e){return Object.keys(e||{}).reduce(function(n,t){return n+"".concat(t,": ").concat(e[t],";")},"")}function G9(e){return e.size!==ks.size||e.x!==ks.x||e.y!==ks.y||e.rotate!==ks.rotate||e.flipX||e.flipY}function hA(e){var n=e.transform,r=e.iconWidth,s={transform:"translate(".concat(e.containerWidth/2," 256)")},c="translate(".concat(32*n.x,", ").concat(32*n.y,") "),h="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),p="rotate(".concat(n.rotate," 0 0)");return{outer:s,inner:{transform:"".concat(c," ").concat(h," ").concat(p)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var U9={x:0,y:0,width:"100%",height:"100%"};function fA(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||n)&&(e.attributes.fill="black"),e}function Sne(e){return"g"===e.tag?e.children:[e]}function $9(e){var n=e.icons,t=n.main,r=n.mask,s=e.prefix,c=e.iconName,h=e.transform,p=e.symbol,m=e.title,v=e.maskId,k=e.titleId,y=e.extra,A=e.watchable,M=void 0!==A&&A,N=r.found?r:t,O=N.width,B=N.height,j="fak"===s,F=j?"":"fa-w-".concat(Math.ceil(O/B*16)),ie=[Re.replacementClass,c?"".concat(Re.familyPrefix,"-").concat(c):"",F].filter(function(Oa){return-1===y.classes.indexOf(Oa)}).filter(function(Oa){return""!==Oa||!!Oa}).concat(y.classes).join(" "),ue={children:[],attributes:rt({},y.attributes,{"data-prefix":s,"data-icon":c,class:ie,role:y.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(O," ").concat(B)})},Ae=j&&!~y.classes.indexOf("fa-fw")?{width:"".concat(O/B*16*.0625,"em")}:{};M&&(ue.attributes["data-fa-i2svg"]=""),m&&ue.children.push({tag:"title",attributes:{id:ue.attributes["aria-labelledby"]||"title-".concat(k||g3())},children:[m]});var Pe=rt({},ue,{prefix:s,iconName:c,main:t,mask:r,maskId:v,transform:h,symbol:p,styles:rt({},Ae,y.styles)}),cn=r.found&&t.found?function(e){var n=e.children,t=e.attributes,r=e.main,s=e.mask,c=e.maskId,m=r.icon,k=s.icon,y=hA({transform:e.transform,containerWidth:s.width,iconWidth:r.width}),A={tag:"rect",attributes:rt({},U9,{fill:"white"})},M=m.children?{children:m.children.map(fA)}:{},N={tag:"g",attributes:rt({},y.inner),children:[fA(rt({tag:m.tag,attributes:rt({},m.attributes,y.path)},M))]},O={tag:"g",attributes:rt({},y.outer),children:[N]},B="mask-".concat(c||g3()),j="clip-".concat(c||g3()),F={tag:"mask",attributes:rt({},U9,{id:B,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[A,O]},ie={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:Sne(k)},F]};return n.push(ie,{tag:"rect",attributes:rt({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(B,")")},U9)}),{children:n,attributes:t}}(Pe):function(e){var n=e.children,t=e.attributes,r=e.main,s=e.transform,h=f5(e.styles);if(h.length>0&&(t.style=h),G9(s)){var p=hA({transform:s,containerWidth:r.width,iconWidth:r.width});n.push({tag:"g",attributes:rt({},p.outer),children:[{tag:"g",attributes:rt({},p.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:rt({},r.icon.attributes,p.path)}]}]})}else n.push(r.icon);return{children:n,attributes:t}}(Pe),za=cn.attributes;return Pe.children=cn.children,Pe.attributes=za,p?function(e){var t=e.iconName,r=e.children,c=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:rt({},e.attributes,{id:!0===c?"".concat(e.prefix,"-").concat(Re.familyPrefix,"-").concat(t):c}),children:r}]}]}(Pe):function(e){var n=e.children,t=e.main,r=e.mask,s=e.attributes,c=e.styles,h=e.transform;if(G9(h)&&t.found&&!r.found){var v={x:t.width/t.height/2,y:.5};s.style=f5(rt({},c,{"transform-origin":"".concat(v.x+h.x/16,"em ").concat(v.y+h.y/16,"em")}))}return[{tag:"svg",attributes:s,children:n}]}(Pe)}var K9=function(n,t,r,s){var m,v,k,c=Object.keys(n),h=c.length,p=void 0!==s?function(n,t){return function(r,s,c,h){return n.call(t,r,s,c,h)}}(t,s):t;for(void 0===r?(m=1,k=n[c[0]]):(m=0,k=r);m<h;m++)k=p(k,n[v=c[m]],v,n);return k};function vA(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,s=void 0!==r&&r,c=Object.keys(n).reduce(function(h,p){var m=n[p];return m.icon?h[m.iconName]=m.icon:h[p]=m,h},{});"function"!=typeof qr.hooks.addPack||s?qr.styles[e]=rt({},qr.styles[e]||{},c):qr.hooks.addPack(e,c),"fas"===e&&vA("fa",n)}var _A=qr.styles,Rne=qr.shims,yA=function(){var n=function(s){return K9(_A,function(c,h,p){return c[p]=K9(h,s,{}),c},{})};n(function(r,s,c){return s[3]&&(r[s[3]]=c),r}),n(function(r,s,c){var h=s[2];return r[c]=c,h.forEach(function(p){r[p]=c}),r});var t="far"in _A;K9(Rne,function(r,s){var h=s[1];return"far"===h&&!t&&(h="fas"),r[s[0]]={prefix:h,iconName:s[2]},r},{})};function DA(e,n,t){if(e&&e[n]&&e[n][t])return{prefix:n,iconName:t,icon:e[n][t]}}function Ll(e){var n=e.tag,t=e.attributes,r=void 0===t?{}:t,s=e.children,c=void 0===s?[]:s;return"string"==typeof e?uA(e):"<".concat(n," ").concat(function(e){return Object.keys(e||{}).reduce(function(n,t){return n+"".concat(t,'="').concat(uA(e[t]),'" ')},"").trim()}(r),">").concat(c.map(Ll).join(""),"</").concat(n,">")}yA();function b3(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}(b3.prototype=Object.create(Error.prototype)).constructor=b3;var m5={fill:"currentColor"},TA={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Q9=(rt({},m5,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),rt({},TA,{attributeName:"opacity"}));function em(e){var n=e[0],t=e[1],c=P9(e.slice(4),1)[0];return{found:!0,width:n,height:t,icon:Array.isArray(c)?{tag:"g",attributes:{class:"".concat(Re.familyPrefix,"-").concat(pc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Re.familyPrefix,"-").concat(pc.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(Re.familyPrefix,"-").concat(pc.PRIMARY),fill:"currentColor",d:c[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:c}}}}rt({},m5,{cx:"256",cy:"364",r:"28"}),rt({},TA,{attributeName:"r",values:"28;14;28;28;14;28;"}),rt({},Q9,{values:"1;0;1;1;0;1;"}),rt({},m5,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),rt({},Q9,{values:"1;0;0;0;0;1;"}),rt({},m5,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),rt({},Q9,{values:"0;0;1;1;0;0;"});var hie=function(){function e(){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),this.definitions={}}return function(e,n,t){n&&By(e.prototype,n)}(e,[{key:"add",value:function(){for(var t=this,r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];var h=s.reduce(this._pullDefinitions,{});Object.keys(h).forEach(function(p){t.definitions[p]=rt({},t.definitions[p]||{},h[p]),vA(p,h[p]),yA()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(c){var h=s[c],p=h.prefix,m=h.iconName,v=h.icon;t[p]||(t[p]={}),t[p][m]=v}),t}}]),e}();function v3(){Re.autoAddCss&&!v5&&(function(e){if(e&&vs){var n=xn.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e;for(var t=xn.head.childNodes,r=null,s=t.length-1;s>-1;s--){var c=t[s],h=(c.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(h)>-1&&(r=c)}xn.head.insertBefore(n,r)}}(function(){var e="fa",n=Yy,t=Re.familyPrefix,r=Re.replacementClass,s='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==e||r!==n){var c=new RegExp("\\.".concat(e,"\\-"),"g"),h=new RegExp("\\--".concat(e,"\\-"),"g"),p=new RegExp("\\.".concat(n),"g");s=s.replace(c,".".concat(t,"-")).replace(h,"--".concat(t,"-")).replace(p,".".concat(r))}return s}()),v5=!0)}function b5(e,n){return Object.defineProperty(e,"abstract",{get:n}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(r){return Ll(r)})}}),Object.defineProperty(e,"node",{get:function(){if(vs){var r=xn.createElement("div");return r.innerHTML=e.html,r.children}}}),e}function im(e){var n=e.prefix,t=void 0===n?"fa":n,r=e.iconName;if(r)return DA(LA.definitions,t,r)||DA(qr.styles,t,r)}var e,LA=new hie,v5=!1,RA_transform=function(n){return function(n){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n?n.toLowerCase().split(" ").reduce(function(r,s){var c=s.toLowerCase().split("-"),h=c[0],p=c.slice(1).join("-");if(h&&"h"===p)return r.flipX=!0,r;if(h&&"v"===p)return r.flipY=!0,r;if(p=parseFloat(p),isNaN(p))return r;switch(h){case"grow":r.size=r.size+p;break;case"shrink":r.size=r.size-p;break;case"left":r.x=r.x-p;break;case"right":r.x=r.x+p;break;case"up":r.y=r.y-p;break;case"down":r.y=r.y+p;break;case"rotate":r.rotate=r.rotate+p}return r},t):t}(n)},VA=(e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.transform,r=void 0===t?ks:t,s=n.symbol,c=void 0!==s&&s,h=n.mask,p=void 0===h?null:h,m=n.maskId,v=void 0===m?null:m,k=n.title,y=void 0===k?null:k,A=n.titleId,M=void 0===A?null:A,N=n.classes,O=void 0===N?[]:N,B=n.attributes,j=void 0===B?{}:B,F=n.styles,ie=void 0===F?{}:F;if(e){var ue=e.prefix,Ae=e.iconName,Pe=e.icon;return b5(rt({type:"icon"},e),function(){return v3(),Re.autoA11y&&(y?j["aria-labelledby"]="".concat(Re.replacementClass,"-title-").concat(M||g3()):(j["aria-hidden"]="true",j.focusable="false")),$9({icons:{main:em(Pe),mask:p?em(p.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ue,iconName:Ae,transform:rt({},ks,r),symbol:c,title:y,maskId:v,titleId:M,extra:{attributes:j,styles:ie,classes:O}})})}},function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(n||{}).icon?n:im(n||{}),s=t.mask;return s&&(s=(s||{}).icon?s:im(s||{})),e(r,rt({},t,{mask:s}))});const kie=["*"],Aie=e=>{const n={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-inverse":e.inverse,"fa-layers-counter":e.counter,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip,[`fa-${e.size}`]:null!==e.size,[`fa-rotate-${e.rotate}`]:null!==e.rotate,[`fa-pull-${e.pull}`]:null!==e.pull,[`fa-stack-${e.stackItemSize}`]:null!=e.stackItemSize};return Object.keys(n).map(t=>n[t]?t:null).filter(t=>t)};let Mie=(()=>{class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Eie=(()=>{class e{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const s of r.icon[2])"string"==typeof s&&(this.definitions[r.prefix][s]=r)}}addIconPacks(...t){for(const r of t){const s=Object.keys(r).map(c=>r[c]);this.addIcons(...s)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Sie=(()=>{class e{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=re({type:e,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[tn]}),e})(),Nie=(()=>{class e{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return e.\u0275fac=function(t){return new(t||e)(z(kr),z(yt))},e.\u0275cmp=_t({type:e,selectors:[["fa-stack"]],inputs:{size:"size"},features:[tn],ngContentSelectors:kie,decls:1,vars:0,template:function(t,r){1&t&&(ll(),u6(0))},encapsulation:2}),e})(),FA=(()=>{class e{constructor(t,r,s,c,h){this.sanitizer=t,this.config=r,this.iconLibrary=s,this.stackItem=c,this.classes=[],null!=h&&null==c&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,t){const s=this.findIconDefinition(r);if(null!=s){const c=this.buildParams();this.renderIcon(s,c)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((e,n)=>(e=>void 0!==e.prefix&&void 0!==e.iconName)(e)?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:n,iconName:e}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const s=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=s?s:((e=>{throw new Error(`Could not find icon with iconName=${e.iconName} and prefix=${e.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?RA_transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...Aie(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const s=VA(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return e.\u0275fac=function(t){return new(t||e)(z(_C),z(Mie),z(Eie),z(Sie,8),z(Nie,8))},e.\u0275cmp=_t({type:e,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(Ca("innerHTML",r.renderedIconHTML,Yo),lt("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[tn],decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})(),Tie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({}),e})();const _5=function(){return{exact:!1}};let Iie=(()=>{class e{constructor(t){this._router=t,this.iconSiteMap=jk,this.iconCogs=Ok,this.iconAngleDown=Nk,this.iconAngleUp=Tk,this.iconLightbulb=Fk,this.iconListAlt=Hk,this.isCollapsed=!0}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(z(an))},e.\u0275cmp=_t({type:e,selectors:[["app-sidebar"]],decls:24,vars:12,consts:[["id","layoutSidenav_nav"],[1,"sidenav","shadow-right","sidenav-light"],[1,"sidenav-menu"],["id","accordionSidenav",1,"nav","accordion"],[1,"sidenav-menu-heading"],["href","javascript:void(0);","routerLink","spaces","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"nav-link-icon"],[3,"icon"],["href","javascript:void(0);","routerLink","/spaces/create","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["href","javascript:void(0);","routerLink","/topics/create","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["href","javascript:void(0);","routerLink","/knowledges/create","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"]],template:function(t,r){1&t&&(I(0,"div",0),I(1,"nav",1),I(2,"div",2),I(3,"div",3),I(4,"div",4),ce(5,"Core"),P(),I(6,"a",5),I(7,"div",6),Fe(8,"fa-icon",7),P(),ce(9," Spaces "),P(),I(10,"div",4),ce(11," Manage "),P(),I(12,"a",8),I(13,"div",6),Fe(14,"fa-icon",7),P(),ce(15," New Space "),P(),I(16,"a",9),I(17,"div",6),Fe(18,"fa-icon",7),P(),ce(19," New Topic "),P(),I(20,"a",10),I(21,"div",6),Fe(22,"fa-icon",7),P(),ce(23," New knowledge "),P(),P(),P(),P(),P()),2&t&&(K(6),J("routerLinkActiveOptions",A6(8,_5)),K(2),J("icon",r.iconSiteMap),K(4),J("routerLinkActiveOptions",A6(9,_5)),K(2),J("icon",r.iconSiteMap),K(2),J("routerLinkActiveOptions",A6(10,_5)),K(2),J("icon",r.iconListAlt),K(2),J("routerLinkActiveOptions",A6(11,_5)),K(2),J("icon",r.iconLightbulb))},directives:[J6,kk,FA],styles:[""]}),e})(),Pie=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_t({type:e,selectors:[["app-layout"]],decls:6,vars:0,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"]],template:function(t,r){1&t&&(Fe(0,"app-navbar"),I(1,"div",0),Fe(2,"app-sidebar"),I(3,"div",1),I(4,"main"),Fe(5,"router-outlet"),P(),P(),P())},directives:[jte,Iie,zh],styles:[""]}),e})();class HA{constructor(n,t,r,s){this.id=n,this.name=t,this.description=r,this.color=s}}class _3{constructor(n,t,r,s){this.isCollapsed=!0,this.id=n,this.name=t,this.description=r,this.spaceId=s}}class It{constructor(n,t,r,s,c){this.isCollapsed=!0,this.id=n,this.title=t,this.shortTitle=r,this.content=s,this.topicId=c}}class zie{constructor(){this.spacesList=[new HA(1,"General","","#FF9800"),new HA(2,"Wellbeing","Work related","#322172")],this.topicsList=[new _3(1,"Econsent","",2),new _3(2,"Stratus","",2),new _3(3,"Releases","",2),new _3(4,"Database","",2),new _3(5,"Other","",2)],this.knowledgeList=[new It(1,"Clear Eforms forms","Clear Eforms forms","<p>delete from rich_form_release_form_release where 1 = 1;<br>delete from decorator_release where 1 = 1;<br>delete from decorator where 1 = 1;<br>delete from rich_form_form_release where 1 = 1;<br>delete from rich_form_release where 1 = 1;<br>delete from rich_form where 1 = 1;<br>delete from form_release_status where 1 = 1;<br>delete from form_data_point_release where 1 = 1;<br>delete from form_data_point where 1 = 1;<br>delete from form_column_release where 1 = 1;<br>delete from form_column where 1 = 1;<br>delete from form_release_tag where 1 = 1;<br>delete from form_release where 1 = 1;<br>delete from form where 1 = 1;<br>delete from data_point_release_status where 1 = 1;<br>delete from data_point_release_tag where 1 = 1;<br>delete from data_point_tag where 1 = 1;<br>delete from data_point_validation_release where 1 = 1;<br>delete from data_point_validation where 1 = 1;<br>delete from data_point_release where 1 = 1;<br>delete from data_point where 1 = 1;<br>delete from data_source_release_tag where 1 = 1;<br>delete from data_source_tag where 1 = 1;<br>delete from data_source_release_status where 1 = 1;<br>delete from data_source_item_release where 1 = 1;<br>delete from data_source_item where 1 = 1;<br>delete from data_source_release where 1 = 1;<br>delete from data_source where 1 = 1;</p>",4),new It(9,"Connect to PostGres DB","Connect to PostGres DB","<p>sudo -i -u postgres<br>psql</p>",4),new It(2,"TOMCAT server location","TOMCAT location","<p>/home/auser/servers</p>",2),new It(3,"TOMCAT server config file location","TOMCAT config file localtion","<p>/home/auser/servers/apache-tomcat-7.0.90/conf/context.xml</p>",2),new It(4,"NGINX config file","NGINX config file","<p># THis is the config for viper test<br>server {<br>&nbsp; &nbsp; listen 80;<br>&nbsp; &nbsp; location /jadmin {<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;X-Forwarded-For $proxy_add_x_forwarded_for;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;Host $http_host;<br>&nbsp; &nbsp; &nbsp; &nbsp; access_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/var/log/nginx/access-stratus-ssl.log;<br>&nbsp; &nbsp; &nbsp; &nbsp; error_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /var/log/nginx/error-stratus-ssl.log &nbsp; &nbsp; debug;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_pass &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://jadmin;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; # API end point<br>&nbsp; &nbsp; location /nimbus/services {<br>&nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; &nbsp;rewrite nimbus/(w+.?.*$) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/$1 break;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;Accept &nbsp; application/json;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;X-Forwarded-For $proxy_add_x_forwarded_for;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;Host $http_host;<br>&nbsp; &nbsp; &nbsp; &nbsp; access_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/var/log/nginx/access-nimbus-ssl.log;<br>&nbsp; &nbsp; &nbsp; &nbsp; error_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /var/log/nginx/error-nimbus-ssl.log &nbsp; &nbsp; debug;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_pass &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://cirrus;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; location /nimbus {<br>&nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; &nbsp;rewrite nimbus/(w+.?.*$) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/$1 break;<br>&nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; &nbsp;proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;Accept &nbsp; application/json;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;X-Forwarded-For $proxy_add_x_forwarded_for;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;Host $http_host;<br>&nbsp; &nbsp; &nbsp; &nbsp; access_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/var/log/nginx/access-nimbus-ssl.log;<br>&nbsp; &nbsp; &nbsp; &nbsp; error_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /var/log/nginx/error-nimbus-ssl.log &nbsp; &nbsp; debug;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_pass &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://cirrus;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; location /stratus/ {<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;X-Forwarded-For $proxy_add_x_forwarded_for;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;Host $http_host;<br>&nbsp; &nbsp; &nbsp; &nbsp; access_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/var/log/nginx/access-stratus-ssl.log;<br>&nbsp; &nbsp; &nbsp; &nbsp; error_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /var/log/nginx/error-stratus-ssl.log &nbsp; &nbsp;debug;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_pass &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://stratus;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; location /nimbusindexing/ {<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;X-Forwarded-For $proxy_add_x_forwarded_for;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;Host $http_host;<br>&nbsp; &nbsp; &nbsp; &nbsp; access_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/var/log/nginx/access-stratus-ssl.log;<br>&nbsp; &nbsp; &nbsp; &nbsp; error_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /var/log/nginx/error-stratus-ssl.log &nbsp; &nbsp;debug;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_pass &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://localhost:7777;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; location / {<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;X-Forwarded-For $proxy_add_x_forwarded_for;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_set_header &nbsp; &nbsp; &nbsp; &nbsp;Host $http_host;<br>&nbsp; &nbsp; &nbsp; &nbsp; access_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/var/log/nginx/access-stratusdev-ssl.log;<br>&nbsp; &nbsp; &nbsp; &nbsp; error_log &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /var/log/nginx/error-stratusdev-ssl.log &nbsp; &nbsp;debug;<br>&nbsp; &nbsp; &nbsp; &nbsp; proxy_pass &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;http://stratusdev;<br>&nbsp; &nbsp; }<br>}<br>&nbsp;</p>",2),new It(5,"Linux hosts file location","Linux hosts file","<p>sudo gedit /etc/hosts</p>",2),new It(6,"Stratus URL's","Stratus URL's","<p>stratus super: http://vm.vipdev/<br>Stratus new (angular) - http://vm.vipdev/jadmin/#/<br>stratus debug classic: http://vm.vipdev/index.html?gwt.codesvr=127.0.1.1:9997</p>",2),new It(7,"Nimbus pickup folder","Nimbus pickup folder","<p>/var/viper/filepickup/inbox</p>",2),new It(8,"Setup Stratus","Setup Stratus",'<p><strong>SETUP STRATUS</strong><br>&nbsp; &nbsp; * /home/auser/servers/apache-tomcat-7.0.90-stratus -&gt; this is the server that runs Stratus. All the configs in this are on the Stratus project<br>&nbsp; &nbsp; * stratus classic debug config requires FireFox 24 or 26 to work</p><p>&nbsp; &nbsp; - change the ip address on /home/auser/servers/apache-tomcat-7.0.90/conf/context.xml to point to my local database NIMBUSDB<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;Parameter name="url" override="true" value="jdbc:postgresql://vm.vipdev:5432/nimbusdb"/&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;Parameter name="username" override="true" value="oneconnect"/&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;Parameter name="password" override="true" value="oneconnect"/&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;Parameter name="cas.serviceId" value="http://vm.vipdev/nimbusindexing" override="false"/&gt;<br>&nbsp;<br>&nbsp; &nbsp; - setup hosts file to contain<br>&nbsp; &nbsp; &nbsp; &nbsp; 127.0.0.1 &nbsp; localhost &nbsp; vm.vipdev<br>&nbsp; &nbsp; &nbsp; &nbsp; 127.0.0.1 &nbsp; localhost &nbsp; stratusdev<br>&nbsp; &nbsp; &nbsp; &nbsp; 127.0.0.1 &nbsp; localhost &nbsp; cirrus<br>&nbsp; &nbsp; &nbsp; &nbsp; 127.0.0.1 &nbsp; localhost &nbsp; nimbus</p><p>&nbsp; &nbsp; - setup NGINX configs at<br>&nbsp; &nbsp; &nbsp; &nbsp; /etc/nginx/sites-available/viper.conf<br>&nbsp; &nbsp; &nbsp; &nbsp; sudo systemctl restart nginx</p><p>&nbsp; &nbsp; - on IntelliJ, create new Run/Debug configs<br>&nbsp; &nbsp; &nbsp; &nbsp; righ-click on the main pom.xml file -&gt; maven -&gt; generate sources and update folders</p><p>&nbsp; &nbsp; - Maven<br>&nbsp; &nbsp; &nbsp; &nbsp; name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : gwt-prebuild<br>&nbsp; &nbsp; &nbsp; &nbsp; working directory: /home/auser/workspace/viper &nbsp; (the folder where the project is located)<br>&nbsp; &nbsp; &nbsp; &nbsp; command line &nbsp; &nbsp; : clean package -Dmaven.test.skip=true -Pprod,release-version -Denv=prod<br>&nbsp; &nbsp;<br>&nbsp; &nbsp; - Spring Boot<br>&nbsp; &nbsp; &nbsp; &nbsp; name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : CirrusApplication<br>&nbsp; &nbsp; &nbsp; &nbsp; main class &nbsp; &nbsp; : com.ehealthinnovations.cirrus.CirrusApplication<br>&nbsp; &nbsp; &nbsp; &nbsp; active profiles: swagger,dev,jose</p><p>&nbsp; &nbsp; - Tomcat Server<br>&nbsp; &nbsp; &nbsp; &nbsp; Server tab<br>&nbsp; &nbsp; &nbsp; &nbsp; name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: Nimbus<br>&nbsp; &nbsp; &nbsp; &nbsp; application server: Tomcat 7.0.90<br>&nbsp; &nbsp; &nbsp; &nbsp; URL &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : http://localhost:7777/nimbusindexing<br>&nbsp; &nbsp; &nbsp; &nbsp; VM options &nbsp; &nbsp; &nbsp; &nbsp;: -Xms1g -Xmx10G<br>&nbsp; &nbsp; &nbsp; &nbsp; HTTP port &nbsp; &nbsp; &nbsp; &nbsp; : 7777<br>&nbsp; &nbsp; &nbsp; &nbsp; JMX port &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 1097<br>&nbsp; &nbsp; &nbsp; &nbsp; before launch &nbsp; &nbsp; : build \'nimbus:war exploded\' artifact<br>&nbsp; &nbsp; &nbsp; &nbsp; Deployment tab<br>&nbsp; &nbsp; &nbsp; &nbsp; Deploy at the server startup: nimbus:war exploded<br>&nbsp; &nbsp; &nbsp; &nbsp; Application context: /nimbusindexing</p><p>&nbsp; &nbsp; - GWT Configuration<br>&nbsp; &nbsp; &nbsp; &nbsp; name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : stratus debug super<br>&nbsp; &nbsp; &nbsp; &nbsp; module &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : stratus<br>&nbsp; &nbsp; &nbsp; &nbsp; GWT modules to load: all<br>&nbsp; &nbsp; &nbsp; &nbsp; VM options &nbsp; &nbsp; &nbsp; &nbsp; : -Xmx4g -Dstratus.properties.profile=cdm<br>&nbsp; &nbsp; &nbsp; &nbsp; Dev mode parameters: -bindAddress 0.0.0.0</p><p>&nbsp; &nbsp; &nbsp; &nbsp; name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : stratus debug classic<br>&nbsp; &nbsp; &nbsp; &nbsp; module &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : stratus<br>&nbsp; &nbsp; &nbsp; &nbsp; GWT modules to load: net.cloud21.stratus.Stratus<br>&nbsp; &nbsp; &nbsp; &nbsp; VM options &nbsp; &nbsp; &nbsp; &nbsp; : -Xmx4g -Dstratus.properties.profile=cdm<br>&nbsp; &nbsp; &nbsp; &nbsp; Dev mode parameters: -bindAddress 0.0.0.0</p><p>&nbsp; &nbsp; - in IntelliJ -&gt; file -&gt; project structure &gt; modules<br>&nbsp; &nbsp; &nbsp; &nbsp; - click stratus with you second button and add GWT<br>&nbsp; &nbsp; &nbsp; &nbsp; GWT<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; path to GWT installation directory: /home/auser/gwt-2.8.2<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; target web facet: web<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; javascript output style: Detailed<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Compiler maximun heap size: 1024<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list GWT Module | Output Relative Path<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; net.cloud21.stratus.StratusJUnit &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| /net.cloud21.stratus.StratusJUnit<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; net.cloud21.stratus.Stratus &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | /viper<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; net.cloud21.stratus.FormFactor &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| /net.cloud21.stratus.FormFactor<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; com.reveregroup.gwt.imagepreloader.ImagePreloader | /gwt_image_preloader<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; org.gwt.contentflow4gwt.contentflow4gwt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | /org.gwt.contentflow4gwt.contentflow4gwt<br>&nbsp; &nbsp; &nbsp; &nbsp; * the order doesn\'t matter<br>&nbsp; &nbsp; &nbsp; &nbsp; * the GWT compoiler is not included in an artifact warning doesn\'t matter as well<br>&nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; - under facets add a GWT (stratus)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; path to GWT installation directory: /home/auser/gwt-2.8.2<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; target web facet: web<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; javascript output style: Detailed<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Compiler maximun heap size: 1024<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list GWT Module | Output Relative Path<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; net.cloud21.stratus.StratusJUnit &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| /net.cloud21.stratus.StratusJUnit<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; net.cloud21.stratus.Stratus &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | /viper<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; net.cloud21.stratus.FormFactor &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| /net.cloud21.stratus.FormFactor<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; com.reveregroup.gwt.imagepreloader.ImagePreloader | /gwt_image_preloader<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; org.gwt.contentflow4gwt.contentflow4gwt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | /org.gwt.contentflow4gwt.contentflow4gwt<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * the order doesn\'t matter<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; * the GWT compoiler is not included in an artifact warning doesn\'t matter as well</p><p>&nbsp; &nbsp; - run gwt-prebuild to compoile all the stuff</p><p>&nbsp; &nbsp; - install FireFox 26.0 (firefox-26.0.tar.bz2)<br>&nbsp; &nbsp; - create an alias for firefox 26<br>&nbsp; &nbsp; &nbsp; &nbsp; sudo gedit ~/.bashrc and add alias ff26=\'~/workspace/firefox26/firefox\' (path to where you extracted the firefox folder)<br>&nbsp; &nbsp; - download and install GWT plugin for firefox 26 on https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/google-web-toolkit/gwt-dev-plugin-1.26-rc1.xpi<br>&nbsp; &nbsp; &nbsp; &nbsp; add this configs in the plugin:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Include vm.vipdev 127.0.1.1<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Include vm.vipdev 192.168.44.30<br>&nbsp; &nbsp; &nbsp; &nbsp; * So firefox is used with the GWT plugin, This is an outdated way of running the code. This is the only way you can get Status debug classic working. (This is Tom preference)<br>&nbsp; &nbsp; &nbsp; &nbsp; * But you can also run stratus in any browser using stratus debug super</p><p>&nbsp; &nbsp; &nbsp;- on viper/admin2-dev/src/environments/environment.jose.ts<br>&nbsp; &nbsp; &nbsp; &nbsp; export const environment = {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; production: false,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cirrus_api: \'http://vm.vipdev/nimbus\'<br>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; - on viper/cirrus/rc/main/resources/application-jose.properties<br>&nbsp; &nbsp; &nbsp; &nbsp; spring.datasource.url = jdbc:postgresql://192.168.44.30:5432/nimbusdb<br>&nbsp; &nbsp; &nbsp; &nbsp; allow.origin = http://vm.vipdev:4200<br>&nbsp; &nbsp; &nbsp; &nbsp; cas.autoserviceId = http://vm.vipdev/nimbus</p><p>&nbsp; &nbsp; - on viper/admin2-dev/package.json<br>&nbsp; &nbsp; &nbsp; &nbsp; add under "scripts"<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "devjordan": "ng serve -c jordan --host vm.vipdev --base-href=/jadmin/",</p><p>&nbsp; &nbsp; - check the dbURL config on the nimbusDb<br>&nbsp; &nbsp; &nbsp; &nbsp; * applicationconfiguration is the table that holds stratus project configs<br>&nbsp; &nbsp; &nbsp; &nbsp; select parametername, parametervalue from applicationconfiguration<br>&nbsp; &nbsp; &nbsp; &nbsp; select parametername, parametervalue from nimbusdb.applicationconfiguration where parametername=\'jpa.dbURL\'<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jpa.dbURL should have jdbc:postgresql://localhost:5432/nimbusdb as the value</p><p>&nbsp; &nbsp; - run CirrusApplication</p><p>&nbsp; &nbsp; - run \'npm i\' and \'sudo npm run devjordan\' in order to start the angular project (gwt-prebuild has to be ran before this)<br>&nbsp; &nbsp; &nbsp; &nbsp; access it via http://vm.vipdev/jadmin/#/<br>&nbsp;<br>&nbsp; &nbsp; - run nimbus and login into CAS with&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; user: test.user<br>&nbsp; &nbsp; &nbsp; &nbsp; pass: i2Mansfield</p><p>&nbsp; &nbsp; - to test nimbus indexing:<br>&nbsp; &nbsp; &nbsp; &nbsp; get a PDF file from viper/site-config/Dev/pdf/TerJones and place it into /var/viper/filepickup/inbox (pickup folder)<br>&nbsp; &nbsp; &nbsp; &nbsp; * if you put a copy of one of the files in there then nimbus will pickup the file and add it the the DB<br>&nbsp; &nbsp; &nbsp; &nbsp; * Then it will be available in the application<br>&nbsp; &nbsp; &nbsp; &nbsp; * Take note the name of the file is used to assign &nbsp;the &nbsp;patientId and a category "2006000002_Anaesthetic+Records+and+Consent_Operation+Notes.pdf"<br>&nbsp; &nbsp; &nbsp; &nbsp; * after nimbus pickups the file, it will disappear from the pickup folder</p><p>&nbsp; &nbsp; &nbsp; &nbsp; to see the file:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; on http://vm.vipdev:4200/jadmin/#, click in Search, then use the file\'s name number (2006000002 is the patient id) as the criteria</p><p>&nbsp; &nbsp; - old stratus (stratus super)<br>&nbsp; &nbsp; &nbsp; &nbsp; - place this file on /viper/stratus/src/main/resources/stratus-cdm.properties<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Hostname for the nimbus instance responsible for service requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.service.host=vm.vipdev<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Port for the nimbus instance responsible for service requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.service.port=<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Whether to use HTTPS for the nimbus instance responsible for service requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.service.ssl=false<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Base URL path for the nimbus instance responsible for service requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.service.ctxPath=/nimbus/services/<br>&nbsp; &nbsp; &nbsp;\u200b<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Hostname for the nimbus instance responsible for resource requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.resource.host=vm.vipdev<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Port for the nimbus instance responsible for resource requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.resource.port=<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Whether to use HTTPS for the nimbus instance responsible for resource requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.resource.ssl=false<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Base URL path for the nimbus instance responsible for resource requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.resource.ctxPath=/nimbus/resources/<br>&nbsp; &nbsp; &nbsp;\u200b<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Hostname for the nimbus instance responsible for document text search requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.docTextSearch.host=vm.vipdev<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Port for the nimbus instance responsible for document text search requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.docTextSearch.port=<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Whether to use HTTPS for the nimbus instance responsible for document text search requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.docTextSearch.ssl=false<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Base URL path for the nimbus instance responsible for document text search requests<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.docTextSearch.ctxPath=/nimbus/services/<br>&nbsp; &nbsp; &nbsp;\u200b<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Whether to display the checkbox for offline mode on login - This is an old unused property<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.offlinemode.enabled=false<br>&nbsp; &nbsp; &nbsp;\u200b<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Which skin (CSS rules) to use - default stratus-01<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; skin=stratus-01<br>&nbsp; &nbsp; &nbsp;\u200b<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Time in milliseconds for HTTP connection timeout for Java side of Stratus<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.connection.timeout=10000<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Time in milliseconds for HTTP socket timeout for Java side of Stratus<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.connection.socket.timeout=30000<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Max connections in pool for HTTP requests to Nimbus from Java side of Stratus<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.connection.maxtotalconnections=2000<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Max connections per unique host for HTTP requests to Nimbus from Java side of Stratus<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nimbus.connection.maxconnectionsperhost=2000<br>&nbsp; &nbsp; &nbsp;\u200b<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #URL of the CAS Server<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cas.serverUrl=https://cas.e-healthinnovations.com/cas<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #Service ID of the application for use with CAS<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cas.serviceId=http://vm.vipdev/<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Will only show these properties from the metadata if disabled will display nothing from the metadata<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; metadata.whitelist=clinician,speciality,location,document creator,document date<br>&nbsp; &nbsp; &nbsp;\u200b<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; help.url=https://cloud.hssnet.com/training/<br>&nbsp; &nbsp; - run stratus debug super<br>&nbsp; &nbsp; - access it via http://vm.vipdev/<br>&nbsp;</p>',2),new It(10,"Create a new release","Create a new release","<p>repository &gt; tags<br>create new version (with RC1 for the tests)</p><p>wellbeing RN and TCR docs for the release</p><p>devweb<br>&nbsp;automation test importer<br>&nbsp; &nbsp;create tests<br>&nbsp;release information<br>&nbsp;select project<br>&nbsp;select release version<br>&nbsp;add a release cycle<br>&nbsp; &nbsp;use tests created before<br>&nbsp;generate</p><p>&nbsp;generate the text. the right handside one is for TCR (Word macro and paste it)<br>&nbsp;the text on the lefthand side is for the RN word document</p>",3),new It(11,"Create CI pipeline on GitLab","Create CI pipeline",'<p>create a .gitlab-ci.yml file on project root<br>&nbsp; &nbsp; &nbsp; &nbsp;stages:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- frontend<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- compile-code<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- docker-build<br>&nbsp; &nbsp; &nbsp; &nbsp;frontend:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;image: hssdev1a:5000/wellbeing/node:stable<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;stage: frontend<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# tags:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# &nbsp; - obsvis-1-docker-runner<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;script:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- cd app<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- npm install<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- npm run test:ci<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- npm run build:prod<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;artifacts:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;paths:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- src/main/resources/static<br>&nbsp; &nbsp; &nbsp; &nbsp;compile-code:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;stage: compile-code<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;image: maven:3.3.9<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# tags:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# &nbsp; - obsvis-1-docker-runner<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;script:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- mvn clean package test -B<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;artifacts:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;paths:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- target/evoforms.jar<br>&nbsp; &nbsp; &nbsp; &nbsp;#docker-build:<br>&nbsp; &nbsp; &nbsp; &nbsp;# &nbsp;tags:<br>&nbsp; &nbsp; &nbsp; &nbsp;# &nbsp; &nbsp;- shell<br>&nbsp; &nbsp; &nbsp; &nbsp;# &nbsp;stage: docker-build<br>&nbsp; &nbsp; &nbsp; &nbsp;# &nbsp;script:<br>&nbsp; &nbsp; &nbsp; &nbsp;# &nbsp; &nbsp;- docker build . -t hssdev1a:5000/wellbeing/obsvis<br>&nbsp; &nbsp; &nbsp; &nbsp;# &nbsp; &nbsp;- docker push hssdev1a:5000/wellbeing/obsvis<br>&nbsp;</p><p>create a Dockerfile on project root<br>&nbsp; &nbsp; &nbsp; &nbsp;FROM openjdk:8-alpine<br>&nbsp; &nbsp; &nbsp; &nbsp;COPY target/evoforms.jar .<br>&nbsp; &nbsp; &nbsp; &nbsp;EXPOSE 8080<br>&nbsp; &nbsp; &nbsp; &nbsp;CMD ["java","-jar","obsvis.jar"]<br>&nbsp;</p><p>on angular.json file<br>&nbsp; &nbsp;"outputPath": "../src/main/resources/static",<br>&nbsp;</p><p>&nbsp;on package.json add these two scripts<br>&nbsp; &nbsp;"build:prod": "ng build --prod",<br>&nbsp; &nbsp;"test:ci": "ng test --browsers Chrome_without_security"<br>&nbsp;</p><p>&nbsp;on karma.conf.js add<br>&nbsp; &nbsp;customLaunchers: {<br>&nbsp; &nbsp; &nbsp;Chrome_without_security: {<br>&nbsp; &nbsp; &nbsp; &nbsp;base: \'ChromiumHeadless\',<br>&nbsp; &nbsp; &nbsp; &nbsp;flags: [\'--no-sandbox\']<br>&nbsp; &nbsp; &nbsp;}<br>&nbsp; &nbsp; &nbsp; },<br>&nbsp; &nbsp;singleRun: true,</p>',5),new It(12,"Change DSL renderer and build it","Changing DSL renderer",'<ol><li>change something on a file inside the DSL folder</li><li>npm run build&nbsp;</li><li>npm pack (this will generate a tgz file)</li><li>on the app folder: npm i \'path.to.tgz file\'</li><li>when finished, it is necessary to publish this package</li><li>change the version number on dsl/package.json</li><li>npm publish on dsl folder</li><li>npm pack on dsl folder</li><li>change the version number of the tgz file on app/package.json</li><li>when on local it will be "@wellbeing/dsl": "file:../dsl/wellbeing-dsl-0.2.1.tgz"</li><li>when pushing it: "@wellbeing/dsl": "0.2.1"</li><li>npm i \'path.to.tgz file\' on app folder to get the latest changes</li></ol>',1),new It(13,"Serve DSL editor","Serve DSL editor","<p>npm i http-server -g (install http-server from Node globally) (https://stackoverflow.com/questions/38497334/how-to-run-html-file-on-localhost)<br>go to dsl-editor folder<br>&nbsp; &nbsp; http-server (to set specific port: -p portNumber)<br>&nbsp; &nbsp; if theres an error (https://stackoverflow.com/questions/16460163/ps1-cannot-be-loaded-because-the-execution-of-scripts-is-disabled-on-this-syste)<br>&nbsp; &nbsp; &nbsp; &nbsp; open cmd as administrator and run Set-ExecutionPolicy Unrestricted, then run http-server again</p>",1),new It(14,"Edit DSL editor","Edit DSL editor","<p>after editing</p><p>&nbsp; &nbsp; npm run build<br>&nbsp;</p><p>if something on the dsl folder was changed then<br>&nbsp; &nbsp; npm i tgz file<br>&nbsp; &nbsp; npm run build<br>&nbsp; &nbsp; http-server</p><p>when edited something<br>&nbsp; &nbsp; dsl folder edit something<br>&nbsp; &nbsp; &nbsp; &nbsp; npm run build<br>&nbsp; &nbsp; &nbsp; &nbsp; npm pack (will generate the tgz file)<br>&nbsp; &nbsp; go to dsl-editor folder<br>&nbsp; &nbsp; &nbsp; &nbsp; npm i the tgz file<br>&nbsp; &nbsp; &nbsp; &nbsp; then run the serve and see the changes on localhost:8000</p><p>&nbsp;the DSL itself<br>&nbsp; &nbsp; dsl/FDSL.g4 file</p>",1),new It(15,"Using Antl","Using Antl","<p>has to be done in Linux<br><br>download antlr jar files<br>&nbsp; &nbsp; antlr4-4.7.2-complete.jar<br>&nbsp; &nbsp; put the jar file into /usr/local/lib/antlr/<br><br>add aliases on bash<br>&nbsp; &nbsp; gedit ~/.bashrc<br>&nbsp; &nbsp; add<br>&nbsp; &nbsp; &nbsp; &nbsp; export CLASSPATH='.:/usr/local/lib/antlr/antlr4-4.7.2-complete.jar:$CLASSPATH'<br>&nbsp; &nbsp; &nbsp; &nbsp; alias antlr4='java -Xmx500M -cp \"/usr/local/lib/antlr/antlr4-4.7.2-complete.jar:$CLASSPATH\" org.antlr.v4.Tool'<br>&nbsp; &nbsp; &nbsp; &nbsp; alias grun='java org.antlr.v4.gui.TestRig'<br>&nbsp; &nbsp; . ~/.bashrc<br>&nbsp;<br>to run antlr<br>&nbsp; &nbsp; go to the dsl folder (folder that has FDSL.g4 file)<br>&nbsp; &nbsp; antlr4 -Dlanguage=JavaScript FDSL.g4 or sudo java -Xmx500M -cp \"/usr/local/lib/antlr/antlr4-4.7.2-complete.jar:$CLASSPATH\" org.antlr.v4.Tool -Dlanguage=JavaScript FDSL.g4<br>&nbsp; &nbsp; then copy the contents from the files that have been generated into the files inside lang folder</p><p>&nbsp; &nbsp; for JAVA dsl<br>&nbsp; &nbsp; &nbsp; &nbsp; run antlr4 FDSL.g4<br>&nbsp; &nbsp; &nbsp; &nbsp; copy the contents from the generated files into fdsl-parser/src/main/java/.../<br>&nbsp; &nbsp; &nbsp; &nbsp; keep package com.wellbeingsoftware.dsl.generated; at the top of the files</p>",1),new It(16,"Run OrderComms project","Run OrderComms project","<p>frontend/.npmrc file<br>&nbsp; &nbsp; package-lock=false<br>&nbsp; &nbsp; registry=http://jexus.wsg.local:8081/nexus/repository/npm-group/<br>&nbsp; &nbsp; _auth=YWRtaW46YWRtaW4xMjM=<br>&nbsp; &nbsp; always-auth=true<br>&nbsp; &nbsp; scripts-prepend-node-path=true<br><br>if an error with docker db happens<br>&nbsp; &nbsp; docker-compose -f ordercomms-compose.yml down<br>&nbsp; &nbsp; docker volume ls<br>&nbsp; &nbsp; docker volume rm ordercomms-app_postgres</p>",5),new It(17,"Use LazyDocker","Use LazyDocker","<p>On project's folder (the folder that has the docker file) run:<br>&nbsp; &nbsp; lazydocker</p>",5),new It(18,"Create local DB","Create local DB","<p>start postgres on lazydocker<br><br>if needed, change the public port<br>&nbsp; &nbsp; ports:<br>&nbsp; &nbsp; &nbsp; &nbsp; - 5433:5432<br><br>application.properties<br>&nbsp; &nbsp; use localhost:5433, user/pass = postgres<br>&nbsp; &nbsp; spring.flyway.enabled=true<br>connect to the postgres from docker and run the data.sql file<br>&nbsp; &nbsp; psql -U postgres -h localhost -p 5433 econsent &lt; /home/auser/workspace/econsent/econsent-core/src/main/resources/db/migration/data.sql</p>",1),new It(19,"Fix ng serve error","Fix ng serve error",'<p>run:<br>&nbsp; &nbsp; alias ng="/usr/local/lib/node_modules/@angular/cli/bin/ng"</p>',1),new It(20,"Recreate Docker DB","Recreate Docker DB","<p>delete the existing one<br>&nbsp; &nbsp; on lazydocker stop the container (s)<br>&nbsp; &nbsp; then d and remove with volumes<br><br>then shift + r and recreate<br><br>create the econsent schema on the econsent db<br>&nbsp; &nbsp; CREATE schema econsent;<br><br>run the project migrations<br>&nbsp; &nbsp; run the data.sql<br>&nbsp; &nbsp; &nbsp; &nbsp; psql -U postgres -h localhost -p 5433 econsent &lt; /home/auser/workspace/econsent/econsent-core/src/main/resources/db/migration/data.sql<br>&nbsp; &nbsp; &nbsp; &nbsp; psql -U postgres -h localhost -p 5433 econsent &lt; /home/auser/workspace/econsent/econsent-core/src/main/resources/db/migration/searchpath.sql<br>&nbsp; &nbsp; &nbsp; &nbsp; psql -U postgres -h localhost -p 5433 econsent &lt; /home/auser/workspace/econsent/econsent-core/src/main/resources/db/migration/securitypermissions.sql<br><br>run the project again</p>",1),new It(21,"Recreate Docker DB for EvoForms","Recreate Docker DB for EvoForms","<p>delete the existing one<br>&nbsp; &nbsp; on lazydocker stop the container (s)<br>&nbsp; &nbsp; then d and remove with volumes<br><br>then shift + r and recreate<br><br>run the project so the migrations are run</p>",5),new It(22,"Test security permissions","Test security permissions","<p>remove the dev profile when starting the project on IntelliJ</p>",1),new It(23,"Change Node version on the VM","Change Node version on the VM","<p>check all the versions available<br>&nbsp; &nbsp; nvm ls<br><br>choose one to be used<br>&nbsp; &nbsp; nvm use v10.16.3</p>",5),new It(24,"Generate new Client API for EvoForms","Generate new Client API for EvoForms","<p>on terminal, navigate to evo-forms project folder (where the gen_client.sh file is located at) and run<br>&nbsp; &nbsp; sudo sh gen_client.sh<br><br>this will generate the new version.&nbsp;<br><br>Then let IntelliJ index the new files and then navigate to the client api project folder and run<br>&nbsp; &nbsp; sudo npm run build<br><br>navigate to dist folder and run<br>&nbsp; &nbsp; npm pack<br><br>then on the angular app folder run<br>&nbsp; &nbsp; npm i name_of_the_generated_package</p>",5),new It(25,"Build Docker environment for specific branch","Build Docker for specific branch","<p>on the docker-compose file, at image<br>&nbsp; &nbsp; image: econsent-1.wsg.local:5000/econsent-core:ECON-1097</p>",5),new It(26,"Deploy FORM_BUILDER_CLIENT","Deploy FORM_BUILDER_CLIENT","<p>after making the changes on the project, run this on the folder that has the gen_java_client.sh<br>&nbsp; &nbsp; sudo sh gen_java_client.sh<br><br>this will generate the new client. Then it is needed to deploy this package to Maven<br>&nbsp; &nbsp; on Maven menu, double click on Deploy<br><br>make sure the user/pass is correct on the ~/.m2/settings.xml file<br>&nbsp; &nbsp; &lt;server&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;id&gt;nexus&lt;/id&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;username&gt;nexusdev&lt;/username&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;password&gt;DeVP455NexU5!&lt;/password&gt;<br>&nbsp; &nbsp; &lt;/server&gt;</p>",1),new It(27,"Admin app new routes","Admin app new routes","<p>add the correct permission on authz.ts for the admin app<br>&nbsp; &nbsp; when pushing, run:<br>&nbsp; &nbsp; &nbsp; &nbsp; sudo npm run build:prod</p>",1)]}}let gc=(()=>{class e{constructor(){this.database=new zie}getAllSpaces(){return this.database.spacesList}getAllSpacesWithCriteria(t){return this.database.spacesList.filter(r=>r.name.toLowerCase().indexOf(t)>-1)}getAllTopicsFromSpace(t){return this.database.topicsList.filter(r=>r.spaceId===t)}getAllTopicsWithCriteria(t,r){return this.database.topicsList.filter(s=>(s.spaceId===t&&s.name.toLowerCase().indexOf(r))>-1)}getAllTopics(){return this.database.topicsList}getAllKnowledgeFromTopic(t){return this.database.knowledgeList.filter(r=>r.topicId===t)}getDatabaseData(){return this.database}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lie(e,n){if(1&e){const t=yn();I(0,"div",10),I(1,"div",11),I(2,"input",12),de("ngModelChange",function(s){return Ge(t),he(2).searchCriteria=s})("ngModelChange",function(s){return Ge(t),he(2).searchModelChanged(s)}),P(),P(),P()}if(2&e){const t=he(2);K(2),J("ngModel",t.searchCriteria)}}function Rie(e,n){if(1&e&&(I(0,"header",2),I(1,"div",3),I(2,"div",4),I(3,"div",5),I(4,"div",6),I(5,"h1",7),ce(6),P(),I(7,"div",8),ce(8),P(),P(),P(),ee(9,Lie,3,1,"div",9),P(),P(),P()),2&e){const t=he();K(6),ii(" ",t.title," "),K(2),ii(" ",t.subTitle," "),K(1),J("ngIf",t.showSearch)}}function Vie(e,n){if(1&e){const t=yn();I(0,"div",21),I(1,"span",22),de("click",function(){return Ge(t),he(2).smallHeaderGoBackButtonClick()}),ce(2," Go back "),P(),P()}}function Fie(e,n){if(1&e){const t=yn();I(0,"div",21),I(1,"span",23),de("click",function(){return Ge(t),he(2).smallHeaderButtonClick()}),ce(2),P(),P()}if(2&e){const t=he(2);K(2),ii(" ",t.smallHeaderButtonText," ")}}function Hie(e,n){if(1&e&&(I(0,"header",13),I(1,"div",14),I(2,"div",15),I(3,"div",16),I(4,"div",17),I(5,"h1",18),ce(6),P(),P(),I(7,"div",19),ee(8,Vie,3,0,"div",20),ee(9,Fie,3,1,"div",20),P(),P(),P(),P(),P()),2&e){const t=he();K(5),J("innerHTML",t.title,Yo),K(1),ii(" ",t.title," "),K(2),J("ngIf",t.showGoBackButton),K(1),J("ngIf",t.smallHeaderButtonText.length>0)}}let Rl=(()=>{class e{constructor(){this.title="",this.subTitle="",this.showSearch=!1,this.showSmallHeader=!1,this.smallHeaderButtonText="",this.showGoBackButton=!0,this.smallHeaderButtonClickedEventEmitter=new Ce,this.smallHeaderGoBackButtonClickedEventEmitter=new Ce,this.searchButtonClickedEventEmitter=new Ce,this.clearSearchButtonClickedEventEmitter=new Ce,this.iconSearch=Bk,this.iconEraser=Vk,this.searchCriteria="",this.searchHasHappened=!1,this.searchModelSubject=new Ft,this.searchModelSubject.pipe(function(e,n=Zg){return Ut((t,r)=>{let s=null,c=null,h=null;const p=()=>{if(s){s.unsubscribe(),s=null;const v=c;c=null,r.next(v)}};function m(){const v=h+e,k=n.now();if(k<v)return s=this.schedule(void 0,v-k),void r.add(s);p()}t.subscribe(new At(r,v=>{c=v,h=n.now(),s||(s=n.schedule(m,e),r.add(s))},()=>{p(),r.complete()},void 0,()=>{c=s=null}))})}(100),function(e,n=Ni){return e=null!=e?e:bQ,Ut((t,r)=>{let s,c=!0;t.subscribe(new At(r,h=>{const p=n(h);(c||!e(s,p))&&(c=!1,s=p,r.next(h))}))})}()).subscribe(t=>this.searchButtonClickedEventEmitter.emit(t))}ngOnInit(){}searchModelChanged(t){this.searchModelSubject.next(t)}smallHeaderButtonClick(){this.smallHeaderButtonClickedEventEmitter.emit(!0)}smallHeaderGoBackButtonClick(){this.smallHeaderGoBackButtonClickedEventEmitter.emit(!0)}searchButtonClick(){this.searchHasHappened=!0,this.searchButtonClickedEventEmitter.emit(this.searchCriteria)}clearSearchButtonClick(){this.searchCriteria="",this.searchHasHappened=!1,this.clearSearchButtonClickedEventEmitter.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_t({type:e,selectors:[["app-page-header"]],inputs:{title:"title",subTitle:"subTitle",showSearch:"showSearch",showSmallHeader:"showSmallHeader",smallHeaderButtonText:"smallHeaderButtonText",showGoBackButton:"showGoBackButton"},outputs:{smallHeaderButtonClickedEventEmitter:"smallHeaderButtonClick",smallHeaderGoBackButtonClickedEventEmitter:"smallHeaderGoBackButtonClick",searchButtonClickedEventEmitter:"searchButtonClick",clearSearchButtonClickedEventEmitter:"clearSearchButtonClick"},decls:2,vars:2,consts:[["class","page-header page-header-dark bg-gradient-primary mb-4",4,"ngIf"],["class","page-header page-header-compact page-header-compact-bgc border-bottom mb-4",4,"ngIf"],[1,"page-header","page-header-dark","bg-gradient-primary","mb-4"],[1,"container"],[1,"page-header-content","pt-4"],[1,"row","align-items-center","justify-content-between"],[1,"col-auto","mt-4"],[1,"page-header-title"],[1,"page-header-subtitle"],["class","page-header-search mt-4",4,"ngIf"],[1,"page-header-search","mt-4"],[1,"input-group","input-group-joined"],["type","text","placeholder","Search...","aria-label","Search","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],[1,"page-header","page-header-compact","page-header-compact-bgc","border-bottom","mb-4"],[1,"container-fluid"],[1,"page-header-content"],[1,"row","align-items-center","justify-content-between","pt-3"],[1,"col-auto","mb-3"],[1,"page-header-title","header-text",3,"innerHTML"],[1,"row"],["class","col-6 col-xl-auto mb-3",4,"ngIf"],[1,"col-6","col-xl-auto","mb-3"],[1,"btn","create-btn","btn-info","mr-2",3,"click"],[1,"btn","create-btn","btn-success","mr-2",3,"click"]],template:function(t,r){1&t&&(ee(0,Rie,10,3,"header",0),ee(1,Hie,10,4,"header",1)),2&t&&(J("ngIf",!r.showSmallHeader),K(1),J("ngIf",r.showSmallHeader))},directives:[ji,xa,Ml,h9],styles:[".bg-gradient-primary[_ngcontent-%COMP%]{background-color:#0061f2}.search-button[_ngcontent-%COMP%]{padding-left:18px!important;background-color:#00ac6a!important;color:#fff;cursor:pointer}.page-header-compact-bgc[_ngcontent-%COMP%]{background-color:#0061f2}.header-text[_ngcontent-%COMP%]{color:#fff;font-size:1.75rem!important}.create-btn[_ngcontent-%COMP%]{color:#fff;font-weight:700}.clear-search-button[_ngcontent-%COMP%]{background-color:#00cfd5!important;color:#fff;cursor:pointer;padding-left:18px!important}"]}),e})();function Bie(e,n){1&e&&(I(0,"div",1),Fe(1,"div",2),P())}let rm=(()=>{class e{constructor(){this.show=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_t({type:e,selectors:[["app-spinner"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","cssload-container",4,"ngIf"],[1,"cssload-container"],[1,"cssload-whirlpool"]],template:function(t,r){1&t&&ee(0,Bie,2,0,"div",0),2&t&&J("ngIf",r.show)},directives:[ji],styles:['.cssload-container[_ngcontent-%COMP%]{position:fixed;z-index:999;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0;width:50px;height:50px}.cssload-container[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffff80}.cssload-whirlpool[_ngcontent-%COMP%], .cssload-whirlpool[_ngcontent-%COMP%]:before, .cssload-whirlpool[_ngcontent-%COMP%]:after{position:absolute;top:50%;left:50%;border:6px solid rgba(204,204,204,0);border-left-color:#42a5f5;border-radius:5869px;-o-border-radius:5869px;-ms-border-radius:5869px;-webkit-border-radius:5869px;-moz-border-radius:5869px}.cssload-whirlpool[_ngcontent-%COMP%]{margin:-147px 0 0 -147px;height:294px;width:294px;animation:cssload-rotate 1.9s linear infinite;-o-animation:cssload-rotate 1.9s linear infinite;-ms-animation:cssload-rotate 1.9s linear infinite;-webkit-animation:cssload-rotate 1.9s linear infinite;-moz-animation:cssload-rotate 1.9s linear infinite}.cssload-whirlpool[_ngcontent-%COMP%]:before{content:"";margin:-135px 0 0 -135px;height:259px;width:259px;animation:cssload-rotate 1.9s linear infinite;-o-animation:cssload-rotate 1.9s linear infinite;-ms-animation:cssload-rotate 1.9s linear infinite;-webkit-animation:cssload-rotate 1.9s linear infinite;-moz-animation:cssload-rotate 1.9s linear infinite}.cssload-whirlpool[_ngcontent-%COMP%]:after{content:"";margin:-170px 0 0 -170px;height:329px;width:329px;animation:cssload-rotate 3.8s linear infinite;-o-animation:cssload-rotate 3.8s linear infinite;-ms-animation:cssload-rotate 3.8s linear infinite;-webkit-animation:cssload-rotate 3.8s linear infinite;-moz-animation:cssload-rotate 3.8s linear infinite}@keyframes cssload-rotate{to{transform:rotate(360deg)}}']}),e})(),om=(()=>{class e{constructor(){this.text="",this.alertClass="alert-primary"}ngOnInit(){}buildCssClasses(){return"alert custom-alert "+this.alertClass}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_t({type:e,selectors:[["app-alert"]],inputs:{text:"text",alertClass:"alertClass"},decls:2,vars:3,consts:[["role","alert"]],template:function(t,r){1&t&&(I(0,"div",0),ce(1),P()),2&t&&(_(r.buildCssClasses()),K(1),ii(" ",r.text,"\n"))},styles:[".custom-alert[_ngcontent-%COMP%]{width:90%;margin-left:5%;text-align:center}"]}),e})();function jie(e,n){1&e&&Fe(0,"app-alert",5)}function Gie(e,n){if(1&e&&(I(0,"p",14),ce(1),P()),2&e){const t=he().$implicit;K(1),ii(" ",t.description," ")}}function Uie(e,n){if(1&e){const t=yn();I(0,"div",8),I(1,"div",9),I(2,"div",10),de("click",function(){const c=Ge(t).$implicit;return he(2).navigateToSpaceTopics(c)}),I(3,"h5",11),ce(4),P(),ee(5,Gie,2,1,"p",12),P(),Fe(6,"div",13),P(),P()}if(2&e){const t=n.$implicit,r=he(2);K(3),u("color",t.color),K(1),ii(" ",t.name," "),K(1),J("ngIf",null!==t.description&&t.description.length>0),K(1),u("background-color",r.defineCardFooterBackgroundColor(t.color))}}function $ie(e,n){if(1&e&&(I(0,"div",6),ee(1,Uie,7,6,"div",7),P()),2&e){const t=he();K(1),J("ngForOf",t.spaceList)}}let Wie=(()=>{class e{constructor(t,r){this._router=t,this._dataService=r,this.iconPlus=Jg,this.iconEdit=Lk,this.iconMenu=Kg,this.spaceList=[],this.showSpinner=!1}ngOnInit(){this.search("")}search(t){this.showSpinner=!0,this.spaceList=null!=t?this._dataService.getAllSpacesWithCriteria(t):this._dataService.getAllSpaces(),this.showSpinner=!1}defineCardFooterBackgroundColor(t){return null===t||0===t.length?"#363d47":t}navigateToSpaceTopics(t){this._router.navigateByUrl(`/topics/spaceId/${t.id}`,{state:{space:t}})}doSearch(t){this.search(t)}}return e.\u0275fac=function(t){return new(t||e)(z(an),z(gc))},e.\u0275cmp=_t({type:e,selectors:[["app-spaces-page"]],decls:5,vars:4,consts:[["title","Spaces",3,"showSearch","searchButtonClick"],[3,"show"],[1,"container"],["text","No spaces found",4,"ngIf"],["class","row",4,"ngIf"],["text","No spaces found"],[1,"row"],["class","col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-4","mb-4"],[1,"card","lift","lift-sm","h-100","card-anchor",2,"cursor","pointer","text-align","center"],[1,"card-body","cursor-pointer",3,"click"],[1,"card-title","mb-2"],["class","card-text mb-1",4,"ngIf"],[1,"card-footer","d-flex","justify-content-end"],[1,"card-text","mb-1"]],template:function(t,r){1&t&&(I(0,"app-page-header",0),de("searchButtonClick",function(c){return r.doSearch(c)}),P(),Fe(1,"app-spinner",1),I(2,"div",2),ee(3,jie,1,0,"app-alert",3),ee(4,$ie,2,1,"div",4),P()),2&t&&(J("showSearch",!0),K(1),J("show",r.showSpinner),K(2),J("ngIf",r.spaceList.length<1),K(1),J("ngIf",r.spaceList.length>0))},directives:[Rl,rm,ji,om,Do],styles:[""]}),e})();class qie{constructor(n,t){this.username=n,this.password=t,this.createDate=new Date}}let BA=(()=>{class e{constructor(){this.username="josedalri",this.password="123123123";let t=JSON.parse(localStorage.getItem("loggedUser"));null!=t&&new Date(t.createDate).getDate()<(new Date).getDate()&&localStorage.clear()}logIn(t,r){return t===this.username&&r===this.password&&(this.loggedInUser=new qie(t,r),localStorage.setItem("loggedUser",JSON.stringify(this.loggedInUser)),!0)}logOut(){this.loggedInUser=null}isLoggedIn(){let t=JSON.parse(localStorage.getItem("loggedUser"));return null!=t&&t.username===this.username&&t.password===this.password||null!=this.loggedInUser}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),jA=(()=>{class e{constructor(t,r){this._router=t,this._authService=r}canActivateChild(t,r){return this.canActivate(t,r)}canActivate(t,r){return this.checkLogin(r.url)}checkLogin(t){return!!this._authService.isLoggedIn()||this._router.parseUrl("/login")}}return e.\u0275fac=function(t){return new(t||e)(oe(an),oe(BA))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Kie(e,n){1&e&&(I(0,"div"),ce(1," Username is required. "),P())}function Jie(e,n){if(1&e&&(I(0,"div",16),ee(1,Kie,2,0,"div",17),P()),2&e){const t=he();K(1),J("ngIf",null==t.username.errors?null:t.username.errors.required)}}function Zie(e,n){1&e&&(I(0,"div"),ce(1," Password is required. "),P())}function Yie(e,n){if(1&e&&(I(0,"div",16),ee(1,Zie,2,0,"div",17),P()),2&e){const t=he();K(1),J("ngIf",null==t.password.errors?null:t.password.errors.required)}}function Qie(e,n){1&e&&(I(0,"div",16),ce(1," Wrong credentials "),P())}let Xie=(()=>{class e{constructor(t,r,s){this._authService=t,this._router=r,this._teste=s,this.submitted=!1,this.loading=!1,this.loginFailed=!1}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}ngOnInit(){this.loginForm=new ac({username:new Si("",[ms.required]),password:new Si("",[ms.required])})}onSubmit(){this._authService.logIn(this.username.value,this.password.value)?this._router.navigateByUrl("/spaces"):this.loginFailed=!0}}return e.\u0275fac=function(t){return new(t||e)(z(BA),z(an),z(gc))},e.\u0275cmp=_t({type:e,selectors:[["app-login-page"]],decls:23,vars:5,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-5"],[1,"card","shadow-lg","border-0","rounded-lg","mt-5"],[1,"card-header","justify-content-center"],[1,"font-weight-light","my-4"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username",1,"small","mb-1"],["id","username","type","text","formControlName","username",1,"form-control"],["class","error",4,"ngIf"],["for","password",1,"small","mb-1"],["id","password","type","password","formControlName","password",1,"form-control"],[1,"form-group","d-flex","align-items-center","justify-content-between","mt-4","mb-0"],[1,"btn","btn-primary",3,"disabled"],[1,"error"],[4,"ngIf"]],template:function(t,r){1&t&&(I(0,"div",0),I(1,"div",1),I(2,"div",2),I(3,"div",3),I(4,"div",4),I(5,"h3",5),ce(6,"Login"),P(),P(),I(7,"div",6),I(8,"form",7),de("ngSubmit",function(){return r.onSubmit()}),I(9,"div",8),I(10,"label",9),ce(11,"User"),P(),Fe(12,"input",10),ee(13,Jie,2,1,"div",11),P(),I(14,"div",8),I(15,"label",12),ce(16,"Password"),P(),Fe(17,"input",13),ee(18,Yie,2,1,"div",11),P(),I(19,"div",14),I(20,"button",15),ce(21,"Login"),P(),ee(22,Qie,2,0,"div",11),P(),P(),P(),P(),P(),P(),P()),2&t&&(K(8),J("formGroup",r.loginForm),K(5),J("ngIf",r.username.invalid&&(r.username.dirty||r.username.touched)),K(5),J("ngIf",r.password.invalid&&(r.password.dirty||r.password.touched)),K(2),J("disabled",r.loading),K(2),J("ngIf",r.loginFailed))},directives:[r3,Q6,cc,xa,Ml,Sl,ji],styles:[".error[_ngcontent-%COMP%]{color:red;margin-top:5px;margin-left:10px}"]}),e})();function ere(e,n){1&e&&Fe(0,"app-alert",8)}function tre(e,n){if(1&e){const t=yn();I(0,"div",10),I(1,"div",11),I(2,"div",12),de("click",function(){const c=Ge(t).$implicit;return he(2).goToKnowledgePage(c)}),I(3,"span",13),ce(4),P(),I(5,"small",14),ce(6),P(),P(),P(),P()}if(2&e){const t=n.$implicit;K(4),wo(t.name),K(2),wo(t.description)}}function nre(e,n){if(1&e&&(I(0,"div"),ee(1,tre,7,2,"div",9),P()),2&e){const t=he();K(1),J("ngForOf",t.topicList)}}let ire=(()=>{class e{constructor(t,r){this._router=t,this._dataService=r,this.iconPlus=Jg,this.iconChevronDown=zk,this.iconMenu=Kg,this.iconAngleDoubleLeft=Sk,this.showSpinner=!0,this.topicList=[],this.spaceId=null}ngOnInit(){void 0===history.state.space?this._router.navigateByUrl("/spaces"):(this.space=history.state.space,this.search(""))}search(t){this.showSpinner=!0,this.topicList=null!=t?this._dataService.getAllTopicsWithCriteria(this.space.id,t):this._dataService.getAllTopicsFromSpace(this.space.id),this.showSpinner=!1}goToKnowledgePage(t){this.showSpinner=!0,this._router.navigateByUrl(`knowledges/topicId/${t.id}`,{state:{topic:t,space:this.space}})}goBack(){this._router.navigateByUrl("/spaces")}toggleCollapsiblePanel(t){""===t.description||null===t.description||(t.isCollapsed=!t.isCollapsed)}doSearch(t){this.search(t)}}return e.\u0275fac=function(t){return new(t||e)(z(an),z(gc))},e.\u0275cmp=_t({type:e,selectors:[["app-topics-page"]],decls:9,vars:5,consts:[["title","Topics for  space",3,"showSearch","searchButtonClick"],[3,"show"],[1,"container"],[1,"btn","btn-outline-info","shadow-sm","mr-2","my-1",3,"click"],[2,"margin-right","10px",3,"icon"],[1,"mt-2","mb-4"],["text","No topics for this space",4,"ngIf"],[4,"ngIf"],["text","No topics for this space"],["class","topic-container",4,"ngFor","ngForOf"],[1,"topic-container"],[1,"input-group","topic-card"],[1,"form-control","topic-card-text",3,"click"],[2,"font-weight","bold"],[2,"margin-left","30px"]],template:function(t,r){1&t&&(I(0,"app-page-header",0),de("searchButtonClick",function(c){return r.doSearch(c)}),P(),Fe(1,"app-spinner",1),I(2,"div",2),I(3,"button",3),de("click",function(){return r.goBack()}),Fe(4,"fa-icon",4),ce(5," Go back "),P(),Fe(6,"hr",5),ee(7,ere,1,0,"app-alert",6),ee(8,nre,2,1,"div",7),P()),2&t&&(J("showSearch",!0),K(1),J("show",r.showSpinner),K(3),J("icon",r.iconAngleDoubleLeft),K(3),J("ngIf",r.topicList.length<1),K(1),J("ngIf",r.topicList.length>0))},directives:[Rl,rm,FA,ji,om,Do],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.topic-container[_ngcontent-%COMP%]{margin-bottom:25px}.topic-card[_ngcontent-%COMP%]{box-shadow:0 .15rem 1.75rem #21283226;padding:.5rem;background-color:#fff;border-radius:.35rem;margin-bottom:3px}.topic-card[_ngcontent-%COMP%]:hover{box-shadow:0 .15rem 1.75rem #2128327f}.topic-card-text[_ngcontent-%COMP%]{border:none;padding-left:15px;font-size:1rem;font-weight:500;line-height:1.2;color:#363d47;cursor:pointer}.topic-aux-btn[_ngcontent-%COMP%]{color:#0061f2;border:none;margin:0 2.5px;border-radius:30px!important;padding:.7rem .9rem!important}.topic-aux-btn[_ngcontent-%COMP%]:hover{color:#0061f2;background-color:#0061f226;border-radius:30px!important}.collapsable-container[_ngcontent-%COMP%]{width:98%;margin-left:1%}.collapsable-card-body[_ngcontent-%COMP%]{padding:.7rem}.disabled[_ngcontent-%COMP%]{color:#797979}.disabled[_ngcontent-%COMP%]:hover{background-color:unset;color:#797979}"]}),e})();var GA=X(79);function C5(e,n,t,r){return new(t||(t=Promise))(function(c,h){function p(k){try{v(r.next(k))}catch(y){h(y)}}function m(k){try{v(r.throw(k))}catch(y){h(y)}}function v(k){k.done?c(k.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(k.value).then(p,m)}v((r=r.apply(e,n||[])).next())})}const ws=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)},qA="object"==typeof global&&global&&global.Object===Object&&global;var cre="object"==typeof self&&self&&self.Object===Object&&self;const Jr=qA||cre||Function("return this")(),cm=function(){return Jr.Date.now()};var ure=/\s/;var pre=/^\s+/;const mre=function(e){return e&&e.slice(0,function(e){for(var n=e.length;n--&&ure.test(e.charAt(n)););return n}(e)+1).replace(pre,"")},Vl=Jr.Symbol;var KA=Object.prototype,vre=KA.hasOwnProperty,_re=KA.toString,C3=Vl?Vl.toStringTag:void 0;var yre=Object.prototype.toString;var JA=Vl?Vl.toStringTag:void 0;const mc=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":JA&&JA in Object(e)?function(e){var n=vre.call(e,C3),t=e[C3];try{e[C3]=void 0;var r=!0}catch(c){}var s=_re.call(e);return r&&(n?e[C3]=t:delete e[C3]),s}(e):function(e){return yre.call(e)}(e)},Ia=function(e){return null!=e&&"object"==typeof e};var Pre=/^[-+]0x[0-9a-f]+$/i,zre=/^0b[01]+$/i,Ore=/^0o[0-7]+$/i,Lre=parseInt;const YA=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||Ia(e)&&"[object Symbol]"==mc(e)}(e))return NaN;if(ws(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=ws(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=mre(e);var t=zre.test(e);return t||Ore.test(e)?Lre(e.slice(2),t?2:8):Pre.test(e)?NaN:+e};var Fre=Math.max,Hre=Math.min;const $re=function(e,n,t){var r=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ws(t)&&(r="leading"in t?!!t.leading:r,s="trailing"in t?!!t.trailing:s),function(e,n,t){var r,s,c,h,p,m,v=0,k=!1,y=!1,A=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function M(Pe){var cn=r,En=s;return r=s=void 0,v=Pe,h=e.apply(En,cn)}function N(Pe){return v=Pe,p=setTimeout(j,n),k?M(Pe):h}function B(Pe){var cn=Pe-m;return void 0===m||cn>=n||cn<0||y&&Pe-v>=c}function j(){var Pe=cm();if(B(Pe))return F(Pe);p=setTimeout(j,function(Pe){var za=n-(Pe-m);return y?Hre(za,c-(Pe-v)):za}(Pe))}function F(Pe){return p=void 0,A&&r?M(Pe):(r=s=void 0,h)}function Ae(){var Pe=cm(),cn=B(Pe);if(r=arguments,s=this,m=Pe,cn){if(void 0===p)return N(m);if(y)return clearTimeout(p),p=setTimeout(j,n),M(m)}return void 0===p&&(p=setTimeout(j,n)),h}return n=YA(n)||0,ws(t)&&(k=!!t.leading,c=(y="maxWait"in t)?Fre(YA(t.maxWait)||0,n):c,A="trailing"in t?!!t.trailing:A),Ae.cancel=function(){void 0!==p&&clearTimeout(p),v=0,r=m=s=p=void 0},Ae.flush=function(){return void 0===p?h:F(cm())},Ae}(e,n,{leading:r,maxWait:n,trailing:s})},QA=function(e,n){return e===n||e!=e&&n!=n},w5=function(e,n){for(var t=e.length;t--;)if(QA(e[t][0],n))return t;return-1};var Yre=Array.prototype.splice;function Fl(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Fl.prototype.clear=function(){this.__data__=[],this.size=0},Fl.prototype.delete=function(e){var n=this.__data__,t=w5(n,e);return!(t<0||(t==n.length-1?n.pop():Yre.call(n,t,1),--this.size,0))},Fl.prototype.get=function(e){var n=this.__data__,t=w5(n,e);return t<0?void 0:n[t][1]},Fl.prototype.has=function(e){return w5(this.__data__,e)>-1},Fl.prototype.set=function(e,n){var t=this.__data__,r=w5(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this};const y5=Fl,XA=function(e){if(!ws(e))return!1;var n=mc(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},lm=Jr["__core-js_shared__"];var eD=function(){var e=/[^.]+$/.exec(lm&&lm.keys&&lm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var yoe=Function.prototype.toString;const bc=function(e){if(null!=e){try{return yoe.call(e)}catch(n){}try{return e+""}catch(n){}}return""};var xoe=/^\[object .+?Constructor\]$/,Toe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Poe=function(e){return!(!ws(e)||function(e){return!!eD&&eD in e}(e))&&(XA(e)?Toe:xoe).test(bc(e))},vc=function(e,n){var t=function(e,n){return null==e?void 0:e[n]}(e,n);return Poe(t)?t:void 0},k3=vc(Jr,"Map"),w3=vc(Object,"create");var $oe=Object.prototype.hasOwnProperty;var Joe=Object.prototype.hasOwnProperty;function Hl(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Hl.prototype.clear=function(){this.__data__=w3?w3(null):{},this.size=0},Hl.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},Hl.prototype.get=function(e){var n=this.__data__;if(w3){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return $oe.call(n,e)?n[e]:void 0},Hl.prototype.has=function(e){var n=this.__data__;return w3?void 0!==n[e]:Joe.call(n,e)},Hl.prototype.set=function(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=w3&&void 0===n?"__lodash_hash_undefined__":n,this};const tD=Hl,A5=function(e,n){var t=e.__data__;return function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?t["string"==typeof n?"string":"hash"]:t.map};function Bl(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Bl.prototype.clear=function(){this.size=0,this.__data__={hash:new tD,map:new(k3||y5),string:new tD}},Bl.prototype.delete=function(e){var n=A5(this,e).delete(e);return this.size-=n?1:0,n},Bl.prototype.get=function(e){return A5(this,e).get(e)},Bl.prototype.has=function(e){return A5(this,e).has(e)},Bl.prototype.set=function(e,n){var t=A5(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this};const pse=Bl;function jl(e){var n=this.__data__=new y5(e);this.size=n.size}jl.prototype.clear=function(){this.__data__=new y5,this.size=0},jl.prototype.delete=function(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t},jl.prototype.get=function(e){return this.__data__.get(e)},jl.prototype.has=function(e){return this.__data__.has(e)},jl.prototype.set=function(e,n){var t=this.__data__;if(t instanceof y5){var r=t.__data__;if(!k3||r.length<199)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new pse(r)}return t.set(e,n),this.size=t.size,this};const vse=jl;var kse=function(){try{var e=vc(Object,"defineProperty");return e({},"",{}),e}catch(n){}}();const nD=kse,iD=function(e,n,t){"__proto__"==n&&nD?nD(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t};var Ase=Object.prototype.hasOwnProperty;const rD=function(e,n,t){var r=e[n];(!Ase.call(e,n)||!QA(r,t)||void 0===t&&!(n in e))&&iD(e,n,t)},D5=function(e,n,t,r){var s=!t;t||(t={});for(var c=-1,h=n.length;++c<h;){var p=n[c],m=r?r(t[p],e[p],p,t,e):void 0;void 0===m&&(m=e[p]),s?iD(t,p,m):rD(t,p,m)}return t},oD=function(e){return Ia(e)&&"[object Arguments]"==mc(e)};var sD=Object.prototype,Tse=sD.hasOwnProperty,Ise=sD.propertyIsEnumerable,Pse=oD(function(){return arguments}())?oD:function(e){return Ia(e)&&Tse.call(e,"callee")&&!Ise.call(e,"callee")};const zse=Pse,dm=Array.isArray;var aD="object"==typeof exports&&exports&&!exports.nodeType&&exports,cD=aD&&"object"==typeof module&&module&&!module.nodeType&&module,lD=cD&&cD.exports===aD?Jr.Buffer:void 0;const dD=(lD?lD.isBuffer:void 0)||function(){return!1};var jse=/^(?:0|[1-9]\d*)$/;const Use=function(e,n){var t=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==t||"symbol"!=t&&jse.test(e))&&e>-1&&e%1==0&&e<n},uD=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Gt={};Gt["[object Float32Array]"]=Gt["[object Float64Array]"]=Gt["[object Int8Array]"]=Gt["[object Int16Array]"]=Gt["[object Int32Array]"]=Gt["[object Uint8Array]"]=Gt["[object Uint8ClampedArray]"]=Gt["[object Uint16Array]"]=Gt["[object Uint32Array]"]=!0,Gt["[object Arguments]"]=Gt["[object Array]"]=Gt["[object ArrayBuffer]"]=Gt["[object Boolean]"]=Gt["[object DataView]"]=Gt["[object Date]"]=Gt["[object Error]"]=Gt["[object Function]"]=Gt["[object Map]"]=Gt["[object Number]"]=Gt["[object Object]"]=Gt["[object RegExp]"]=Gt["[object Set]"]=Gt["[object String]"]=Gt["[object WeakMap]"]=!1;const um=function(e){return function(n){return e(n)}};var hD="object"==typeof exports&&exports&&!exports.nodeType&&exports,y3=hD&&"object"==typeof module&&module&&!module.nodeType&&module,hm=y3&&y3.exports===hD&&qA.process;const Gl=function(){try{return y3&&y3.require&&y3.require("util").types||hm&&hm.binding&&hm.binding("util")}catch(n){}}();var fD=Gl&&Gl.isTypedArray;const yae=fD?um(fD):function(e){return Ia(e)&&uD(e.length)&&!!Gt[mc(e)]};var Dae=Object.prototype.hasOwnProperty;const pD=function(e,n){var t=dm(e),r=!t&&zse(e),s=!t&&!r&&dD(e),c=!t&&!r&&!s&&yae(e),h=t||r||s||c,p=h?function(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}(e.length,String):[],m=p.length;for(var v in e)(n||Dae.call(e,v))&&(!h||!("length"==v||s&&("offset"==v||"parent"==v)||c&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||Use(v,m)))&&p.push(v);return p};var Mae=Object.prototype;const fm=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||Mae)},gD=function(e,n){return function(t){return e(n(t))}},Tae=gD(Object.keys,Object);var Pae=Object.prototype.hasOwnProperty;const mD=function(e){return null!=e&&uD(e.length)&&!XA(e)},pm=function(e){return mD(e)?pD(e):function(e){if(!fm(e))return Tae(e);var n=[];for(var t in Object(e))Pae.call(e,t)&&"constructor"!=t&&n.push(t);return n}(e)};var Gae=Object.prototype.hasOwnProperty;const $ae=function(e){if(!ws(e))return function(e){var n=[];if(null!=e)for(var t in Object(e))n.push(t);return n}(e);var n=fm(e),t=[];for(var r in e)"constructor"==r&&(n||!Gae.call(e,r))||t.push(r);return t},gm=function(e){return mD(e)?pD(e,!0):$ae(e)};var bD="object"==typeof exports&&exports&&!exports.nodeType&&exports,vD=bD&&"object"==typeof module&&module&&!module.nodeType&&module,_D=vD&&vD.exports===bD?Jr.Buffer:void 0,CD=_D?_D.allocUnsafe:void 0;const kD=function(){return[]};var r1e=Object.prototype.propertyIsEnumerable,wD=Object.getOwnPropertySymbols,o1e=wD?function(e){return null==e?[]:(e=Object(e),function(e,n){for(var t=-1,r=null==e?0:e.length,s=0,c=[];++t<r;){var h=e[t];n(h,t,e)&&(c[s++]=h)}return c}(wD(e),function(n){return r1e.call(e,n)}))}:kD;const mm=o1e,yD=function(e,n){for(var t=-1,r=n.length,s=e.length;++t<r;)e[s+t]=n[t];return e},bm=gD(Object.getPrototypeOf,Object);var u1e=Object.getOwnPropertySymbols?function(e){for(var n=[];e;)yD(n,mm(e)),e=bm(e);return n}:kD;const AD=u1e,DD=function(e,n,t){var r=n(e);return dm(e)?r:yD(r,t(e))},m1e=function(e){return DD(e,pm,mm)},v1e=function(e){return DD(e,gm,AD)},vm=vc(Jr,"DataView"),_m=vc(Jr,"Promise"),Cm=vc(Jr,"Set"),km=vc(Jr,"WeakMap");var xD="[object Map]",MD="[object Promise]",ED="[object Set]",SD="[object WeakMap]",ND="[object DataView]",A1e=bc(vm),D1e=bc(k3),x1e=bc(_m),M1e=bc(Cm),E1e=bc(km),_c=mc;(vm&&_c(new vm(new ArrayBuffer(1)))!=ND||k3&&_c(new k3)!=xD||_m&&_c(_m.resolve())!=MD||Cm&&_c(new Cm)!=ED||km&&_c(new km)!=SD)&&(_c=function(e){var n=mc(e),t="[object Object]"==n?e.constructor:void 0,r=t?bc(t):"";if(r)switch(r){case A1e:return ND;case D1e:return xD;case x1e:return MD;case M1e:return ED;case E1e:return SD}return n});const wm=_c;var N1e=Object.prototype.hasOwnProperty;const TD=Jr.Uint8Array,ym=function(e){var n=new e.constructor(e.byteLength);return new TD(n).set(new TD(e)),n};var R1e=/\w*$/;var ID=Vl?Vl.prototype:void 0,PD=ID?ID.valueOf:void 0;const dce=function(e,n,t){var r=e.constructor;switch(n){case"[object ArrayBuffer]":return ym(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,n){var t=n?ym(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,n){var t=n?ym(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}(e,t);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var n=new e.constructor(e.source,R1e.exec(e));return n.lastIndex=e.lastIndex,n}(e);case"[object Symbol]":return function(e){return PD?Object(PD.call(e)):{}}(e)}};var zD=Object.create,uce=function(){function e(){}return function(n){if(!ws(n))return{};if(zD)return zD(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();const hce=uce;var OD=Gl&&Gl.isMap;const _ce=OD?um(OD):function(e){return Ia(e)&&"[object Map]"==wm(e)};var LD=Gl&&Gl.isSet;const Ace=LD?um(LD):function(e){return Ia(e)&&"[object Set]"==wm(e)};var RD="[object Arguments]",VD="[object Function]",FD="[object Object]",Rt={};Rt[RD]=Rt["[object Array]"]=Rt["[object ArrayBuffer]"]=Rt["[object DataView]"]=Rt["[object Boolean]"]=Rt["[object Date]"]=Rt["[object Float32Array]"]=Rt["[object Float64Array]"]=Rt["[object Int8Array]"]=Rt["[object Int16Array]"]=Rt["[object Int32Array]"]=Rt["[object Map]"]=Rt["[object Number]"]=Rt[FD]=Rt["[object RegExp]"]=Rt["[object Set]"]=Rt["[object String]"]=Rt["[object Symbol]"]=Rt["[object Uint8Array]"]=Rt["[object Uint8ClampedArray]"]=Rt["[object Uint16Array]"]=Rt["[object Uint32Array]"]=!0,Rt["[object Error]"]=Rt[VD]=Rt["[object WeakMap]"]=!1;const Yce=function x5(e,n,t,r,s,c){var h,p=1&n,m=2&n,v=4&n;if(t&&(h=s?t(e,r,s,c):t(e)),void 0!==h)return h;if(!ws(e))return e;var k=dm(e);if(k){if(h=function(e){var n=e.length,t=new e.constructor(n);return n&&"string"==typeof e[0]&&N1e.call(e,"index")&&(t.index=e.index,t.input=e.input),t}(e),!p)return function(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}(e,h)}else{var y=wm(e),A=y==VD||"[object GeneratorFunction]"==y;if(dD(e))return function(e,n){if(n)return e.slice();var t=e.length,r=CD?CD(t):new e.constructor(t);return e.copy(r),r}(e,p);if(y==FD||y==RD||A&&!s){if(h=m||A?{}:function(e){return"function"!=typeof e.constructor||fm(e)?{}:hce(bm(e))}(e),!p)return m?function(e,n){return D5(e,AD(e),n)}(e,function(e,n){return e&&D5(n,gm(n),e)}(h,e)):function(e,n){return D5(e,mm(e),n)}(e,function(e,n){return e&&D5(n,pm(n),e)}(h,e))}else{if(!Rt[y])return s?e:{};h=dce(e,y,p)}}c||(c=new vse);var M=c.get(e);if(M)return M;c.set(e,h),Ace(e)?e.forEach(function(B){h.add(x5(B,n,t,B,e,c))}):_ce(e)&&e.forEach(function(B,j){h.set(j,x5(B,n,t,j,e,c))});var O=k?void 0:(v?m?v1e:m1e:m?gm:pm)(e);return function(e,n){for(var t=-1,r=null==e?0:e.length;++t<r&&!1!==n(e[t],t,e););}(O||e,function(B,j){O&&(B=e[j=B]),rD(h,j,x5(B,n,t,j,e,c))}),h};var HD=Function.prototype.toString,o2e=Object.prototype.hasOwnProperty,s2e=HD.call(Object);const d2e=function(e){return Ia(e)&&1===e.nodeType&&!function(e){if(!Ia(e)||"[object Object]"!=mc(e))return!1;var n=bm(e);if(null===n)return!0;var t=o2e.call(n,"constructor")&&n.constructor;return"function"==typeof t&&t instanceof t&&HD.call(t)==s2e}(e)};function BD(e,n=new Set){const t=[e],r=new Set;for(;t.length>0;){const s=t.shift();if(!(r.has(s)||u2e(s)||n.has(s)))if(r.add(s),s[Symbol.iterator])try{for(const c of s)t.push(c)}catch(c){}else for(const c in s)"defaultValue"!==c&&t.push(s[c])}return r}function u2e(e){const n=Object.prototype.toString.call(e),t=typeof e;return"number"===t||"boolean"===t||"string"===t||"symbol"===t||"function"===t||"[object Date]"===n||"[object RegExp]"===n||"[object Module]"===n||null==e||e instanceof EventTarget||e instanceof Event}class g2e extends class{constructor(n){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof n.crashNumberLimit?n.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof n.minimumNonErrorTimePeriod?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const r=t.error||t.reason;r instanceof Error&&this._handleError(r,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,t){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(t)}off(n,t){this._listeners[n]=this._listeners[n].filter(r=>r!==t)}_fire(n,...t){const r=this._listeners[n]||[];for(const s of r)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,t){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:t.filename,lineno:t.lineno,colno:t.colno,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&null!=n.context&&"ready"===this.state&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(n,t={}){super(t),this._editor=null,this._throttledSave=$re(this._save.bind(this),"number"==typeof t.saveInterval?t.saveInterval:5e3),this._creator=(r,s)=>n.create(r,s),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const n=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,n,n.context)}}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,t=this._config,r){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=n,this._config=this._cloneEditorConfiguration(t)||{},this._config.context=r,this._creator(n,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const n=this._editor;return this._editor=null,this._destructor(n)})}_save(){const n=this._editor.model.document.version;if(n!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=n}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n={};for(const t of this._editor.model.document.getRootNames())n[t]=this._editor.data.get({rootName:t});return n}_isErrorComingFromThisItem(n){return function(e,n,t=new Set){if(e===n&&function(e){return"object"==typeof e&&null!==e}(e))return!0;const r=BD(e,t),s=BD(n,t);for(const c of r)if(s.has(c))return!0;return!1}(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return function(e,n){return Yce(e,5,n="function"==typeof n?n:void 0)}(n,(t,r)=>{if(d2e(t)||"context"===r)return t})}}function m2e(e,n){}const si=new Array(256).fill(0).map((e,n)=>("0"+n.toString(16)).slice(-2));let jD=(()=>{class e{constructor(t,r){this.config={},this.data="",this.tagName="div",this.ready=new Ce,this.change=new Ce,this.blur=new Ce,this.focus=new Ce,this.error=new Ce,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+si[e>>0&255]+si[e>>8&255]+si[e>>16&255]+si[e>>24&255]+si[n>>0&255]+si[n>>8&255]+si[n>>16&255]+si[n>>24&255]+si[t>>0&255]+si[t>>8&255]+si[t>>16&255]+si[t>>24&255]+si[r>>0&255]+si[r>>8&255]+si[r>>16&255]+si[r>>24&255]}(),this.ngZone=r,this.elementRef=t}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return C5(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.ready.pipe(ec()).subscribe(r=>{r.setData(this.data)}))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(this.editorInstance.isReadOnly=t),this.initiallyDisabled=t}attachToWatchdog(){const t=(p,m)=>C5(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>C5(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(p);const v=yield this.editor.create(p,m);return this.initiallyDisabled&&(v.isReadOnly=this.initiallyDisabled),this.ngZone.run(()=>{this.ready.emit(v)}),this.setUpEditorEvents(v),v}))}),r=p=>C5(this,void 0,void 0,function*(){yield p.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),s=()=>{this.ngZone.run(()=>{this.error.emit()})},c=document.createElement(this.tagName),h=this.getConfig();if(this.editorElement=c,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:r,sourceElementOrData:c,config:h}),this.watchdog.on("itemError",(p,{itemId:m})=>{m===this.id&&s()});else{const p=new g2e(this.editor);p.setCreator(t),p.setDestructor(r),p.on("error",s),this.editorWatchdog=p,this.editorWatchdog.create(c,h)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const t=Object.assign({},this.config),r=this.config.initialData||this.data;return r&&(t.initialData=r),t}setUpEditorEvents(t){const s=t.editing.view.document;t.model.document.on("change:data",c=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const h=t.getData();this.cvaOnChange(h)}this.change.emit({event:c,editor:t})})}),s.on("focus",c=>{this.ngZone.run(()=>{this.focus.emit({event:c,editor:t})})}),s.on("blur",c=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:c,editor:t})})})}}return e.\u0275fac=function(t){return new(t||e)(z(yt),z(Mt))},e.\u0275cmp=_t({type:e,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[xt([{provide:tr,useExisting:nt(()=>e),multi:!0}])],decls:1,vars:0,template:function(t,r){1&t&&ee(0,m2e,0,0,"ng-template")},encapsulation:2}),e})(),_2e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[_9,Gi]]}),e})(),C2e=(()=>{class e{constructor(t){this._document=t,this.ckEditor=GA,this.disabled=!0}ngAfterViewChecked(){let t=this._document.querySelector(".ck-editor__top"),r=this._document.querySelectorAll(".ck-content");null!==t&&t.remove(),null!==r&&r.length>0&&r.forEach(s=>s.style.border="none")}}return e.\u0275fac=function(t){return new(t||e)(z(sn))},e.\u0275cmp=_t({type:e,selectors:[["app-knowledge-content-display"]],inputs:{editorData:"editorData"},decls:1,vars:3,consts:[[3,"editor","data","disabled"]],template:function(t,r){1&t&&Fe(0,"ckeditor",0),2&t&&J("editor",r.ckEditor)("data",r.editorData)("disabled",r.disabled)},directives:[jD],styles:[""]}),e})();function k2e(e,n){1&e&&Fe(0,"app-alert",5)}function w2e(e,n){1&e&&Fe(0,"hr")}function y2e(e,n){if(1&e){const t=yn();I(0,"div",19),I(1,"div",20),de("click",function(){const c=Ge(t).$implicit;return c.isCollapsed=!c.isCollapsed}),I(2,"span"),ce(3),P(),P(),I(4,"div",21,22),de("ngbCollapseChange",function(s){return!(Ge(t).$implicit.isCollapsed=s)}),I(6,"div",15),I(7,"div",23),Fe(8,"app-knowledge-content-display",24),P(),P(),P(),ee(9,w2e,1,0,"hr",25),P()}if(2&e){const t=n.$implicit,r=n.index,s=he(2);K(1),va("id","knowledge_",t.id,""),lt("aria-expanded",!t.isCollapsed),K(2),ii(" ",t.title," "),K(1),J("ngbCollapse",!t.isCollapsed),K(4),dl("editorData",t.content),K(1),J("ngIf",s.knowledgeList.length!==r+1)}}function A2e(e,n){if(1&e){const t=yn();I(0,"li",26),I(1,"a",27),de("click",function(s){const h=Ge(t).$implicit;return he(2).scrollToView(s,h.id)}),ce(2),P(),P()}if(2&e){const t=n.$implicit;K(2),wo(t.shortTitle)}}function D2e(e,n){if(1&e){const t=yn();I(0,"div",6),I(1,"div",7),ee(2,y2e,10,6,"div",8),P(),I(3,"div",9),I(4,"div",10),I(5,"div",11),I(6,"div",12),I(7,"span",13),de("click",function(){return Ge(t),he().expandAll()}),ce(8," Expand all "),P(),P(),I(9,"div",12),I(10,"span",13),de("click",function(){return Ge(t),he().collapseAll()}),ce(11," Collapse all "),P(),P(),I(12,"div",12),I(13,"span",14),de("click",function(){return Ge(t),he().goToTop()}),ce(14," Go to top "),P(),P(),P(),I(15,"div",15),I(16,"div",16),I(17,"ul",17),ee(18,A2e,3,1,"li",18),P(),P(),P(),P(),P(),P()}if(2&e){const t=he();K(2),J("ngForOf",t.knowledgeList),K(16),J("ngForOf",t.knowledgeList)}}let x2e=(()=>{class e{constructor(t,r,s){this._router=t,this._activatedRoute=r,this._dataService=s,this.title="",this.showSpinner=!1,this.knowledgeList=[]}ngOnInit(){void 0===history.state.topic?this._router.navigateByUrl("/spaces"):(this.topicId=parseInt(this._activatedRoute.snapshot.paramMap.get("topicId")),void 0!==history.state.topic&&(this.topic=history.state.topic,this.space=history.state.space),this.title=`Knowledges for topic ${this.topic.name}`,this.getAllTopicsKnowledges())}getAllTopicsKnowledges(){this.showSpinner=!0,this.knowledgeList=this._dataService.getAllKnowledgeFromTopic(this.topicId),this.showSpinner=!1}scrollToView(t,r){t.preventDefault();const h=document.getElementById("knowledge_"+r).getBoundingClientRect().top+window.pageYOffset+-90;window.scrollTo({top:h,behavior:"smooth"})}expandAll(){this.knowledgeList.forEach(t=>t.isCollapsed=!0)}collapseAll(){this.knowledgeList.forEach(t=>t.isCollapsed=!1)}goToTop(){window.scrollTo({top:0,behavior:"smooth"})}goBack(){this._router.navigateByUrl(`/topics/spaceId/${this.space.id}`,{state:{space:this.space}})}}return e.\u0275fac=function(t){return new(t||e)(z(an),z(ic),z(gc))},e.\u0275cmp=_t({type:e,selectors:[["app-knowledge-page"]],decls:5,vars:5,consts:[[3,"showSmallHeader","title","smallHeaderGoBackButtonClick"],[3,"show"],[1,"container"],["text","No knowledges for this topic",4,"ngIf"],["class","row",4,"ngIf"],["text","No knowledges for this topic"],[1,"row"],[1,"col-lg-9"],["class","knowledge-container",4,"ngFor","ngForOf"],[1,"col-lg-3"],[1,"nav-sticky"],[1,"row","justify-content-center"],[1,"col-sm-12","col-md-4","col-lg-4","mb-3"],[1,"btn","btn-outline-primary","btn-sm","mr-2",3,"click"],[1,"btn","btn-outline-secondary","btn-sm","mr-2",3,"click"],[1,"card"],[1,"card-body"],["id","stickyNav",1,"nav","flex-column"],["class","nav-item",4,"ngFor","ngForOf"],[1,"knowledge-container"],[1,"knowledge-container-header",3,"id","click"],[1,"collapsable-container","knowledge-container-body",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[1,"card-body","collapsable-card-body"],[3,"editorData"],[4,"ngIf"],[1,"nav-item"],["href","#",1,"nav-link",3,"click"]],template:function(t,r){1&t&&(I(0,"app-page-header",0),de("smallHeaderGoBackButtonClick",function(){return r.goBack()}),P(),Fe(1,"app-spinner",1),I(2,"div",2),ee(3,k2e,1,0,"app-alert",3),ee(4,D2e,19,2,"div",4),P()),2&t&&(J("showSmallHeader",!0)("title",r.title),K(1),J("show",r.showSpinner),K(2),J("ngIf",r.knowledgeList.length<1),K(1),J("ngIf",r.knowledgeList.length>0))},directives:[Rl,rm,ji,om,Do,qee,C2e],styles:[".knowledge-container-header[_ngcontent-%COMP%]{color:#131313;border-radius:10px;padding:.5rem 1rem;background-color:#ececec;border:2px solid rgb(0 0 0 / 8%);font-weight:700;text-align:center;box-shadow:0 .1rem 1.2rem #21283240;z-index:1001;position:relative;cursor:pointer}.knowledge-container-body[_ngcontent-%COMP%]{width:97%;margin-left:1.5%;box-shadow:none;margin-top:-15px;z-index:1000;border:1px solid #ccc;border-radius:.35rem}div.container[_ngcontent-%COMP%]{margin-bottom:50px}"]}),e})();function M2e(e,n){1&e&&(I(0,"span"),ce(1,"Please provide a name."),P())}function E2e(e,n){if(1&e&&(I(0,"div",24),ee(1,M2e,2,0,"span",25),P()),2&e){const t=he();K(1),J("ngIf",null==t.title.errors?null:t.title.errors.required)}}function S2e(e,n){1&e&&(I(0,"span"),ce(1,"Please provide a short title."),P())}function N2e(e,n){if(1&e&&(I(0,"div",24),ee(1,S2e,2,0,"span",25),P()),2&e){const t=he();K(1),J("ngIf",null==t.shortTitle.errors?null:t.shortTitle.errors.required)}}function T2e(e,n){1&e&&(I(0,"span"),ce(1,"Please provide the content."),P())}function I2e(e,n){if(1&e&&(I(0,"div",24),ee(1,T2e,2,0,"span",25),P()),2&e){const t=he();K(1),J("ngIf",null==t.content.errors?null:t.content.errors.required)}}function P2e(e,n){if(1&e&&(I(0,"option",26),ce(1),P()),2&e){const t=n.$implicit;J("ngValue",t.id),K(1),wo(t.name)}}function z2e(e,n){1&e&&(I(0,"span"),ce(1,"Please choose the Topic."),P())}function O2e(e,n){if(1&e&&(I(0,"div",24),ee(1,z2e,2,0,"span",25),P()),2&e){const t=he();K(1),J("ngIf",null==t.topicId.errors?null:t.topicId.errors.required)}}function L2e(e,n){if(1&e&&(I(0,"div",27),I(1,"p"),ce(2),P(),P()),2&e){const t=he();K(2),C7(" new Knowledge(X, '",t.newKnowledge.title,"', '",t.newKnowledge.shortTitle,"', `",t.newKnowledge.content,"`, ",t.newKnowledge.topicId,"), ")}}let R2e=(()=>{class e{constructor(t,r,s){this._router=t,this._document=r,this._dataService=s,this.pageTitle="Create new Knowledge",this.ckEditor=GA}get title(){return this.knowledgeForm.get("title")}get shortTitle(){return this.knowledgeForm.get("shortTitle")}get content(){return this.knowledgeForm.get("content")}get topicId(){return this.knowledgeForm.get("topicId")}ngOnInit(){this.knowledgeForm=new ac({title:new Si("",[ms.required]),shortTitle:new Si("",[ms.required]),content:new Si("",[ms.required]),topicId:new Si("",[ms.required])}),this.topicsList=this._dataService.getAllTopics()}ngAfterViewChecked(){let t=this._document.querySelector(".ck-balloon-panel");null!==t&&(t.style.zIndex="2000")}onSubmit(){if(this.knowledgeForm.invalid&&""===this.content.value)return this.content.setErrors({required:!0}),void this.knowledgeForm.markAllAsTouched();this.newKnowledge=this.knowledgeForm.value}changedTopic(t){this.topicId.setValue(t.target.value,{onlySelf:!0})}cancel(){this._router.navigateByUrl("/spaces")}}return e.\u0275fac=function(t){return new(t||e)(z(an),z(sn),z(gc))},e.\u0275cmp=_t({type:e,selectors:[["app-create-knowledge-page"]],decls:38,vars:12,consts:[[3,"showSmallHeader","showGoBackButton","title"],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-12"],[1,"card","card-header-actions","mb-4"],[1,"card-header"],[1,"card-body",2,"min-height","500px"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-6","col-sm-12"],["for","title",1,"small","mb-1"],["id","title","type","text","placeholder","Enter the title","formControlName","title","required","",1,"form-control"],["class","invalid-input",4,"ngIf"],["for","shortTitle",1,"small","mb-1"],["id","shortTitle","type","text","placeholder","Enter the short title","formControlName","shortTitle",1,"form-control"],[1,"form-group","col-md-12","col-sm-12"],["formControlName","content","required","",3,"editor"],["for","topic"],["id","topic","formControlName","topicId",1,"form-control",2,"padding","0.6rem 1.125rem",3,"change"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",2,"margin-right","5px",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],["style","margin-top: 30px;",4,"ngIf"],[1,"invalid-input"],[4,"ngIf"],[3,"ngValue"],[2,"margin-top","30px"]],template:function(t,r){1&t&&(Fe(0,"app-page-header",0),I(1,"div",1),I(2,"div",2),I(3,"div",3),I(4,"div",4),I(5,"div",5),ce(6," New knowledge "),P(),I(7,"div",6),I(8,"form",7),de("ngSubmit",function(){return r.onSubmit()}),I(9,"div",8),I(10,"div",9),I(11,"label",10),ce(12,"Title"),P(),Fe(13,"input",11),ee(14,E2e,2,1,"div",12),P(),I(15,"div",9),I(16,"label",13),ce(17,"Short title"),P(),Fe(18,"input",14),ee(19,N2e,2,1,"div",12),P(),P(),I(20,"div",8),I(21,"div",15),Fe(22,"ckeditor",16),ee(23,I2e,2,1,"div",12),P(),P(),I(24,"div",8),I(25,"div",9),I(26,"label",17),ce(27,"Topic"),P(),I(28,"select",18),de("change",function(c){return r.changedTopic(c)}),I(29,"option",19),ce(30,"Choose a Topic"),P(),ee(31,P2e,2,2,"option",20),P(),ee(32,O2e,2,1,"div",12),P(),P(),I(33,"button",21),ce(34,"Save"),P(),I(35,"button",22),de("click",function(){return r.cancel()}),ce(36,"Cancel"),P(),P(),ee(37,L2e,3,4,"div",23),P(),P(),P(),P(),P()),2&t&&(J("showSmallHeader",!0)("showGoBackButton",!1)("title",r.pageTitle),K(8),J("formGroup",r.knowledgeForm),K(6),J("ngIf",r.title.invalid&&(r.title.dirty||r.title.touched)),K(5),J("ngIf",r.shortTitle.invalid&&(r.shortTitle.dirty||r.shortTitle.touched)),K(3),J("editor",r.ckEditor),K(1),J("ngIf",r.content.invalid&&(r.content.dirty||r.content.touched)),K(8),J("ngForOf",r.topicsList),K(1),J("ngIf",r.topicId.invalid&&(r.topicId.dirty||r.topicId.touched)),K(1),J("disabled",r.knowledgeForm.invalid),K(4),J("ngIf",null!=r.newKnowledge))},directives:[Rl,r3,Q6,cc,xa,Ml,Sl,Nl,ji,jD,o3,m9,v9,Do],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:300px}"]}),e})();function V2e(e,n){1&e&&(I(0,"span"),ce(1,"Please provide a name."),P())}function F2e(e,n){if(1&e&&(I(0,"div",22),ee(1,V2e,2,0,"span",23),P()),2&e){const t=he();K(1),J("ngIf",null==t.name.errors?null:t.name.errors.required)}}function H2e(e,n){if(1&e&&(I(0,"option",24),ce(1),P()),2&e){const t=n.$implicit;J("ngValue",t.id),K(1),wo(t.name)}}function B2e(e,n){1&e&&(I(0,"span"),ce(1,"Please choose the Space."),P())}function j2e(e,n){if(1&e&&(I(0,"div",22),ee(1,B2e,2,0,"span",23),P()),2&e){const t=he();K(1),J("ngIf",null==t.spaceId.errors?null:t.spaceId.errors.required)}}function G2e(e,n){if(1&e&&(I(0,"div",25),I(1,"p"),ce(2),P(),P()),2&e){const t=he();K(2),_7(" new Topic(X, '",t.newTopic.name,"', '",t.newTopic.description,"', ",t.newTopic.spaceId,"), ")}}let U2e=(()=>{class e{constructor(t,r){this._router=t,this._dataService=r,this.pageTitle="Create new Topic"}get name(){return this.topicForm.get("name")}get description(){return this.topicForm.get("description")}get spaceId(){return this.topicForm.get("spaceId")}ngOnInit(){this.topicForm=new ac({name:new Si("",[ms.required]),description:new Si,spaceId:new Si("",[ms.required])}),this.spacesList=this._dataService.getAllSpaces()}onSubmit(){this.topicForm.invalid?this.topicForm.markAllAsTouched():this.newTopic=this.topicForm.value}changedSpace(t){this.spaceId.setValue(t.target.value,{onlySelf:!0})}cancel(){this._router.navigateByUrl("/spaces")}}return e.\u0275fac=function(t){return new(t||e)(z(an),z(gc))},e.\u0275cmp=_t({type:e,selectors:[["app-create-topic-page"]],decls:33,vars:9,consts:[[3,"showSmallHeader","showGoBackButton","title"],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-12"],[1,"card","card-header-actions","mb-4"],[1,"card-header"],[1,"card-body",2,"min-height","500px"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-6","col-sm-12"],["for","name",1,"small","mb-1"],["id","name","type","text","placeholder","Enter the name","formControlName","name","required","",1,"form-control"],["class","invalid-input",4,"ngIf"],["for","description",1,"small","mb-1"],["id","description","type","text","placeholder","Enter the description","formControlName","description",1,"form-control"],["for","space"],["id","space","formControlName","spaceId",1,"form-control",2,"padding","0.6rem 1.125rem",3,"change"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success",2,"margin-right","5px",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],["style","margin-top: 30px;",4,"ngIf"],[1,"invalid-input"],[4,"ngIf"],[3,"ngValue"],[2,"margin-top","30px"]],template:function(t,r){1&t&&(Fe(0,"app-page-header",0),I(1,"div",1),I(2,"div",2),I(3,"div",3),I(4,"div",4),I(5,"div",5),ce(6," New Topic "),P(),I(7,"div",6),I(8,"form",7),de("ngSubmit",function(){return r.onSubmit()}),I(9,"div",8),I(10,"div",9),I(11,"label",10),ce(12,"Name"),P(),Fe(13,"input",11),ee(14,F2e,2,1,"div",12),P(),I(15,"div",9),I(16,"label",13),ce(17,"Description"),P(),Fe(18,"input",14),P(),P(),I(19,"div",8),I(20,"div",9),I(21,"label",15),ce(22,"Space"),P(),I(23,"select",16),de("change",function(c){return r.changedSpace(c)}),I(24,"option",17),ce(25,"Choose a Space"),P(),ee(26,H2e,2,2,"option",18),P(),ee(27,j2e,2,1,"div",12),P(),P(),I(28,"button",19),ce(29,"Save"),P(),I(30,"button",20),de("click",function(){return r.cancel()}),ce(31,"Cancel"),P(),P(),ee(32,G2e,3,3,"div",21),P(),P(),P(),P(),P()),2&t&&(J("showSmallHeader",!0)("showGoBackButton",!1)("title",r.pageTitle),K(8),J("formGroup",r.topicForm),K(6),J("ngIf",r.name.invalid&&(r.name.dirty||r.name.touched)),K(12),J("ngForOf",r.spacesList),K(1),J("ngIf",r.spaceId.invalid&&(r.spaceId.dirty||r.spaceId.touched)),K(1),J("disabled",r.topicForm.invalid),K(4),J("ngIf",null!=r.newTopic))},directives:[Rl,r3,Q6,cc,xa,Ml,Sl,Nl,ji,o3,m9,v9,Do],styles:[""]}),e})();function $2e(e,n){1&e&&(I(0,"span"),ce(1,"Please provide a name."),P())}function W2e(e,n){if(1&e&&(I(0,"div",18),ee(1,$2e,2,0,"span",19),P()),2&e){const t=he();K(1),J("ngIf",null==t.name.errors?null:t.name.errors.required)}}function q2e(e,n){if(1&e&&(I(0,"div",20),I(1,"p"),ce(2),P(),P()),2&e){const t=he();K(2),fl(" new Space(X, '",t.newSpace.name,"', '",t.newSpace.description,"', null) ")}}const K2e=[{path:"",redirectTo:"/spaces",pathMatch:"full"},{path:"",component:Pie,canActivate:[jA],children:[{path:"spaces",component:Wie},{path:"spaces/create",component:(()=>{class e{constructor(t,r){this._router=t,this._dataService=r,this.pageTitle="Create new Topic"}get name(){return this.spaceForm.get("name")}get description(){return this.spaceForm.get("description")}ngOnInit(){this.spaceForm=new ac({name:new Si("",[ms.required]),description:new Si})}onSubmit(){this.spaceForm.invalid?this.spaceForm.markAllAsTouched():this.newSpace=this.spaceForm.value}cancel(){this._router.navigateByUrl("/spaces")}}return e.\u0275fac=function(t){return new(t||e)(z(an),z(gc))},e.\u0275cmp=_t({type:e,selectors:[["app-create-space-page"]],decls:24,vars:7,consts:[[3,"showSmallHeader","showGoBackButton","title"],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-12"],[1,"card","card-header-actions","mb-4"],[1,"card-header"],[1,"card-body",2,"min-height","500px"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-6","col-sm-12"],["for","name",1,"small","mb-1"],["id","name","type","text","placeholder","Enter the name","formControlName","name","required","",1,"form-control"],["class","invalid-input",4,"ngIf"],["for","description",1,"small","mb-1"],["id","description","type","text","placeholder","Enter the description","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-success",2,"margin-right","5px",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],["style","margin-top: 30px;",4,"ngIf"],[1,"invalid-input"],[4,"ngIf"],[2,"margin-top","30px"]],template:function(t,r){1&t&&(Fe(0,"app-page-header",0),I(1,"div",1),I(2,"div",2),I(3,"div",3),I(4,"div",4),I(5,"div",5),ce(6," New Topic "),P(),I(7,"div",6),I(8,"form",7),de("ngSubmit",function(){return r.onSubmit()}),I(9,"div",8),I(10,"div",9),I(11,"label",10),ce(12,"Name"),P(),Fe(13,"input",11),ee(14,W2e,2,1,"div",12),P(),I(15,"div",9),I(16,"label",13),ce(17,"Description"),P(),Fe(18,"input",14),P(),P(),I(19,"button",15),ce(20,"Save"),P(),I(21,"button",16),de("click",function(){return r.cancel()}),ce(22,"Cancel"),P(),P(),ee(23,q2e,3,2,"div",17),P(),P(),P(),P(),P()),2&t&&(J("showSmallHeader",!0)("showGoBackButton",!1)("title",r.pageTitle),K(8),J("formGroup",r.spaceForm),K(6),J("ngIf",r.name.invalid&&(r.name.dirty||r.name.touched)),K(5),J("disabled",r.spaceForm.invalid),K(4),J("ngIf",null!=r.newSpace))},directives:[Rl,r3,Q6,cc,xa,Ml,Sl,Nl,ji],styles:[""]}),e})()},{path:"topics/spaceId/:spaceId",component:ire},{path:"topics/create",component:U2e},{path:"knowledges/topicId/:topicId",component:x2e},{path:"knowledges/create",component:R2e}]},{path:"login",component:Xie}];let J2e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({imports:[[xk.forRoot(K2e)],xk]}),e})(),Z2e=(()=>{class e{constructor(){this.title="knowledges"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_t({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Fe(0,"router-outlet")},directives:[zh],styles:[""]}),e})();class GD{}class UD{}class ys{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),c=s.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(s,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let r=n[t];const s=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof ys?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new ys;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ys?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const s=("a"===n.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const c=n.value;if(c){let h=this.headers.get(t);if(!h)return;h=h.filter(p=>-1===c.indexOf(p)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class Y2e{encodeKey(n){return $D(n)}encodeValue(n){return $D(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const X2e=/%(\d[a-f0-9])/gi,ele={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $D(e){return encodeURIComponent(e).replace(X2e,(n,t)=>{var r;return null!==(r=ele[t])&&void 0!==r?r:n})}function WD(e){return`${e}`}class Pa{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Y2e,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{const c=s.indexOf("="),[h,p]=-1==c?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,c)),n.decodeValue(s.slice(c+1))],m=t.get(h)||[];m.push(p),t.set(h,m)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const s=n[r];Array.isArray(s)?s.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Pa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(WD(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const s=r.indexOf(WD(n.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class tle{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function qD(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function KD(e){return"undefined"!=typeof Blob&&e instanceof Blob}function JD(e){return"undefined"!=typeof FormData&&e instanceof FormData}class A3{constructor(n,t,r,s){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,c=s):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new ys),this.context||(this.context=new tle),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+h}}else this.params=new Pa,this.urlWithParams=t}serializeBody(){return null===this.body?null:qD(this.body)||KD(this.body)||JD(this.body)||function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||JD(this.body)?null:KD(this.body)?this.body.type||null:qD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var t;const r=n.method||this.method,s=n.url||this.url,c=n.responseType||this.responseType,h=void 0!==n.body?n.body:this.body,p=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,m=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let v=n.headers||this.headers,k=n.params||this.params;const y=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(v=Object.keys(n.setHeaders).reduce((A,M)=>A.set(M,n.setHeaders[M]),v)),n.setParams&&(k=Object.keys(n.setParams).reduce((A,M)=>A.set(M,n.setParams[M]),k)),new A3(r,s,h,{params:k,headers:v,context:y,reportProgress:m,responseType:c,withCredentials:p})}}var Mn=(()=>((Mn=Mn||{})[Mn.Sent=0]="Sent",Mn[Mn.UploadProgress=1]="UploadProgress",Mn[Mn.ResponseHeader=2]="ResponseHeader",Mn[Mn.DownloadProgress=3]="DownloadProgress",Mn[Mn.Response=4]="Response",Mn[Mn.User=5]="User",Mn))();class Am{constructor(n,t=200,r="OK"){this.headers=n.headers||new ys,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Dm extends Am{constructor(n={}){super(n),this.type=Mn.ResponseHeader}clone(n={}){return new Dm({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class M5 extends Am{constructor(n={}){super(n),this.type=Mn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new M5({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ZD extends Am{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function xm(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let rle=(()=>{class e{constructor(t){this.handler=t}request(t,r,s={}){let c;if(t instanceof A3)c=t;else{let m,v;m=s.headers instanceof ys?s.headers:new ys(s.headers),s.params&&(v=s.params instanceof Pa?s.params:new Pa({fromObject:s.params})),c=new A3(t,r,void 0!==s.body?s.body:null,{headers:m,context:s.context,params:v,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const h=Ie(c).pipe(yl(m=>this.handler.handle(m)));if(t instanceof A3||"events"===s.observe)return h;const p=h.pipe(Ui(m=>m instanceof M5));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return p.pipe(Be(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return p.pipe(Be(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return p.pipe(Be(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return p.pipe(Be(m=>m.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Pa).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,xm(s,r))}post(t,r,s={}){return this.request("POST",t,xm(s,r))}put(t,r,s={}){return this.request("PUT",t,xm(s,r))}}return e.\u0275fac=function(t){return new(t||e)(oe(GD))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();class YD{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const QD=new ze("HTTP_INTERCEPTORS");let ole=(()=>{class e{intercept(t,r){return r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const sle=/^\)\]\}',?\n/;let XD=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ke(r=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,N)=>s.setRequestHeader(M,N.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&s.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();s.responseType="json"!==M?M:"text"}const c=t.serializeBody();let h=null;const p=()=>{if(null!==h)return h;const M=1223===s.status?204:s.status,N=s.statusText||"OK",O=new ys(s.getAllResponseHeaders()),B=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return h=new Dm({headers:O,status:M,statusText:N,url:B}),h},m=()=>{let{headers:M,status:N,statusText:O,url:B}=p(),j=null;204!==N&&(j=void 0===s.response?s.responseText:s.response),0===N&&(N=j?200:0);let F=N>=200&&N<300;if("json"===t.responseType&&"string"==typeof j){const ie=j;j=j.replace(sle,"");try{j=""!==j?JSON.parse(j):null}catch(ue){j=ie,F&&(F=!1,j={error:ue,text:j})}}F?(r.next(new M5({body:j,headers:M,status:N,statusText:O,url:B||void 0})),r.complete()):r.error(new ZD({error:j,headers:M,status:N,statusText:O,url:B||void 0}))},v=M=>{const{url:N}=p(),O=new ZD({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});r.error(O)};let k=!1;const y=M=>{k||(r.next(p()),k=!0);let N={type:Mn.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),"text"===t.responseType&&!!s.responseText&&(N.partialText=s.responseText),r.next(N)},A=M=>{let N={type:Mn.UploadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),r.next(N)};return s.addEventListener("load",m),s.addEventListener("error",v),s.addEventListener("timeout",v),s.addEventListener("abort",v),t.reportProgress&&(s.addEventListener("progress",y),null!==c&&s.upload&&s.upload.addEventListener("progress",A)),s.send(c),r.next({type:Mn.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",m),s.removeEventListener("timeout",v),t.reportProgress&&(s.removeEventListener("progress",y),null!==c&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(oe(sC))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const Mm=new ze("XSRF_COOKIE_NAME"),Em=new ze("XSRF_HEADER_NAME");class ex{}let cle=(()=>{class e{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=X_(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(oe(sn),oe(N6),oe(Mm))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),Sm=(()=>{class e{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return r.handle(t);const c=this.tokenService.getToken();return null!==c&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,c)})),r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(oe(ex),oe(Em))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),lle=(()=>{class e{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(QD,[]);this.chain=r.reduceRight((s,c)=>new YD(s,c),this.backend)}return this.chain.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(oe(UD),oe(Zt))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),dle=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Sm,useClass:ole}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Mm,useValue:t.cookieName}:[],t.headerName?{provide:Em,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({providers:[Sm,{provide:QD,useExisting:Sm,multi:!0},{provide:ex,useClass:cle},{provide:Mm,useValue:"XSRF-TOKEN"},{provide:Em,useValue:"X-XSRF-TOKEN"}]}),e})(),ule=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e}),e.\u0275inj=je({providers:[rle,{provide:GD,useClass:lle},XD,{provide:UD,useExisting:XD}],imports:[[dle.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),hle=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=st({type:e,bootstrap:[Z2e]}),e.\u0275inj=je({providers:[jA],imports:[[gT,J2e,_9,uX,Tie,Bte,ule,_2e]]}),e})();M_=!1,fT().bootstrapModule(hle).catch(e=>console.error(e))},79:(Ul,ir)=>{(function(X){const U=X.en=X.en||{};U.dictionary=Object.assign(U.dictionary||{},{"%0 of %1":"%0 of %1","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Big:"Big",Black:"Black","Block quote":"Block quote",Blue:"Blue","Blue marker":"Blue marker",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Characters: %0":"Characters: %0","Choose heading":"Choose heading","Decrease indent":"Decrease indent",Default:"Default","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Font Size":"Font Size",Green:"Green","Green marker":"Green marker","Green pen":"Green pen",Grey:"Grey",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Highlight:"Highlight",Huge:"Huge","Increase indent":"Increase indent","Insert code block":"Insert code block","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block",Italic:"Italic",Justify:"Justify","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph","Pink marker":"Pink marker","Plain text":"Plain text",Previous:"Previous",Purple:"Purple",Red:"Red","Red pen":"Red pen",Redo:"Redo","Remove Format":"Remove Format","Remove highlight":"Remove highlight","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0",Save:"Save","Select all":"Select all","Show more items":"Show more items",Small:"Small",Strikethrough:"Strikethrough","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text highlight toolbar":"Text highlight toolbar","This link has no URL":"This link has no URL",Tiny:"Tiny",Turquoise:"Turquoise",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",White:"White","Words: %0":"Words: %0",Yellow:"Yellow","Yellow marker":"Yellow marker"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),window,Ul.exports=function(X){var U={};function E(H){if(U[H])return U[H].exports;var q=U[H]={i:H,l:!1,exports:{}};return X[H].call(q.exports,q,q.exports,E),q.l=!0,q.exports}return E.m=X,E.c=U,E.d=function(H,q,G){E.o(H,q)||Object.defineProperty(H,q,{enumerable:!0,get:G})},E.r=function(H){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})},E.t=function(H,q){if(1&q&&(H=E(H)),8&q||4&q&&"object"==typeof H&&H&&H.__esModule)return H;var G=Object.create(null);if(E.r(G),Object.defineProperty(G,"default",{enumerable:!0,value:H}),2&q&&"string"!=typeof H)for(var V in H)E.d(G,V,function(fe){return H[fe]}.bind(null,V));return G},E.n=function(H){var q=H&&H.__esModule?function(){return H.default}:function(){return H};return E.d(q,"a",q),q},E.o=function(H,q){return Object.prototype.hasOwnProperty.call(H,q)},E.p="",E(E.s=51)}([function(X,U,E){"use strict";E.d(U,"a",function(){return H}),E.d(U,"b",function(){return q});class H extends Error{constructor(S,me,gt){super(`${S}${gt?` ${JSON.stringify(gt)}`:""}${G(S)}`),this.name="CKEditorError",this.context=me,this.data=gt}is(S){return"CKEditorError"===S}static rethrowUnexpectedError(S,me){if(S.is&&S.is("CKEditorError"))throw S;const gt=new H(S.message,me);throw gt.stack=S.stack,gt}}function q(fe,S){console.warn(...function(fe,S){const me=G(fe);return S?[fe,S,me]:[fe,me]}(fe,S))}function G(fe){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${fe}`}},function(X,U,E){"use strict";var H,ke,G=(ke={},function(Ne){if(void 0===ke[Ne]){var pe=document.querySelector(Ne);if(window.HTMLIFrameElement&&pe instanceof window.HTMLIFrameElement)try{pe=pe.contentDocument.head}catch(qe){pe=null}ke[Ne]=pe}return ke[Ne]}),V=[];function fe(ke){for(var Ne=-1,pe=0;pe<V.length;pe++)if(V[pe].identifier===ke){Ne=pe;break}return Ne}function S(ke,Ne){for(var pe={},qe=[],ot=0;ot<ke.length;ot++){var Pt=ke[ot],Vt=Ne.base?Pt[0]+Ne.base:Pt[0],rr=pe[Vt]||0,ai="".concat(Vt," ").concat(rr);pe[Vt]=rr+1;var No=fe(ai),Ni={css:Pt[1],media:Pt[2],sourceMap:Pt[3]};-1!==No?(V[No].references++,V[No].updater(Ni)):V.push({identifier:ai,updater:As(Ni,Ne),references:1}),qe.push(ai)}return qe}function me(ke){var Ne=document.createElement("style"),pe=ke.attributes||{};if(void 0===pe.nonce){var qe=E.nc;qe&&(pe.nonce=qe)}if(Object.keys(pe).forEach(function(Pt){Ne.setAttribute(Pt,pe[Pt])}),"function"==typeof ke.insert)ke.insert(Ne);else{var ot=G(ke.insert||"head");if(!ot)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ot.appendChild(Ne)}return Ne}var gt,Oe=(gt=[],function(ke,Ne){return gt[ke]=Ne,gt.filter(Boolean).join("\n")});function mt(ke,Ne,pe,qe){var ot=pe?"":qe.media?"@media ".concat(qe.media," {").concat(qe.css,"}"):qe.css;if(ke.styleSheet)ke.styleSheet.cssText=Oe(Ne,ot);else{var Pt=document.createTextNode(ot),Vt=ke.childNodes;Vt[Ne]&&ke.removeChild(Vt[Ne]),Vt.length?ke.insertBefore(Pt,Vt[Ne]):ke.appendChild(Pt)}}function $i(ke,Ne,pe){var qe=pe.css,ot=pe.media,Pt=pe.sourceMap;if(ot?ke.setAttribute("media",ot):ke.removeAttribute("media"),Pt&&"undefined"!=typeof btoa&&(qe+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(Pt))))," */")),ke.styleSheet)ke.styleSheet.cssText=qe;else{for(;ke.firstChild;)ke.removeChild(ke.firstChild);ke.appendChild(document.createTextNode(qe))}}var Zr=null,So=0;function As(ke,Ne){var pe,qe,ot;if(Ne.singleton){var Pt=So++;pe=Zr||(Zr=me(Ne)),qe=mt.bind(null,pe,Pt,!1),ot=mt.bind(null,pe,Pt,!0)}else pe=me(Ne),qe=$i.bind(null,pe,Ne),ot=function(){!function(Vt){if(null===Vt.parentNode)return!1;Vt.parentNode.removeChild(Vt)}(pe)};return qe(ke),function(Vt){if(Vt){if(Vt.css===ke.css&&Vt.media===ke.media&&Vt.sourceMap===ke.sourceMap)return;qe(ke=Vt)}else ot()}}X.exports=function(ke,Ne){(Ne=Ne||{}).singleton||"boolean"==typeof Ne.singleton||(Ne.singleton=(void 0===H&&(H=Boolean(window&&document&&document.all&&!window.atob)),H));var pe=S(ke=ke||[],Ne);return function(qe){if(qe=qe||[],"[object Array]"===Object.prototype.toString.call(qe)){for(var ot=0;ot<pe.length;ot++){var Pt=fe(pe[ot]);V[Pt].references--}for(var Vt=S(qe,Ne),rr=0;rr<pe.length;rr++){var ai=fe(pe[rr]);0===V[ai].references&&(V[ai].updater(),V.splice(ai,1))}pe=Vt}}}},function(X,U,E){"use strict";function q(G,V){(null==V||V>G.length)&&(V=G.length);for(var fe=0,S=new Array(V);fe<V;fe++)S[fe]=G[fe];return S}X.exports=function(G){var V=function(G,V){return function(fe){if(Array.isArray(fe))return fe}(G)||function(fe,S){var me=fe&&("undefined"!=typeof Symbol&&fe[Symbol.iterator]||fe["@@iterator"]);if(null!=me){var gt,Oe,mt=[],$i=!0,Zr=!1;try{for(me=me.call(fe);!($i=(gt=me.next()).done)&&(mt.push(gt.value),!S||mt.length!==S);$i=!0);}catch(So){Zr=!0,Oe=So}finally{try{$i||null==me.return||me.return()}finally{if(Zr)throw Oe}}return mt}}(G,V)||function(fe,S){if(fe){if("string"==typeof fe)return q(fe,S);var me=Object.prototype.toString.call(fe).slice(8,-1);if("Object"===me&&fe.constructor&&(me=fe.constructor.name),"Map"===me||"Set"===me)return Array.from(fe);if("Arguments"===me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me))return q(fe,S)}}(G,V)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(G,4),fe=V[1],S=V[3];if("function"==typeof btoa){var me=btoa(unescape(encodeURIComponent(JSON.stringify(S)))),gt="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(me),Oe="/*# ".concat(gt," */"),mt=S.sources.map(function($i){return"/*# sourceURL=".concat(S.sourceRoot||"").concat($i," */")});return[fe].concat(mt).concat([Oe]).join("\n")}return[fe].join("\n")}},function(X,U,E){"use strict";X.exports=function(H){var q=[];return q.toString=function(){return this.map(function(G){var V=H(G);return G[2]?"@media ".concat(G[2]," {").concat(V,"}"):V}).join("")},q.i=function(G,V,fe){"string"==typeof G&&(G=[[null,G,""]]);var S={};if(fe)for(var me=0;me<this.length;me++){var gt=this[me][0];null!=gt&&(S[gt]=!0)}for(var Oe=0;Oe<G.length;Oe++){var mt=[].concat(G[Oe]);fe&&S[mt[0]]||(V&&(mt[2]=mt[2]?"".concat(V," and ").concat(mt[2]):V),q.push(mt))}},q}},,function(X,U,E){"use strict";var H=E(9),q="object"==typeof self&&self&&self.Object===Object&&self,G=H.a||q||Function("return this")();U.a=G},function(X,U,E){"use strict";(function(H){var q=E(5),G=E(50),V=ir&&!ir.nodeType&&ir,fe=V&&"object"==typeof H&&H&&!H.nodeType&&H,S=fe&&fe.exports===V?q.a.Buffer:void 0;U.a=(S?S.isBuffer:void 0)||G.a}).call(this,E(11)(X))},function(X,U,E){"use strict";(function(H){var q=E(9),G=ir&&!ir.nodeType&&ir,V=G&&"object"==typeof H&&H&&!H.nodeType&&H,fe=V&&V.exports===G&&q.a.process,S=function(){try{return V&&V.require&&V.require("util").types||fe&&fe.binding&&fe.binding("util")}catch(gt){}}();U.a=S}).call(this,E(11)(X))},function(X,U,E){"use strict";(function(H){var q=E(0);const V="object"==typeof window?window:H;if(V.CKEDITOR_VERSION)throw new q.a("ckeditor-duplicated-modules",null);V.CKEDITOR_VERSION="27.1.0"}).call(this,E(49))},function(X,U,E){"use strict";(function(H){U.a="object"==typeof H&&H&&H.Object===Object&&H}).call(this,E(49))},function(X,U,E){"use strict";(function(H){var q=E(5),G=ir&&!ir.nodeType&&ir,V=G&&"object"==typeof H&&H&&!H.nodeType&&H,fe=V&&V.exports===G?q.a.Buffer:void 0,S=fe?fe.allocUnsafe:void 0;U.a=function(me,gt){if(gt)return me.slice();var Oe=me.length,mt=S?S(Oe):new me.constructor(Oe);return me.copy(mt),mt}}).call(this,E(11)(X))},function(X,U){X.exports=function(E){if(!E.webpackPolyfill){var H=Object.create(E);H.children||(H.children=[]),Object.defineProperty(H,"loaded",{enumerable:!0,get:function(){return H.l}}),Object.defineProperty(H,"id",{enumerable:!0,get:function(){return H.i}}),Object.defineProperty(H,"exports",{enumerable:!0}),H.webpackPolyfill=1}return H}},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,iDAGC,qBAAsB,CACtB,UAAW,CACX,WAAY,CACZ,eACD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAgD,CAChD,8BAAmD,CACnD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAmD,CACnD,oCAAuD,CACvD,6BAAkD,CAIlD,+CAAwD,CACxD,qEAA+E,CAC/E,qCAAwD,CACxD,sDAA8D,CAC9D,iDAAyD,CACzD,yCAAqD,CACrD,uCAAsD,CACtD,6CAA0D,CAC1D,uCAAsD,CAItD,gDAAuD,CACvD,kDAA+D,CAC/D,mDAAgE,CAChE,+CAA6D,CAC7D,yDAA8D,CAE9D,uCAAuD,CACvD,6CAA4D,CAC5D,8CAA4D,CAC5D,0CAAyD,CACzD,gDAA8D,CAE9D,+DAAsE,CACtE,iDAAkE,CAClE,kDAAkE,CAClE,8CAA+D,CAC/D,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA4D,CAC5D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAmE,CACnE,yEAA8E,CAC9E,qDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,+BAAiD,CACjD,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,wCAAwD,CACxD,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,gEAAuE,CACvE,4EAAiF,CACjF,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,wDAAmE,CACnE,mDAAgE,CCpGhE,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJoGD,CI9FA,iDAIC,QAAS,CACT,SAAU,CACV,QAAS,CACT,sBAAuB,CACvB,oBAAqB,CACrB,qBAAsB,CACtB,eAAgB,CAGhB,oBACD,CAKA,oCAGC,wBAAyB,CACzB,iGAAkG,CAClG,0BAA2B,CAC3B,eAAgB,CAChB,kBAAmB,CACnB,WAAY,CACZ,UACD,CAGC,2BACC,gBACD,CAEA,wBAEC,sBACD,CAEA,0BACC,oBACD,CAEA,kGAGC,WACD,CAEA,gIAGC,cACD,CAEA,0BACC,YAAa,CACb,yBACD,CAEA,0CAEC,SAAU,CACV,QACD,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck.ck-reset_all * {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 44%, 48%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(208, 88%, 52%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(208, 88%, 47%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t208, 79%, 51%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(207, 89%, 86%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 90%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 85%);\n\t--ck-color-button-default-active-shadow: \t\t\t\t\thsl(0, 0%, 75%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(0, 0%, 87%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(0, 0%, 73%);\n\t--ck-color-button-on-active-shadow: \t\t\t\t\t\thsl(0, 0%, 63%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(0, 0%, 87%);\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 44%, 41%);\n\t--ck-color-button-action-active-shadow: \t\t\t\t\thsl(104, 44%, 36%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 69%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 64%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-base-active);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-base-active-focus);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-foreground);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck.ck-reset_all * {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck.ck-reset_all * {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck.ck-reset_all {\n\t& .ck-rtl * {\n\t\ttext-align: right;\n\t}\n\n\t& iframe {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea,\n\t& input[type="text"],\n\t& input[type="password"] {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled],\n\t& input[type="text"][disabled],\n\t& input[type="password"][disabled] {\n\t\tcursor: default;\n\t}\n\n\t& fieldset {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YACC,yBAA0B,CAC1B,0BAA2B,CAG3B,uBAAwB,CAQxB,qBAcD,CAZC,0BARA,aAAc,CAGd,cAgBA,CAJC,yBAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\tcolor: inherit;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\n\t\t/* Allows dynamic coloring of the icons. */\n\t\tcolor: inherit;\n\n\t\t&:not([fill]) {\n\t\t\t/* Needed by FF. */\n\t\t\tfill: currentColor;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,'.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,sDAEC,iBAAkB,CAGlB,mBAAoB,CAIpB,kCACD,CAEA,eAEC,iBAAkB,CAClB,SAAU,CACV,YAAa,CACb,yBAWD,CATC,iCACC,oBAOD,CALC,uCACC,UAAW,CACX,OAAQ,CACR,QACD,CCxBF,MACC,2BACD,CAEA,eACC,QAAS,CAMT,KAAM,CAON,sCAwKD,CAtKC,iCChBA,eDqCA,CArBA,yGCZC,qCDiCD,CArBA,iCAGC,cAAe,CACf,eAAgB,CAChB,kCAAmC,CACnC,wDAAyD,CACzD,6CAA8C,CAC9C,iBAAkB,CAClB,SAYD,CAVC,uCAMC,sCAAuC,CACvC,kBAAmB,CACnB,QACD,CAYD,sFAGC,4CAA+C,CAC/C,0BASD,CAPC,8JAEC,+CAAkD,CAClD,0BAA6B,CAC7B,6BAAoF,CAApF,sDAAoF,CAApF,8BAAoF,CAApF,4BAAoF,CACpF,8CAAsG,CAAtG,gDAAsG,CAAtG,+CAAsG,CAAtG,kBACD,CAaD,6BACC,SAAU,CACV,SAWD,CATC,+CACC,SAAU,CACV,2CACD,CAEA,qDACC,SAAU,CACV,OACD,CAYD,6BACC,QAAS,CACT,UAYD,CAVC,+CACC,UAAW,CACX,0CACD,CAEA,qDACC,UAAW,CACX,MAAO,CACP,yBACD,CAYD,4BACC,yCAA4C,CAC5C,2BAQD,CANC,oDACC,4CAA+C,CAC/C,0BAA6B,CAC7B,6BAAoF,CAApF,+BAAoF,CAApF,8BAAoF,CAApF,mDAAoF,CACpF,8CAAsG,CAAtG,qBAAsG,CAAtG,+CAAsG,CAAtG,6CACD,CAUD,4BACC,8CAA+C,CAC/C,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDACC,0CAA6C,CAC7C,8CAAiD,CACjD,6BAAoF,CAApF,+BAAoF,CAApF,qDAAoF,CAApF,4BAAoF,CACpF,mBAAsG,CAAtG,gDAAsG,CAAtG,+CAAsG,CAAtG,6CACD,CAWF,4BACC,+CAAgD,CAChD,SAAU,CACV,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDACC,SAAU,CACV,8CAAiD,CACjD,oDAAoF,CAApF,+BAAoF,CAApF,8BAAoF,CAApF,4BAAoF,CACpF,8CAAsG,CAAtG,gDAAsG,CAAtG,oBAAsG,CAAtG,6CACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-tooltip,\n.ck.ck-tooltip .ck-tooltip__text::after {\n\tposition: absolute;\n\n\t/* Without this, hovering the tooltip could keep it visible. */\n\tpointer-events: none;\n\n\t/* This is to get rid of flickering when transitioning opacity in Chrome.\n\tIt\'s weird but it works. */\n\t-webkit-backface-visibility: hidden;\n}\n\n.ck.ck-tooltip {\n\t/* Tooltip is hidden by default. */\n\tvisibility: hidden;\n\topacity: 0;\n\tdisplay: none;\n\tz-index: var(--ck-z-modal);\n\n\t& .ck-tooltip__text {\n\t\tdisplay: inline-block;\n\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-tooltip-arrow-size: 5px;\n}\n\n.ck.ck-tooltip {\n\tleft: 50%;\n\n\t/*\n\t * Prevent blurry tooltips in LoDPI environments.\n\t * See https://github.com/ckeditor/ckeditor5/issues/1802.\n\t */\n\ttop: 0;\n\n\t/*\n\t * For the transition to work, the tooltip must be controlled\n\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t * i.e. when scanning the toolbar with mouse cursor.\n\t */\n\ttransition: opacity .2s ease-in-out .2s;\n\n\t& .ck-tooltip__text {\n\t\t@mixin ck-rounded-corners;\n\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\tbackground: var(--ck-color-tooltip-background);\n\t\tposition: relative;\n\t\tleft: -50%;\n\n\t\t&::after {\n\t\t\t/*\n\t\t\t * For the transition to work, the tooltip must be controlled\n\t\t\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t\t\t * i.e. when scanning the toolbar with mouse cursor.\n\t\t\t */\n\t\t\ttransition: opacity .2s ease-in-out .2s;\n\t\t\tborder-style: solid;\n\t\t\tleft: 50%;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south of the element.\n\t *\n\t *       [element]\n\t *           ^\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t */\n\t&.ck-tooltip_s,\n\t&.ck-tooltip_sw,\n\t&.ck-tooltip_se {\n\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( 100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\t/* 1px addresses gliches in rendering causing gap between the triangle and the text */\n\t\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size) + 1px);\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: transparent transparent var(--ck-color-tooltip-background) transparent;\n\t\t\tborder-width: 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south-west of the element.\n\t *\n\t *        [element]\n\t *            ^\n\t *  +-----------+\n\t *  |  Tooltip  |\n\t *  +-----------+\n\t */\n\n\t&.ck-tooltip_sw {\n\t\tright: 50%;\n\t\tleft: auto;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: auto;\n\t\t\tright: calc( -2 * var(--ck-tooltip-arrow-size));\n\t\t}\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tleft: auto;\n\t\t\tright: 0;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south-east of the element.\n\t *\n\t *  [element]\n\t *      ^\n\t *    +-----------+\n\t *    |  Tooltip  |\n\t *    +-----------+\n\t */\n\t&.ck-tooltip_se {\n\t\tleft: 50%;\n\t\tright: auto;\n\n\t\t& .ck-tooltip__text {\n\t\t\tright: auto;\n\t\t\tleft: calc( -2 * var(--ck-tooltip-arrow-size));\n\t\t}\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tright: auto;\n\t\t\tleft: 0;\n\t\t\ttransform: translateX( 50% );\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip north of the element.\n\t *\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t *           V\n\t *       [element]\n\t */\n\t&.ck-tooltip_n {\n\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( -100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: var(--ck-color-tooltip-background) transparent transparent transparent;\n\t\t\tborder-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip east of the element.\n\t *\n\t *                +----------+\n\t *    [element] < |   east   |\n\t *                +----------+\n\t */\n\t&.ck-tooltip_e {\n\t\tleft: calc(100% + var(--ck-tooltip-arrow-size));\n\t\ttop: 50%;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: 0;\n\t\t\ttransform: translateY( -50% );\n\n\t\t\t&::after {\n\t\t\t\tleft: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\t\t\ttop: calc(50% - 1 * var(--ck-tooltip-arrow-size));\n\t\t\t\tborder-color: transparent var(--ck-color-tooltip-background) transparent transparent;\n\t\t\t\tborder-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip west of the element.\n\t *\n\t *    +----------+\n\t *    |   west   | > [element]\n\t *    +----------+\n\t */\n\t&.ck-tooltip_w {\n\t\tright: calc(100% + var(--ck-tooltip-arrow-size));\n\t\tleft: auto;\n\t\ttop: 50%;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: 0;\n\t\t\ttransform: translateY( -50% );\n\n\t\t\t&::after {\n\t\t\t\tleft: 100%;\n\t\t\t\ttop: calc(50% - 1 * var(--ck-tooltip-arrow-size));\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-color-tooltip-background);\n\t\t\t\tborder-width: var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BCCC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6BD,CE/BC,qDACC,aAqBD,CAHC,oBAnBD,qDAoBE,YAEF,CADC,CFvBF,6BAKC,iBAAkB,CAClB,mBAAoB,CACpB,kBAAmB,CACnB,oBAyBD,CAvBC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEkBA,iEACC,kBAAmB,CACnB,SACD,CAbA,yFACC,YACD,CC7BD,6BCAC,oDD0ID,CCvIE,6EACC,0DACD,CAEA,+EACC,2DAA4C,CAC5C,uEACD,CAID,qDACC,6DACD,CDhBD,6BEDC,eF2ID,CA1IA,wIEGE,qCFuIF,CA1IA,6BAKC,kBAAmB,CACnB,cAAe,CACf,qBAAsB,CACtB,8BAA+B,CAC/B,iBAAkB,CAGlB,2CAA4C,CAC5C,4CAA6C,CAI7C,aAAc,CAGd,iBAAkB,CAGlB,4BAA6B,CAG7B,4DAA8D,CAG9D,uBA6GD,CA3GC,oFGjCA,YAAa,CACb,2BAA2B,CCF3B,2CJsCA,CAIC,kJAEC,aACD,CAGD,iEAEC,iBAAkB,CAClB,mBAAoB,CACpB,aAAc,CACd,cAAe,CAIf,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAEA,uFK3FD,kCL6FC,CAGA,yFKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAOE,6CAAgD,CAChD,mCAEF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDiIA,CC9HC,yFACC,qDACD,CAEA,2FACC,sDAA4C,CAC5C,kEACD,CAID,iEACC,wDACD,CDmHA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC7IC,mDDkJD,CC/IE,2FACC,yDACD,CAEA,6FACC,0DAA4C,CAC5C,sEACD,CAID,mEACC,4DACD,CD6HD,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\t@mixin ck-tooltip_enabled;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n\n\t&:hover {\n\t\t@mixin ck-tooltip_visible;\n\t}\n\n\t/* Get rid of the native focus outline around the tooltip when focused (but not :hover). */\n\t&:focus:not(:hover) {\n\t\t@mixin ck-tooltip_disabled;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t\tbox-shadow: inset 0 2px 2px var($(prefix)-active-shadow);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,mDAAoD,CACpD,qCAAsC,CACtC,gKAKD,CAGC,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDC3BA,eDoEA,CAzCA,yICvBC,qCDgED,CAzCA,2DAKE,gBAoCF,CAzCA,2DAUE,iBA+BF,CAzCA,iDAcC,8BAAiC,CAEjC,0CAA2C,CAC3C,uDAwBD,CAtBC,2EC9CD,eD2DC,CAbA,6LC1CA,qCAAsC,CD4CpC,+CAWF,CAbA,2EAMC,6CAA8C,CAC9C,+CAAgD,CAChD,gDAAiD,CACjD,yDAA0D,CAG1D,uBACD,CAEA,uDACC,6DAKD,CAHC,iFACC,+DACD,CAIF,6DExEA,kCF0EA,CAEA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,yDAMF,CAXA,2FASE,kEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: 1.0769230769em;\n\t--ck-switch-button-toggle-spacing: 1px;\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2 * var(--ck-switch-button-toggle-spacing)\n\t);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease;\n\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\t/* Leave some tiny bit of space around the inner part of the switch */\n\t\t\tmargin: var(--ck-switch-button-toggle-spacing);\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t&.ck-on .ck-button__toggle {\n\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t}\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t/*\n\t\t\t * Move the toggle switch to the right. It will be animated.\n\t\t\t */\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,qCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,oCAAqC,CACrC,qCAAsC,CACtC,wCAAyC,CACzC,yCAA0C,CAC1C,SAAU,CACV,8BAA+B,CAC/B,QAmCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCACC,YAAa,CACb,2CACD,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(0, 0%, 0%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,mBAEC,iBAUD,CARC,iDACC,qCACD,CC0BA,8DACC,YACD,CClCD,MACC,gDAAyD,CACzD,4CACD,CAMC,qDAGE,6BAA8B,CAC9B,gCAQF,CAZA,qDASE,4BAA6B,CAC7B,+BAEF,CAEA,0CAGC,eAmBD,CAtBA,oDCnBA,eDyCA,CAtBA,+ICfC,qCAAsC,CDuBpC,4BAA6B,CAC7B,+BAaH,CAtBA,oDAeE,6BAA8B,CAC9B,gCAMF,CAHC,8CACC,mCACD,CASA,0KACC,wDACD,CAGC,sKACC,2DACD,CAIA,sKACC,4DACD,CAMF,uCCpEA,eD8EA,CAVA,qHChEC,qCD0ED,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n\n\t/* Disable tooltips for the buttons when the button is "open" */\n\t&.ck-splitbutton_open > .ck-button {\n\t\t@mixin ck-tooltip_disabled;\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t& > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: unset;\n\t\t\t\tborder-bottom-left-radius: unset;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled) {\n\t\t\t\tborder-left-color: var(--ck-color-split-button-hover-border);\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled) {\n\t\t\t\tborder-right-color: var(--ck-color-split-button-hover-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBAqFD,CAnFC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UAOD,CCUA,iEACC,YACD,CDVA,oCAGC,kCAAmC,CAEnC,YAAa,CACb,yBAA0B,CAC1B,sCAAuC,CAEvC,iBAyDD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSASC,QAAS,CACT,WACD,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CEhGA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CACC,gCAAiC,CAGjC,sCACD,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEACC,SAAU,CACV,eAAgB,CAChB,sBACD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBEpFC,oCAA8B,CFwF9B,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CAGT,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"../tooltip/mixins/_tooltip.css\";\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\n\t\t/* Disable main button's tooltip when the dropdown is open. Otherwise the panel may\n\t\tpartially cover the tooltip */\n\t\t&.ck-on {\n\t\t\t@mixin ck-tooltip_disabled;\n\t\t}\n\t}\n\n\t& .ck-dropdown__panel {\n\t\t/* This is to get rid of flickering when the tooltip is shown under the panel,\n\t\twhich looks like the panel moves vertically a pixel down and up. */\n\t\t-webkit-backface-visibility: hidden;\n\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,YAAa,CACb,oBAAqB,CACrB,kBA6CD,CA3CC,kCACC,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eD0FD,CA7FA,qECOE,qCDsFF,CA7FA,eAGC,6CAA8C,CAC9C,iCAAkC,CAClC,+CAwFD,CAtFC,yCACC,kBAAmB,CACnB,SAAU,CACV,aAAc,CACd,yCAA0C,CAM1C,kCAAmC,CACnC,qCACD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAGC,kCAAmC,CACnC,qCACD,CAEA,mCAEC,SAgBD,CAbC,0DAEC,UAAW,CAGX,QAAS,CAGT,eAAgB,CAGhB,QACD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAvFF,qCA2FE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JACC,wBAAyB,CACzB,2BACD,CAGA,2JACC,yBAA0B,CAC1B,4BACD,CAID,qGACC,mCACD,CAGA,yLACC,mCACD,CAWA,qHACC,cACD,CAIC,6JACC,yBAA0B,CAC1B,4BACD,CAGA,2JACC,wBAAyB,CACzB,2BACD,CAID,qGACC,oCACD,CAGA,yLACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so any border is pointless. */\n\t\t\tborder: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,YAAa,CACb,qBAcD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAGC,oBAAqB,CACrB,0CACD,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BACC,gBAAiB,CACjB,UAAW,CACX,eAAgB,CAChB,eAAgB,CAKhB,mIAiCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,2DACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBACC,UAAW,CACX,UAAW,CACX,sCACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAEC,iBAAkB,CAClB,8CAOD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDIpC,wBAAyB,CACzB,2BAA4B,CAC5B,4BAEF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEERA,YAAa,CACb,2BAA2B,CCF3B,qCHYA,CAGD,+BACC,aAAc,CACd,oCAAqC,CACrC,4BAwBD,CAtBC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CACC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,kBAAmB,CACnB,6BACD,CCNA,MACC,4BACD,CAEA,oBACC,uDAAwD,CACxD,mCAAoC,CACpC,wCAAyC,CACzC,mDAKD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/inputtext/inputtext.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,0BACD,CAEA,kBCFC,eDwCD,CAtCA,2ECEE,qCDoCF,CAtCA,kBAGC,2CAA4C,CAC5C,6CAA8C,CAC9C,6DAA8D,CAC9D,oCAAqC,CAGrC,4CAA6C,CAG7C,4DA0BD,CAxBC,wBEjBA,YAAa,CACb,2BAA2B,CCF3B,2CHqBA,CAEA,4BACC,sDAAuD,CACvD,oDAAqD,CACrD,yCAMD,CAJC,kCG5BD,oDH+BC,CAGD,2BACC,+CAAgD,CAChD,2CAKD,CAHC,iCGtCD,iDHwCC,CAIF,+BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-text-width: 18em;\n}\n\n.ck.ck-input-text {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-text-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-text-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-text-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(var(--ck-font-size-tiny)*0.5);line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*0.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*0.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,yEACD,CAEA,0BCHC,eD4GD,CAzGA,2FCCE,qCDwGF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAWC,mBAAoB,CACpB,oBAAqB,CAGrB,6DAA+D,CAE/D,yDAA0D,CAC1D,4CAA8C,CAC9C,kBAAoB,CACpB,eAAmB,CAGnB,sBAAuB,CACvB,eAAgB,CAEhB,cAAe,CAEf,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,wSAGE,yFAYF,CAfA,wSAOE,kGAQF,CAfA,oRAWC,iEAAkE,CAElE,sBAAuB,CACvB,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-spacing-medium), calc(0.6 * var(--ck-font-size-base))) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-spacing-medium)), calc(0.6 * var(--ck-font-size-base))) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCJC,eD4ID,CAxIA,iFCAE,qCDwIF,CAxIA,qBENC,oCAA8B,CFU9B,eAAgB,CAEhB,2CAA4C,CAC5C,6CAiID,CA9HE,+GAEC,OAAQ,CACR,QAAS,CACT,kBACD,CAIA,uFAEC,oDAAoH,CAApH,kDAAoH,CAApH,qDAAoH,CAApH,kBACD,CAEA,4CACC,gDACD,CAEA,uFAHC,6BAA8E,CAA9E,8BAA8E,CAA9E,4BAMD,CAHA,2CACC,oDAAkF,CAClF,yCACD,CAIA,uFAEC,oDAAoH,CAApH,qBAAoH,CAApH,qDAAoH,CAApH,+CACD,CAEA,4CACC,6CAAkE,CAClE,uDACD,CAEA,uFAJC,6BAAkE,CAAlE,+BAAkE,CAAlE,8BAOD,CAHA,2CACC,iDAAkF,CAClF,4CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,8CACD,CAIA,2GAEC,+CAAkD,CAClD,8CACD,CAIA,2GAEC,gDAAmD,CACnD,8CACD,CAIA,6GAEC,SAAU,CACV,uDAA0D,CAC1D,8CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,8CACD,CAIA,6GAEC,SAAU,CACV,uDAA0D,CAC1D,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCACC,oCAAqC,CACrC,kCAAmC,CACnC,qCACD,CAGA,iEACC,uCAAwC,CAGxC,mCACD,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBCJC,oCAA8B,CDO9B,eAAgB,CAEhB,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CAEtC,UAAW,CACX,WACD,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDACC,yBAA0B,CAC1B,cAAe,CACf,KACD,CAEA,kEACC,QAAS,CACT,iBACD,CCPA,qDCCA,oCAA8B,CDE7B,sBAAuB,CACvB,wBAAyB,CACzB,yBACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDACC,iBAAkB,CAClB,MAAO,CACP,OAAQ,CACR,8BAA+B,CAG/B,mBACD,CAKA,wCACC,YACD,CClBA,qDACC,WAAY,CACZ,6CACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAEC,eAAgB,CAGhB,mBAAoB,CACpB,kBAAmB,CAEnB,aAAc,CACd,cAAe,CACf,iBAAkB,CAClB,0BACD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck-content pre{padding:1em;color:#353535;background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;text-align:left;direction:ltr;tab-size:4;white-space:pre-wrap;font-style:normal;min-width:200px}.ck-content pre code{background:unset;padding:0;border-radius:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{top:-1px;right:10px;background:var(--ck-color-code-block-label-background);font-size:10px;font-family:var(--ck-font-face);line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);color:#fff;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-code-block/codeblock.css"],names:[],mappings:"AAKA,gBACC,WAAY,CACZ,aAAwB,CACxB,4BAAiC,CACjC,wBAAiC,CACjC,iBAAkB,CAGlB,eAAgB,CAChB,aAAc,CAEd,UAAW,CACX,oBAAqB,CAGrB,iBAAkB,CAGlB,eAOD,CALC,qBACC,gBAAiB,CACjB,SAAU,CACV,eACD,CAGD,4BACC,iBAMD,CAJC,iDACC,2BAA4B,CAC5B,iBACD,CCjCD,MACC,8CACD,CAEA,iDACC,QAAS,CACT,UAAW,CACX,sDAAuD,CAEvD,cAAe,CACf,+BAAgC,CAChC,gBAAiB,CACjB,uDAAwD,CACxD,UAAuB,CACvB,kBACD,CAEA,+CAEC,gBAAiB,CACjB,eAAgB,CAChB,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content pre {\n\tpadding: 1em;\n\tcolor: hsl(0, 0%, 20.8%);\n\tbackground: hsla(0, 0%, 78%, 0.3);\n\tborder: 1px solid hsl(0, 0%, 77%);\n\tborder-radius: 2px;\n\n\t/* Code block are language direction\u2013agnostic. */\n\ttext-align: left;\n\tdirection: ltr;\n\n\ttab-size: 4;\n\twhite-space: pre-wrap;\n\n\t/* Don't inherit the style, e.g. when in a block quote. */\n\tfont-style: normal;\n\n\t/* Don't let the code be squashed e.g. when in a table cell. */\n\tmin-width: 200px;\n\n\t& code {\n\t\tbackground: unset;\n\t\tpadding: 0;\n\t\tborder-radius: 0;\n\t}\n}\n\n.ck.ck-editor__editable pre {\n\tposition: relative;\n\n\t&[data-language]::after {\n\t\tcontent: attr(data-language);\n\t\tposition: absolute;\n\t}\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-code-block-label-background: hsl(0, 0%, 46%);\n}\n\n.ck.ck-editor__editable pre[data-language]::after {\n\ttop: -1px;\n\tright: 10px;\n\tbackground: var(--ck-color-code-block-label-background);\n\n\tfont-size: 10px;\n\tfont-family: var(--ck-font-face);\n\tline-height: 16px;\n\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-medium);\n\tcolor: hsl(0, 0%, 100%);\n\twhite-space: nowrap;\n}\n\n.ck.ck-code-block-dropdown .ck-dropdown__panel {\n\t/* There could be dozens of languages available. Use scroll to prevent a 10e6px dropdown. */\n\tmax-height: 250px;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,'.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CACd,iBAAkB,CAClB,eAAgB,CAChB,2BAwBD,CAtBC,mDACC,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,qCACD,CAEA,qFAEC,iDAAoD,CACpD,kBAAoB,CAEpB,0BACD,CAEA,oFAEC,oDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CACd,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,qCACD,CAMD,2EACC,YAAa,CACb,iBAAkB,CAClB,MAAO,CACP,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHACC,qDAA0D,CAC1D,aACD,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CACC,8CAA+C,CAC/C,+CAAgD,CAChD,oDAAqD,CACrD,mBAAoB,CACpB,uMAAyM,CAb1M,SAAU,CACV,mBA0DA,CA1CC,mDACC,UAAW,CACX,UAAW,CACX,8BAA+B,CAC/B,6BAA8B,CAC9B,cAgBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLACC,0DAA2D,CAC3D,2DAA4D,CAC5D,mBAAoB,CACpB,uEACD,CAOD,8GACC,gBACD,CAKA,mDACC,mBAAoB,CACpB,UAAW,CACX,mFAAoF,CAMpF,oCAAwC,CACxC,oCACD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CASE,0jBACC,SACD,CASF,mPACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CACtD,0CAA2C,CAC3C,qDAAsD,CACtD,6CAA8C,CAC9C,kCAAmC,CACnC,aAAc,CACd,+BA4BD,CA1BC,gLAIC,iBACD,CAEA,0CACC,oCAAqC,CACrC,qCACD,CAEA,2CACC,oCAAqC,CACrC,sCACD,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CCtED,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eACC,gDAAiD,CACjD,mBAAoB,CACpB,yBAA0B,CAC1B,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGC/BA,YAAa,CACb,2BAA2B,CCF3B,qCAA8B,CFqC7B,iEACD,CAIA,4EACC,WAAY,CACZ,qBAAsB,CAGtB,4BAA6B,CAC7B,SAAU,CAMV,6SAG6F,CAG7F,iEAAkE,CAGlE,2BAA4B,CAC5B,mDAqBD,CAnBC,qFAEC,wCAAyC,CACzC,yCAA0C,CAC1C,oDASD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFACC,SAAU,CACV,oDACD,CAKC,oMACC,SAAU,CACV,6CAMD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: var(--ck-spacing-small);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-bottom:0 solid transparent;border-right:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CACf,iBAAkB,CAClB,mBAMD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEACC,4DAA8D,CAC9D,yDAA2D,CAC3D,sDAAuD,CACvD,gDAAiD,CACjD,gBAkBD,CAfC,yEACC,UAAW,CACX,OAAQ,CACR,QAAS,CAET,aAAc,CACd,iBAAkB,CAClB,QAAS,CACT,yDAA2D,CAE3D,0BAA2B,CAG3B,iFAAmB,CAAnB,iCAAmB,CAAnB,kFAAmB,CAAnB,uGACD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontcolor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-font/fontcolor.css"],names:[],mappings:"AAKA,4CACC,YAAa,CACb,kBAAmB,CACnB,UACD,CAEA,8BACC,iBACD,CCNA,4CACC,qEAAyE,CACzE,2BAA4B,CAC5B,4BAeD,CAbC,wDACC,mDACD,CAEA,kEAEE,uCAMF,CARA,kEAME,sCAEF",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-button.ck-color-table__remove-color {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n}\n\nlabel.ck.ck-color-grid__label {\n\tfont-weight: unset;\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck .ck-button.ck-color-table__remove-color {\n\tpadding: calc(var(--ck-spacing-standard) / 2 ) var(--ck-spacing-standard);\n\tborder-bottom-left-radius: 0;\n\tborder-bottom-right-radius: 0;\n\n\t&:not(:focus) {\n\t\tborder-bottom: 1px solid var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-right: var(--ck-spacing-standard);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */\n\n/* Styles should be prefixed with the `.ck-content` class.\nSee https://github.com/ckeditor/ckeditor5/issues/6636 */\n.ck-content {\n\t& .text-tiny {\n\t\tfont-size: .7em;\n\t}\n\n\t& .text-small {\n\t\tfont-size: .85em;\n\t}\n\n\t& .text-big {\n\t\tfont-size: 1.4em;\n\t}\n\n\t& .text-huge {\n\t\tfont-size: 1.8em;\n\t}\n}\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{color:var(--ck-highlight-pen-red);background-color:transparent}.ck-content .pen-green{color:var(--ck-highlight-pen-green);background-color:transparent}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-highlight/theme/highlight.css"],names:[],mappings:"AAKA,MACC,oCAA+C,CAC/C,mCAA+C,CAC/C,kCAA8C,CAC9C,kCAA8C,CAC9C,8BAAwC,CACxC,gCACD,CAGC,2BACC,kDACD,CAFA,0BACC,iDACD,CAFA,yBACC,gDACD,CAFA,yBACC,gDACD,CAIA,qBACC,iCAAqC,CAGrC,4BACD,CALA,uBACC,mCAAqC,CAGrC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-highlight-marker-yellow: hsl(60, 97%, 73%);\n\t--ck-highlight-marker-green: hsl(120, 93%, 68%);\n\t--ck-highlight-marker-pink: hsl(345, 96%, 73%);\n\t--ck-highlight-marker-blue: hsl(201, 97%, 72%);\n\t--ck-highlight-pen-red: hsl(0, 85%, 49%);\n\t--ck-highlight-pen-green: hsl(112, 100%, 27%);\n}\n\n@define-mixin highlight-marker-color $color {\n\t.ck-content .marker-$color {\n\t\tbackground-color: var(--ck-highlight-marker-$color);\n\t}\n}\n\n@define-mixin highlight-pen-color $color {\n\t.ck-content .pen-$color {\n\t\tcolor: var(--ck-highlight-pen-$color);\n\n\t\t/* Override default yellow background of `<mark>` from user agent stylesheet */\n\t\tbackground-color: transparent;\n\t}\n}\n\n@mixin highlight-marker-color yellow;\n@mixin highlight-marker-color green;\n@mixin highlight-marker-color pink;\n@mixin highlight-marker-color blue;\n\n@mixin highlight-pen-color red;\n@mixin highlight-pen-color green;\n"],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDACD,CAMA,4BACC,8CACD,CAGA,sCACC,WAAY,CACZ,gDAAiD,CACjD,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,'.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-text-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAOA,mCACC,UAAW,CACX,OAAQ,CACR,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAC5B,8BAA+B,CAC/B,SACD,CCTC,oCDaC,wCACC,UAAW,CACX,OAAQ,CACR,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAC5B,8BAA+B,CAC/B,SACD,CCnBD,CCAD,qDACC,kDACD,CAEA,uBACC,+BAkED,CAhEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,0CA6CF,CA3CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAID,iGAEC,kCAAmC,CACnC,kCAAmC,CAEnC,eAAgB,CAChB,QAAS,CACT,gDAaD,CApBA,0OAcE,aAMF,CAGC,yMACC,kDACD,CDpEF",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button::after {\n\tcontent: "";\n\twidth: 0;\n\tposition: absolute;\n\tright: -1px;\n\ttop: var(--ck-spacing-small);\n\tbottom: var(--ck-spacing-small);\n\tz-index: 1;\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\tposition: absolute;\n\t\t\tright: -1px;\n\t\t\ttop: var(--ck-spacing-small);\n\t\t\tbottom: var(--ck-spacing-small);\n\t\t\tz-index: 1;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-text-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t\tborder-radius: 0;\n\t\t\tborder: 0;\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCACC,SAAU,CACV,oCA8CD,CA5CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CACC,kCAAmC,CACnC,QAAS,CACT,eAAgB,CAChB,QAAS,CACT,gDAAiD,CACjD,SAaD,CAnBA,4GAaE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAWD,CATC,wEACC,QAAS,CACT,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-text-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\tborder-radius: 0;\n\t\tborder: 0;\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\twidth: 50%;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]),U.a=V},function(X,U,E){"use strict";var H=E(2),q=E.n(H),G=E(3),V=E.n(G)()(q.a);V.push([X.i,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCKA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EACC,kCAAmC,CACnC,kCAAmC,CACnC,sBAAuB,CACvB,cAAe,CAIf,oCAAqC,CACrC,aAAc,CACd,iBAKD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDvDD,oCC2DC,wDACC,8DAMD,CAJC,0EACC,WAAY,CACZ,cACD,CAGD,gJAME,aAEF,CD1ED",sourcesContent:['/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-text-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]),U.a=V},function(X,U){var E;E=function(){return this}();try{E=E||new Function("return this")()}catch(H){"object"==typeof window&&(E=window)}X.exports=E},function(X,U,E){"use strict";U.a=function(){return!1}},function(X,U,E){"use strict";E.r(U);class q{constructor(i,o){this.source=i,this.name=o,this.path=[],this.stop=function l(){l.called=!0},this.off=function l(){l.called=!0}}}const G=new Array(256).fill().map((l,i)=>("0"+i.toString(16)).slice(-2));function V(){const l=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+G[l>>0&255]+G[l>>8&255]+G[l>>16&255]+G[l>>24&255]+G[i>>0&255]+G[i>>8&255]+G[i>>16&255]+G[i>>24&255]+G[o>>0&255]+G[o>>8&255]+G[o>>16&255]+G[o>>24&255]+G[a>>0&255]+G[a>>8&255]+G[a>>16&255]+G[a>>24&255]}var fe={get(l){return"number"!=typeof l?this[l]||this.normal:l},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},S=(E(8),E(0));const me=Symbol("listeningTo"),gt=Symbol("emitterId");var Oe={on(l,i,o={}){this.listenTo(this,l,i,o)},once(l,i,o){let a=!1;this.listenTo(this,l,function(d,...u){a||(a=!0,d.off(),i.call(this,d,...u))},o)},off(l,i){this.stopListening(this,l,i)},listenTo(l,i,o,a={}){let d,u;this[me]||(this[me]={});const f=this[me];$i(l)||mt(l);const g=$i(l);var _,C,w,D;(d=f[g])||(d=f[g]={emitter:l,callbacks:{}}),(u=d.callbacks[i])||(u=d.callbacks[i]=[]),u.push(o),C=i,w=o,D=a,(_=l)._addEventListener?_._addEventListener(C,w,D):this._addEventListener.call(_,C,w,D)},stopListening(l,i,o){const a=this[me];let d=l&&$i(l);const u=a&&d&&a[d],f=u&&i&&u.callbacks[i];if(!(!a||l&&!u||i&&!f))if(o)Ne(this,l,i,o),-1!==f.indexOf(o)&&(1===f.length?delete u.callbacks[i]:Ne(this,l,i,o));else if(f){for(;o=f.pop();)Ne(this,l,i,o);delete u.callbacks[i]}else if(u){for(i in u.callbacks)this.stopListening(l,i);delete a[d]}else{for(d in a)this.stopListening(a[d].emitter);delete this[me]}},fire(l,...i){try{const o=l instanceof q?l:new q(this,l),a=o.name;let d=As(this,a);if(o.path.push(this),d){const u=[o,...i];d=Array.from(d);for(let f=0;f<d.length&&(d[f].callback.apply(this,u),o.off.called&&(delete o.off.called,this._removeEventListener(a,d[f].callback)),!o.stop.called);f++);}if(this._delegations){const u=this._delegations.get(a),f=this._delegations.get("*");u&&ke(u,o,i),f&&ke(f,o,i)}return o.return}catch(o){S.a.rethrowUnexpectedError(o,this)}},delegate(...l){return{to:(i,o)=>{this._delegations||(this._delegations=new Map),l.forEach(a=>{const d=this._delegations.get(a);d?d.set(i,o):this._delegations.set(a,new Map([[i,o]]))})}}},stopDelegating(l,i){if(this._delegations)if(l)if(i){const o=this._delegations.get(l);o&&o.delete(i)}else this._delegations.delete(l);else this._delegations.clear()},_addEventListener(l,i,o){!function(f,g){const b=Zr(f);if(b[g])return;let _=g,C=null;const w=[];for(;""!==_&&!b[_];)b[_]={callbacks:[],childEvents:[]},w.push(b[_]),C&&b[_].childEvents.push(C),C=_,_=_.substr(0,_.lastIndexOf(":"));if(""!==_){for(const D of w)D.callbacks=b[_].callbacks.slice();b[_].childEvents.push(C)}}(this,l);const a=So(this,l),d=fe.get(o.priority),u={callback:i,priority:d};for(const f of a){let g=!1;for(let b=0;b<f.length;b++)if(f[b].priority<d){f.splice(b,0,u),g=!0;break}g||f.push(u)}},_removeEventListener(l,i){const o=So(this,l);for(const a of o)for(let d=0;d<a.length;d++)a[d].callback==i&&(a.splice(d,1),d--)}};function mt(l,i){l[gt]||(l[gt]=i||V())}function $i(l){return l[gt]}function Zr(l){return l._events||Object.defineProperty(l,"_events",{value:{}}),l._events}function So(l,i){const o=Zr(l)[i];if(!o)return[];let a=[o.callbacks];for(let d=0;d<o.childEvents.length;d++){const u=So(l,o.childEvents[d]);a=a.concat(u)}return a}function As(l,i){let o;return l._events&&(o=l._events[i])&&o.callbacks.length?o.callbacks:i.indexOf(":")>-1?As(l,i.substr(0,i.lastIndexOf(":"))):null}function ke(l,i,o){for(let[a,d]of l){d?"function"==typeof d&&(d=d(i.name)):d=i.name;const u=new q(i.source,d);u.path=[...i.path],a.fire(u,...o)}}function Ne(l,i,o,a){i._removeEventListener?i._removeEventListener(o,a):l._removeEventListener.call(i,o,a)}var Wl,l,i,o,pe=function(l){var i=typeof l;return null!=l&&("object"==i||"function"==i)},qe=E(5),ot=qe.a.Symbol,Pt=Object.prototype,Vt=Pt.hasOwnProperty,rr=Pt.toString,ai=ot?ot.toStringTag:void 0,Ni=Object.prototype.toString,$l=ot?ot.toStringTag:void 0,Ke=function(l){return null==l?void 0===l?"[object Undefined]":"[object Null]":$l&&$l in Object(l)?function(l){var i=Vt.call(l,ai),o=l[ai];try{l[ai]=void 0;var a=!0}catch(u){}var d=rr.call(l);return a&&(i?l[ai]=o:delete l[ai]),d}(l):function(l){return Ni.call(l)}(l)},To=function(l){if(!pe(l))return!1;var i=Ke(l);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i},ql=qe.a["__core-js_shared__"],D3=(Wl=/[^.]+$/.exec(ql&&ql.keys&&ql.keys.IE_PROTO||""))?"Symbol(src)_1."+Wl:"",x3=Function.prototype.toString,Yr=function(l){if(null!=l){try{return x3.call(l)}catch(i){}try{return l+""}catch(i){}}return""},Ut=/^\[object .+?Constructor\]$/,M3=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vm=function(l){return!(!pe(l)||function(l){return!!D3&&D3 in l}(l))&&(To(l)?M3:Ut).test(Yr(l))},Ds=function(l,i){var o=function(l,i){return null==l?void 0:l[i]}(l,i);return Vm(o)?o:void 0},Jl=function(){try{var l=Ds(Object,"defineProperty");return l({},"",{}),l}catch(i){}}(),Zl=function(l,i,o){"__proto__"==i&&Jl?Jl(l,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):l[i]=o},Cc=function(l,i){return l===i||l!=l&&i!=i},E3=Object.prototype.hasOwnProperty,S3=function(l,i,o){var a=l[i];E3.call(l,i)&&Cc(a,o)&&(void 0!==o||i in l)||Zl(l,i,o)},Io=function(l,i,o,a){var d=!o;o||(o={});for(var u=-1,f=i.length;++u<f;){var g=i[u],b=a?a(o[g],l[g],g,o,l):void 0;void 0===b&&(b=l[g]),d?Zl(o,g,b):S3(o,g,b)}return o},N3=function(l){return l},Hm=function(l,i,o){switch(o.length){case 0:return l.call(i);case 1:return l.call(i,o[0]);case 2:return l.call(i,o[0],o[1]);case 3:return l.call(i,o[0],o[1],o[2])}return l.apply(i,o)},E5=Math.max,Po=function(l){return function(){return l}},S5=Jl?function(l,i){return Jl(l,"toString",{configurable:!0,enumerable:!1,value:Po(i),writable:!0})}:N3,jm=Date.now,N5=(l=S5,i=0,o=0,function(){var a=jm(),d=16-(a-o);if(o=a,d>0){if(++i>=800)return arguments[0]}else i=0;return l.apply(void 0,arguments)}),Gm=function(l,i){return N5(function(l,i,o){return i=E5(void 0===i?l.length-1:i,0),function(){for(var a=arguments,d=-1,u=E5(a.length-i,0),f=Array(u);++d<u;)f[d]=a[i+d];d=-1;for(var g=Array(i+1);++d<i;)g[d]=a[d];return g[i]=o(f),Hm(l,this,g)}}(l,i,N3),l+"")},T3=function(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=9007199254740991},Yl=function(l){return null!=l&&T3(l.length)&&!To(l)},Um=/^(?:0|[1-9]\d*)$/,I3=function(l,i){var o=typeof l;return!!(i=null==i?9007199254740991:i)&&("number"==o||"symbol"!=o&&Um.test(l))&&l>-1&&l%1==0&&l<i},kc=function(l){return Gm(function(i,o){var a=-1,d=o.length,u=d>1?o[d-1]:void 0,f=d>2?o[2]:void 0;for(u=l.length>3&&"function"==typeof u?(d--,u):void 0,f&&function(l,i,o){if(!pe(o))return!1;var a=typeof i;return!!("number"==a?Yl(o)&&I3(i,o.length):"string"==a&&i in o)&&Cc(o[i],l)}(o[0],o[1],f)&&(u=d<3?void 0:u,d=1),i=Object(i);++a<d;){var g=o[a];g&&l(i,g,a,u)}return i})},ci=function(l){return null!=l&&"object"==typeof l},Ql=function(l){return ci(l)&&"[object Arguments]"==Ke(l)},Xl=Object.prototype,T5=Xl.hasOwnProperty,z3=Xl.propertyIsEnumerable,wc=Ql(function(){return arguments}())?Ql:function(l){return ci(l)&&T5.call(l,"callee")&&!z3.call(l,"callee")},Ln=Array.isArray,xs=E(6),Ve={};Ve["[object Float32Array]"]=Ve["[object Float64Array]"]=Ve["[object Int8Array]"]=Ve["[object Int16Array]"]=Ve["[object Int32Array]"]=Ve["[object Uint8Array]"]=Ve["[object Uint8ClampedArray]"]=Ve["[object Uint16Array]"]=Ve["[object Uint32Array]"]=!0,Ve["[object Arguments]"]=Ve["[object Array]"]=Ve["[object ArrayBuffer]"]=Ve["[object Boolean]"]=Ve["[object DataView]"]=Ve["[object Date]"]=Ve["[object Error]"]=Ve["[object Function]"]=Ve["[object Map]"]=Ve["[object Number]"]=Ve["[object Object]"]=Ve["[object RegExp]"]=Ve["[object Set]"]=Ve["[object String]"]=Ve["[object WeakMap]"]=!1;var e0=function(l){return function(i){return l(i)}},Ms=E(7),O3=Ms.a&&Ms.a.isTypedArray,yc=O3?e0(O3):function(l){return ci(l)&&T3(l.length)&&!!Ve[Ke(l)]},P5=Object.prototype.hasOwnProperty,L3=function(l,i){var o=Ln(l),a=!o&&wc(l),d=!o&&!a&&Object(xs.a)(l),u=!o&&!a&&!d&&yc(l),f=o||a||d||u,g=f?function(l,i){for(var o=-1,a=Array(l);++o<l;)a[o]=i(o);return a}(l.length,String):[],b=g.length;for(var _ in l)!i&&!P5.call(l,_)||f&&("length"==_||d&&("offset"==_||"parent"==_)||u&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||I3(_,b))||g.push(_);return g},Dr=Object.prototype,t0=function(l){var i=l&&l.constructor;return l===("function"==typeof i&&i.prototype||Dr)},La=Object.prototype.hasOwnProperty,Wi=function(l){if(!pe(l))return function(l){var i=[];if(null!=l)for(var o in Object(l))i.push(o);return i}(l);var i=t0(l),o=[];for(var a in l)("constructor"!=a||!i&&La.call(l,a))&&o.push(a);return o},Ra=function(l){return Yl(l)?L3(l,!0):Wi(l)},Va=kc(function(l,i){Io(i,Ra(i),l)});const Fa=Symbol("observableProperties"),Es=Symbol("boundObservables"),zo=Symbol("boundProperties"),or=Symbol("decoratedMethods"),R3=Symbol("decoratedOriginal"),Ac={set(l,i){if(pe(l))return void Object.keys(l).forEach(a=>{this.set(a,l[a])},this);V3(this);const o=this[Fa];if(l in this&&!o.has(l))throw new S.a("observable-set-cannot-override",this);Object.defineProperty(this,l,{enumerable:!0,configurable:!0,get:()=>o.get(l),set(a){const d=o.get(l);let u=this.fire("set:"+l,l,a,d);void 0===u&&(u=a),d===u&&o.has(l)||(o.set(l,u),this.fire("change:"+l,l,u,d))}}),this[l]=i},bind(...l){if(!l.length||!F3(l))throw new S.a("observable-bind-wrong-properties",this);if(new Set(l).size!==l.length)throw new S.a("observable-bind-duplicate-properties",this);V3(this);const i=this[zo];l.forEach(a=>{if(i.has(a))throw new S.a("observable-bind-rebind",this)});const o=new Map;return l.forEach(a=>{const d={property:a,to:[]};i.set(a,d),o.set(a,d)}),{to:z5,toMany:O5,_observable:this,_bindProperties:l,_to:[],_bindings:o}},unbind(...l){if(!this[Fa])return;const i=this[zo],o=this[Es];if(l.length){if(!F3(l))throw new S.a("observable-unbind-wrong-properties",this);l.forEach(a=>{const d=i.get(a);if(!d)return;let u,f,g,b;d.to.forEach(_=>{u=_[0],f=_[1],g=o.get(u),b=g[f],b.delete(d),b.size||delete g[f],Object.keys(g).length||(o.delete(u),this.stopListening(u,"change"))}),i.delete(a)})}else o.forEach((a,d)=>{this.stopListening(d,"change")}),o.clear(),i.clear()},decorate(l){const i=this[l];if(!i)throw new S.a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:l});this.on(l,(o,a)=>{o.return=i.apply(this,a)}),this[l]=function(...o){return this.fire(l,o)},this[l][R3]=i,this[or]||(this[or]=[]),this[or].push(l)}};Va(Ac,Oe),Ac.stopListening=function(l,i,o){if(!l&&this[or]){for(const a of this[or])this[a]=this[a][R3];delete this[or]}Oe.stopListening.call(this,l,i,o)};var ln=Ac;function V3(l){l[Fa]||(Object.defineProperty(l,Fa,{value:new Map}),Object.defineProperty(l,Es,{value:new Map}),Object.defineProperty(l,zo,{value:new Map}))}function z5(...l){const i=function(...u){if(!u.length)throw new S.a("observable-bind-to-parse-error",null);const f={to:[]};let g;return"function"==typeof u[u.length-1]&&(f.callback=u.pop()),u.forEach(b=>{if("string"==typeof b)g.properties.push(b);else{if("object"!=typeof b)throw new S.a("observable-bind-to-parse-error",null);g={observable:b,properties:[]},f.to.push(g)}}),f}(...l),o=Array.from(this._bindings.keys()),a=o.length;if(!i.callback&&i.to.length>1)throw new S.a("observable-bind-to-no-callback",this);if(a>1&&i.callback)throw new S.a("observable-bind-to-extra-callback",this);var d;i.to.forEach(u=>{if(u.properties.length&&u.properties.length!==a)throw new S.a("observable-bind-to-properties-length",this);u.properties.length||(u.properties=this._bindProperties)}),this._to=i.to,i.callback&&(this._bindings.get(o[0]).callback=i.callback),d=this._observable,this._to.forEach(u=>{const f=d[Es];let g;f.get(u.observable)||d.listenTo(u.observable,"change",(b,_)=>{g=f.get(u.observable)[_],g&&g.forEach(C=>{n0(d,C.property)})})}),function(u){let f;u._bindings.forEach((g,b)=>{u._to.forEach(_=>{f=_.properties[g.callback?0:u._bindProperties.indexOf(b)],g.to.push([_.observable,f]),function(C,w,D,x){const T=C[Es],R=T.get(D),L=R||{};L[x]||(L[x]=new Set),L[x].add(w),R||T.set(D,L)}(u._observable,g,_.observable,f)})})}(this),this._bindProperties.forEach(u=>{n0(this._observable,u)})}function O5(l,i,o){if(this._bindings.size>1)throw new S.a("observable-bind-to-many-not-one-binding",this);this.to(...function(a,d){const u=a.map(f=>[f,d]);return Array.prototype.concat.apply([],u)}(l,i),o)}function F3(l){return l.every(i=>"string"==typeof i)}function n0(l,i){const o=l[zo].get(i);let a;o.callback?a=o.callback.apply(l,o.to.map(d=>d[0][d[1]])):(a=o.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(l,i)?l[i]=a:l.set(i,a)}function Ee(l,...i){i.forEach(o=>{Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o)).forEach(a=>{if(a in l.prototype)return;const d=Object.getOwnPropertyDescriptor(o,a);d.enumerable=!1,Object.defineProperty(l.prototype,a,d)})})}class le{constructor(i){this.editor=i,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(i){this._disableStack.add(i),1==this._disableStack.size&&(this.on("set:isEnabled",dn,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),0==this._disableStack.size&&(this.off("set:isEnabled",dn),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function dn(l){l.return=!1,l.stop()}Ee(le,ln);class zt{constructor(i){this.editor=i,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",o=>{this.isEnabled||o.stop()},{priority:"high"}),this.listenTo(i,"change:isReadOnly",(o,a,d)=>{d?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(i){this._disableStack.add(i),1==this._disableStack.size&&(this.on("set:isEnabled",Rn,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),0==this._disableStack.size&&(this.off("set:isEnabled",Rn),this.refresh())}execute(){}destroy(){this.stopListening()}}function Rn(l){l.return=!1,l.stop()}Ee(zt,ln);class H3 extends zt{constructor(i){super(i),this._childCommands=[]}refresh(){}execute(...i){const o=this._getFirstEnabledCommand();return null!=o&&o.execute(i)}registerChildCommand(i){this._childCommands.push(i),i.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(i=>i.isEnabled)}}var Dc=function(l,i){return function(o){return l(i(o))}},ut=Dc(Object.getPrototypeOf,Object),xc=Function.prototype.toString,L5=Object.prototype.hasOwnProperty,nt=xc.call(Object),we=function(l){if(!ci(l)||"[object Object]"!=Ke(l))return!1;var i=ut(l);if(null===i)return!0;var o=L5.call(i,"constructor")&&i.constructor;return"function"==typeof o&&o instanceof o&&xc.call(o)==nt},o0=function(l,i){for(var o=l.length;o--;)if(Cc(l[o][0],i))return o;return-1},li=Array.prototype.splice;function Ss(l){var i=-1,o=null==l?0:l.length;for(this.clear();++i<o;){var a=l[i];this.set(a[0],a[1])}}Ss.prototype.clear=function(){this.__data__=[],this.size=0},Ss.prototype.delete=function(l){var i=this.__data__,o=o0(i,l);return!(o<0||(o==i.length-1?i.pop():li.call(i,o,1),--this.size,0))},Ss.prototype.get=function(l){var i=this.__data__,o=o0(i,l);return o<0?void 0:i[o][1]},Ss.prototype.has=function(l){return o0(this.__data__,l)>-1},Ss.prototype.set=function(l,i){var o=this.__data__,a=o0(o,l);return a<0?(++this.size,o.push([l,i])):o[a][1]=i,this};var a0=Ss,Ha=Ds(qe.a,"Map"),Ec=Ds(Object,"create"),Zm=Object.prototype.hasOwnProperty,Qm=Object.prototype.hasOwnProperty;function Ns(l){var i=-1,o=null==l?0:l.length;for(this.clear();++i<o;){var a=l[i];this.set(a[0],a[1])}}Ns.prototype.clear=function(){this.__data__=Ec?Ec(null):{},this.size=0},Ns.prototype.delete=function(l){var i=this.has(l)&&delete this.__data__[l];return this.size-=i?1:0,i},Ns.prototype.get=function(l){var i=this.__data__;if(Ec){var o=i[l];return"__lodash_hash_undefined__"===o?void 0:o}return Zm.call(i,l)?i[l]:void 0},Ns.prototype.has=function(l){var i=this.__data__;return Ec?void 0!==i[l]:Qm.call(i,l)},Ns.prototype.set=function(l,i){var o=this.__data__;return this.size+=this.has(l)?0:1,o[l]=Ec&&void 0===i?"__lodash_hash_undefined__":i,this};var V5=Ns,c0=function(l,i){var o=l.__data__;return function(l){var i=typeof l;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==l:null===l}(i)?o["string"==typeof i?"string":"hash"]:o.map};function je(l){var i=-1,o=null==l?0:l.length;for(this.clear();++i<o;){var a=l[i];this.set(a[0],a[1])}}je.prototype.clear=function(){this.size=0,this.__data__={hash:new V5,map:new(Ha||a0),string:new V5}},je.prototype.delete=function(l){var i=c0(this,l).delete(l);return this.size-=i?1:0,i},je.prototype.get=function(l){return c0(this,l).get(l)},je.prototype.has=function(l){return c0(this,l).has(l)},je.prototype.set=function(l,i){var o=c0(this,l),a=o.size;return o.set(l,i),this.size+=o.size==a?0:1,this};var Ts=je;function Is(l){var i=this.__data__=new a0(l);this.size=i.size}Is.prototype.clear=function(){this.__data__=new a0,this.size=0},Is.prototype.delete=function(l){var i=this.__data__,o=i.delete(l);return this.size=i.size,o},Is.prototype.get=function(l){return this.__data__.get(l)},Is.prototype.has=function(l){return this.__data__.has(l)},Is.prototype.set=function(l,i){var o=this.__data__;if(o instanceof a0){var a=o.__data__;if(!Ha||a.length<199)return a.push([l,i]),this.size=++o.size,this;o=this.__data__=new Ts(a)}return o.set(l,i),this.size=o.size,this};var Ba=Is,Sc=Dc(Object.keys,Object),l0=Object.prototype.hasOwnProperty,d0=function(l){return Yl(l)?L3(l):function(l){if(!t0(l))return Sc(l);var i=[];for(var o in Object(l))l0.call(l,o)&&"constructor"!=o&&i.push(o);return i}(l)},$3=E(10),Mr=function(l,i){var o=-1,a=l.length;for(i||(i=Array(a));++o<a;)i[o]=l[o];return i},F5=function(){return[]},Qr=Object.prototype.propertyIsEnumerable,Ti=Object.getOwnPropertySymbols,q3=Ti?function(l){return null==l?[]:(l=Object(l),function(l,i){for(var o=-1,a=null==l?0:l.length,d=0,u=[];++o<a;){var f=l[o];i(f,o,l)&&(u[d++]=f)}return u}(Ti(l),function(i){return Qr.call(l,i)}))}:F5,qi=function(l,i){for(var o=-1,a=i.length,d=l.length;++o<a;)l[d+o]=i[o];return l},K3=Object.getOwnPropertySymbols?function(l){for(var i=[];l;)qi(i,q3(l)),l=ut(l);return i}:F5,J3=function(l,i,o){var a=i(l);return Ln(l)?a:qi(a,o(l))},Z3=function(l){return J3(l,d0,q3)},bt=function(l){return J3(l,Ra,K3)},Y3=Ds(qe.a,"DataView"),Q3=Ds(qe.a,"Promise"),Xr=Ds(qe.a,"Set"),ht=Ds(qe.a,"WeakMap"),ja="[object Map]",Nc="[object Promise]",Tc="[object Set]",h0="[object WeakMap]",sr="[object DataView]",Ga=Yr(Y3),B5=Yr(Ha),_t=Yr(Q3),j5=Yr(Xr),X3=Yr(ht),eo=Ke;(Y3&&eo(new Y3(new ArrayBuffer(1)))!=sr||Ha&&eo(new Ha)!=ja||Q3&&eo(Q3.resolve())!=Nc||Xr&&eo(new Xr)!=Tc||ht&&eo(new ht)!=h0)&&(eo=function(l){var i=Ke(l),o="[object Object]"==i?l.constructor:void 0,a=o?Yr(o):"";if(a)switch(a){case Ga:return sr;case B5:return ja;case _t:return Nc;case j5:return Tc;case X3:return h0}return i});var Ps=eo,st=Object.prototype.hasOwnProperty,Ua=qe.a.Uint8Array,re=function(l){var i=new l.constructor(l.byteLength);return new Ua(i).set(new Ua(l)),i},Vn=/\w*$/,no=ot?ot.prototype:void 0,hi=no?no.valueOf:void 0,Pc=function(l,i){var o=i?re(l.buffer):l.buffer;return new l.constructor(o,l.byteOffset,l.length)},$a=function(l,i,o){var a=l.constructor;switch(i){case"[object ArrayBuffer]":return re(l);case"[object Boolean]":case"[object Date]":return new a(+l);case"[object DataView]":return function(l,i){var o=i?re(l.buffer):l.buffer;return new l.constructor(o,l.byteOffset,l.byteLength)}(l,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Pc(l,o);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(l);case"[object RegExp]":return function(l){var i=new l.constructor(l.source,Vn.exec(l));return i.lastIndex=l.lastIndex,i}(l);case"[object Symbol]":return function(l){return hi?Object(hi.call(l)):{}}(l)}},Wa=Object.create,Oo=function(){function l(){}return function(i){if(!pe(i))return{};if(Wa)return Wa(i);l.prototype=i;var o=new l;return l.prototype=void 0,o}}(),Sn=function(l){return"function"!=typeof l.constructor||t0(l)?{}:Oo(ut(l))},fi=Ms.a&&Ms.a.isMap,se=fi?e0(fi):function(l){return ci(l)&&"[object Map]"==Ps(l)},St=Ms.a&&Ms.a.isSet,pi=St?e0(St):function(l){return ci(l)&&"[object Set]"==Ps(l)},io="[object Arguments]",un="[object Function]",xe={};xe[io]=xe["[object Array]"]=xe["[object ArrayBuffer]"]=xe["[object DataView]"]=xe["[object Boolean]"]=xe["[object Date]"]=xe["[object Float32Array]"]=xe["[object Float64Array]"]=xe["[object Int8Array]"]=xe["[object Int16Array]"]=xe["[object Int32Array]"]=xe["[object Map]"]=xe["[object Number]"]=xe["[object Object]"]=xe["[object RegExp]"]=xe["[object Set]"]=xe["[object String]"]=xe["[object Symbol]"]=xe["[object Uint8Array]"]=xe["[object Uint8ClampedArray]"]=xe["[object Uint16Array]"]=xe["[object Uint32Array]"]=!0,xe["[object Error]"]=xe[un]=xe["[object WeakMap]"]=!1;var Ro=function l(i,o,a,d,u,f){var g,b=1&o,_=2&o,C=4&o;if(a&&(g=u?a(i,d,u,f):a(i)),void 0!==g)return g;if(!pe(i))return i;var w=Ln(i);if(w){if(g=function(l){var i=l.length,o=new l.constructor(i);return i&&"string"==typeof l[0]&&st.call(l,"index")&&(o.index=l.index,o.input=l.input),o}(i),!b)return Mr(i,g)}else{var D=Ps(i),x=D==un||"[object GeneratorFunction]"==D;if(Object(xs.a)(i))return Object($3.a)(i,b);if("[object Object]"==D||D==io||x&&!u){if(g=_||x?{}:Sn(i),!b)return _?function(l,i){return Io(l,K3(l),i)}(i,function(l,i){return l&&Io(i,Ra(i),l)}(g,i)):function(l,i){return Io(l,q3(l),i)}(i,function(l,i){return l&&Io(i,d0(i),l)}(g,i))}else{if(!xe[D])return u?i:{};g=$a(i,D,b)}}f||(f=new Ba);var T=f.get(i);if(T)return T;f.set(i,g),pi(i)?i.forEach(function(L){g.add(l(L,o,a,L,i,f))}):se(i)&&i.forEach(function(L,$){g.set($,l(L,o,a,$,i,f))});var R=w?void 0:(C?_?bt:Z3:_?Ra:d0)(i);return function(l,i){for(var o=-1,a=null==l?0:l.length;++o<a&&!1!==i(l[o],o,l););}(R||i,function(L,$){R&&(L=i[$=L]),S3(g,$,l(L,o,a,$,i,f))}),g},Vo=function(l,i){return Ro(l,5,i="function"==typeof i?i:void 0)},ve=function(l){return ci(l)&&1===l.nodeType&&!we(l)};class qa{constructor(i,o){this._config={},o&&this.define(Fo(o)),i&&this._setObjectToTarget(this._config,i)}set(i,o){this._setToTarget(this._config,i,o)}define(i,o){this._setToTarget(this._config,i,o,!0)}get(i){return this._getFromSource(this._config,i)}*names(){for(const i of Object.keys(this._config))yield i}_setToTarget(i,o,a,d=!1){if(we(o))return void this._setObjectToTarget(i,o,d);const u=o.split(".");o=u.pop();for(const f of u)we(i[f])||(i[f]={}),i=i[f];if(we(a))return we(i[o])||(i[o]={}),void this._setObjectToTarget(i=i[o],a,d);d&&void 0!==i[o]||(i[o]=a)}_getFromSource(i,o){const a=o.split(".");o=a.pop();for(const d of a){if(!we(i[d])){i=null;break}i=i[d]}return i?Fo(i[o]):void 0}_setObjectToTarget(i,o,a){Object.keys(o).forEach(d=>{this._setToTarget(i,d,o[d],a)})}}function Fo(l){return Vo(l,f0)}function f0(l){return ve(l)?l:void 0}function Nn(l){return!(!l||!l[Symbol.iterator])}class Nt{constructor(i={},o={}){const a=Nn(i);if(a||(o=i),this._items=[],this._itemMap=new Map,this._idProperty=o.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const d of i)this._items.push(d),this._itemMap.set(this._getItemIdBeforeAdding(d),d)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(i,o){return this.addMany([i],o)}addMany(i,o){if(void 0===o)o=this._items.length;else if(o>this._items.length||o<0)throw new S.a("collection-add-item-invalid-index",this);for(let a=0;a<i.length;a++){const d=i[a],u=this._getItemIdBeforeAdding(d),f=o+a;this._items.splice(f,0,d),this._itemMap.set(u,d),this.fire("add",d,f)}return this.fire("change",{added:i,removed:[],index:o}),this}get(i){let o;if("string"==typeof i)o=this._itemMap.get(i);else{if("number"!=typeof i)throw new S.a("collection-get-invalid-arg",this);o=this._items[i]}return o||null}has(i){return this._itemMap.has("string"==typeof i?i:i[this._idProperty])}getIndex(i){let o;return o="string"==typeof i?this._itemMap.get(i):i,this._items.indexOf(o)}remove(i){const[o,a]=this._remove(i);return this.fire("change",{added:[],removed:[o],index:a}),o}map(i,o){return this._items.map(i,o)}find(i,o){return this._items.find(i,o)}filter(i,o){return this._items.filter(i,o)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const i=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:i,index:0})}bindTo(i){if(this._bindToCollection)throw new S.a("collection-bind-to-rebind",this);return this._bindToCollection=i,{as:o=>{this._setUpBindToBinding(a=>new o(a))},using:o=>{this._setUpBindToBinding("function"==typeof o?a=>o(a):a=>a[o])}}}_setUpBindToBinding(i){const o=this._bindToCollection,a=(d,u,f)=>{const g=o._bindToCollection==this,b=o._bindToInternalToExternalMap.get(u);if(g&&b)this._bindToExternalToInternalMap.set(u,b),this._bindToInternalToExternalMap.set(b,u);else{const _=i(u);if(!_)return void this._skippedIndexesFromExternal.push(f);let C=f;for(const w of this._skippedIndexesFromExternal)f>w&&C--;for(const w of o._skippedIndexesFromExternal)C>=w&&C++;this._bindToExternalToInternalMap.set(u,_),this._bindToInternalToExternalMap.set(_,u),this.add(_,C);for(let w=0;w<o._skippedIndexesFromExternal.length;w++)C<=o._skippedIndexesFromExternal[w]&&o._skippedIndexesFromExternal[w]++}};for(const d of o)a(0,d,o.getIndex(d));this.listenTo(o,"add",a),this.listenTo(o,"remove",(d,u,f)=>{const g=this._bindToExternalToInternalMap.get(u);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((b,_)=>(f<_&&b.push(_-1),f>_&&b.push(_),b),[])})}_getItemIdBeforeAdding(i){const o=this._idProperty;let a;if(o in i){if(a=i[o],"string"!=typeof a)throw new S.a("collection-add-invalid-id",this);if(this.get(a))throw new S.a("collection-add-item-already-exists",this)}else i[o]=a=V();return a}_remove(i){let o,a,d,u=!1;const f=this._idProperty;if("string"==typeof i?(a=i,d=this._itemMap.get(a),u=!d,d&&(o=this._items.indexOf(d))):"number"==typeof i?(o=i,d=this._items[o],u=!d,d&&(a=d[f])):(d=i,a=d[f],o=this._items.indexOf(d),u=-1==o||!this._itemMap.get(a)),u)throw new S.a("collection-remove-404",this);this._items.splice(o,1),this._itemMap.delete(a);const g=this._bindToInternalToExternalMap.get(d);return this._bindToInternalToExternalMap.delete(d),this._bindToExternalToInternalMap.delete(g),this.fire("remove",d,o),[d,o]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Ee(Nt,Oe);class Ho{constructor(i,o=[],a=[]){this._context=i,this._plugins=new Map,this._availablePlugins=new Map;for(const d of o)d.pluginName&&this._availablePlugins.set(d.pluginName,d);this._contextPlugins=new Map;for(const[d,u]of a)this._contextPlugins.set(d,u),this._contextPlugins.set(u,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}*[Symbol.iterator](){for(const i of this._plugins)"function"==typeof i[0]&&(yield i)}get(i){const o=this._plugins.get(i);if(!o){let a=i;throw"function"==typeof i&&(a=i.pluginName||i.name),new S.a("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return o}has(i){return this._plugins.has(i)}init(i,o=[],a=[]){const d=this,u=this._context;(function T(R,L=new Set){R.forEach($=>{b($)&&(L.has($)||(L.add($),$.pluginName&&!d._availablePlugins.has($.pluginName)&&d._availablePlugins.set($.pluginName,$),$.requires&&T($.requires,L)))})})(i),D(i);const f=[...function T(R,L=new Set){return R.map($=>b($)?$:d._availablePlugins.get($)).reduce(($,Y)=>L.has(Y)?$:(L.add(Y),Y.requires&&(D(Y.requires,Y),T(Y.requires,L).forEach(te=>$.add(te))),$.add(Y)),new Set)}(i.filter(T=>!C(T,o)))];!function(T,R){for(const L of R){if("function"!=typeof L)throw new S.a("plugincollection-replace-plugin-invalid-type",null,{pluginItem:L});const $=L.pluginName;if(!$)throw new S.a("plugincollection-replace-plugin-missing-name",null,{pluginItem:L});if(L.requires&&L.requires.length)throw new S.a("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:$});const Y=d._availablePlugins.get($);if(!Y)throw new S.a("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:$});const te=T.indexOf(Y);if(-1===te){if(d._contextPlugins.has(Y))return;throw new S.a("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:$})}if(Y.requires&&Y.requires.length)throw new S.a("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:$});T.splice(te,1,L),d._availablePlugins.set($,L)}}(f,a);const g=f.map(R=>{const L=d._contextPlugins.get(R)||new R(u);return d._add(R,L),L});return x(g,"init").then(()=>x(g,"afterInit")).then(()=>g);function b(T){return"function"==typeof T}function _(T){return b(T)&&T.isContextPlugin}function C(T,R){return R.some(L=>L===T||w(T)===L||w(L)===T)}function w(T){return b(T)?T.pluginName||T.name:T}function D(T,R=null){T.map(L=>b(L)?L:d._availablePlugins.get(L)||L).forEach(L=>{(function($,Y){if(!b($))throw Y?new S.a("plugincollection-soft-required",u,{missingPlugin:$,requiredBy:w(Y)}):new S.a("plugincollection-plugin-not-found",u,{plugin:$})})(L,R),function($,Y){if(_(Y)&&!_($))throw new S.a("plugincollection-context-required",u,{plugin:w($),requiredBy:w(Y)})}(L,R),function($,Y){if(Y&&C($,o))throw new S.a("plugincollection-required",u,{plugin:w($),requiredBy:w(Y)})}(L,R)})}function x(T,R){return T.reduce((L,$)=>$[R]?d._contextPlugins.has($)?L:L.then($[R].bind($)):L,Promise.resolve())}}destroy(){const i=[];for(const[,o]of this)"function"!=typeof o.destroy||this._contextPlugins.has(o)||i.push(o.destroy());return Promise.all(i)}_add(i,o){this._plugins.set(i,o);const a=i.pluginName;if(a){if(this._plugins.has(a))throw new S.a("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:i});this._plugins.set(a,o)}}}function vn(l){return Array.isArray(l)?l:[l]}Ee(Ho,Oe),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const Dt=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function ed(l){return Dt.includes(l)?"rtl":"ltr"}class $5{constructor(i={}){this.uiLanguage=i.uiLanguage||"en",this.contentLanguage=i.contentLanguage||this.uiLanguage,this.uiLanguageDirection=ed(this.uiLanguage),this.contentLanguageDirection=ed(this.contentLanguage),this.t=(o,a)=>this._t(o,a)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(i,o=[]){return o=vn(o),"string"==typeof i&&(i={string:i}),d=function(l,i,o=1){if("number"!=typeof o)throw new S.a("translation-service-quantity-not-a-number",null,{quantity:o});const a=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===a&&(l=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);const d=i.id||i.string;if(0===a||(b=l,!window.CKEDITOR_TRANSLATIONS[b]||!window.CKEDITOR_TRANSLATIONS[b].dictionary[d]))return 1!==o?i.plural:i.string;var b;const u=window.CKEDITOR_TRANSLATIONS[l].dictionary,f=window.CKEDITOR_TRANSLATIONS[l].getPluralForm||(b=>1===b?0:1);if("string"==typeof u[d])return u[d];const g=Number(f(o));return u[d][g]}(this.uiLanguage,i,i.plural?o[0]:1),u=o,d.replace(/%(\d+)/g,(f,g)=>g<u.length?u[g]:f);var d,u}}class ar{constructor(i){this.config=new qa(i,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new Ho(this,o);const a=this.config.get("language")||{};this.locale=new $5({uiLanguage:"string"==typeof a?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Nt,this._contextOwner=null}initPlugins(){const i=this.config.get("plugins")||[],o=this.config.get("substitutePlugins")||[];for(const a of i.concat(o)){if("function"!=typeof a)throw new S.a("context-initplugins-constructor-only",null,{Plugin:a});if(!0!==a.isContextPlugin)throw new S.a("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(i,[],o)}destroy(){return Promise.all(Array.from(this.editors,i=>i.destroy())).then(()=>this.plugins.destroy())}_addEditor(i,o){if(this._contextOwner)throw new S.a("context-addeditor-private-context");this.editors.add(i),o&&(this._contextOwner=i)}_removeEditor(i){return this.editors.has(i)&&this.editors.remove(i),this._contextOwner===i?this.destroy():Promise.resolve()}_getEditorConfig(){const i={};for(const o of this.config.names())["plugins","removePlugins","extraPlugins"].includes(o)||(i[o]=this.config.get(o));return i}static create(i){return new Promise(o=>{const a=new this(i);o(a.initPlugins().then(()=>a))})}}function Tn(l,i){const o=Math.min(l.length,i.length);for(let a=0;a<o;a++)if(l[a]!=i[a])return a;return l.length==i.length?"same":l.length<i.length?"prefix":"extension"}Ee(class{constructor(i){this.context=i}destroy(){this.stopListening()}static get isContextPlugin(){return!0}},ln);var Ka=function(l){return Ro(l,4)};class cr{constructor(i){this.document=i,this.parent=null}get index(){let i;if(!this.parent)return null;if(-1==(i=this.parent.getChildIndex(this)))throw new S.a("view-node-not-found-in-parent",this);return i}get nextSibling(){const i=this.index;return null!==i&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return null!==i&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.root.is("rootElement")}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.index),o=o.parent;return i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let a=i.includeSelf?this:this.parent;for(;a;)o[i.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(i,o={}){const a=this.getAncestors(o),d=i.getAncestors(o);let u=0;for(;a[u]==d[u]&&a[u];)u++;return 0===u?null:a[u-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),a=i.getPath(),d=Tn(o,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<a[d]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}_remove(){this.parent._removeChildren(this.index)}_fireChange(i,o){this.fire("change:"+i,o),this.parent&&this.parent._fireChange(i,o)}toJSON(){const i=Ka(this);return delete i.parent,i}is(i){return"node"===i||"view:node"===i}}Ee(cr,Oe);class Je extends cr{constructor(i,o){super(i),this._textData=o}is(i){return"$text"===i||"view:$text"===i||"text"===i||"view:text"===i||"node"===i||"view:node"===i}get data(){return this._textData}get _data(){return this.data}set _data(i){this._fireChange("text",this),this._textData=i}isSimilar(i){return i instanceof Je&&(this===i||this.data===i.data)}_clone(){return new Je(this.document,this.data)}}class Er{constructor(i,o,a){if(this.textNode=i,o<0||o>i.data.length)throw new S.a("view-textproxy-wrong-offsetintext",this);if(a<0||o+a>i.data.length)throw new S.a("view-textproxy-wrong-length",this);this.data=i.data.substring(o,o+a),this.offsetInText=o}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(i){return"$textProxy"===i||"view:$textProxy"===i||"textProxy"===i||"view:textProxy"===i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let a=i.includeSelf?this.textNode:this.parent;for(;null!==a;)o[i.parentFirst?"push":"unshift"](a),a=a.parent;return o}}function ro(l){return Nn(l)?new Map(l):function(i){const o=new Map;for(const a in i)o.set(a,i[a]);return o}(l)}class zc{constructor(...i){this._patterns=[],this.add(...i)}add(...i){for(let o of i)("string"==typeof o||o instanceof RegExp)&&(o={name:o}),o.classes&&("string"==typeof o.classes||o.classes instanceof RegExp)&&(o.classes=[o.classes]),this._patterns.push(o)}match(...i){for(const o of i)for(const a of this._patterns){const d=td(o,a);if(d)return{element:o,pattern:a,match:d}}return null}matchAll(...i){const o=[];for(const a of i)for(const d of this._patterns){const u=td(a,d);u&&o.push({element:a,pattern:d,match:u})}return o.length>0?o:null}getElementName(){if(1!==this._patterns.length)return null;const i=this._patterns[0],o=i.name;return"function"==typeof i||!o||o instanceof RegExp?null:o}}function td(l,i){if("function"==typeof i)return i(l);const o={};return i.name&&(o.name=(d=l.name,(a=i.name)instanceof RegExp?a.test(d):a===d),!o.name)||i.attributes&&(o.attributes=function(a,d){const u=[];for(const f in a){const g=a[f];if(!d.hasAttribute(f))return null;{const b=d.getAttribute(f);if(!0===g)u.push(f);else if(g instanceof RegExp){if(!g.test(b))return null;u.push(f)}else{if(b!==g)return null;u.push(f)}}}return u}(i.attributes,l),!o.attributes)?null:!(i.classes&&(o.classes=function(a,d){const u=[];for(const f of a)if(f instanceof RegExp){const g=d.getClassNames();for(const b of g)f.test(b)&&u.push(b);if(0===u.length)return null}else{if(!d.hasClass(f))return null;u.push(f)}return u}(i.classes,l),!o.classes))&&!(i.styles&&(o.styles=function(a,d){const u=[];for(const f in a){const g=a[f];if(!d.hasStyle(f))return null;{const b=d.getStyle(f);if(g instanceof RegExp){if(!g.test(b))return null;u.push(f)}else{if(b!==g)return null;u.push(f)}}}return u}(i.styles,l),!o.styles))&&o;var a,d}var p0=function(l){return"symbol"==typeof l||ci(l)&&"[object Symbol]"==Ke(l)},rb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ob=/^\w*$/;function nd(l,i){if("function"!=typeof l||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");var o=function(){var a=arguments,d=i?i.apply(this,a):a[0],u=o.cache;if(u.has(d))return u.get(d);var f=l.apply(this,a);return o.cache=u.set(d,f)||u,f};return o.cache=new(nd.Cache||Ts),o}nd.Cache=Ts;var ab=nd,cb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lb=/\\(\\)?/g,db=function(l){var i=ab(function(l){var i=[];return 46===l.charCodeAt(0)&&i.push(""),l.replace(cb,function(o,a,d,u){i.push(d?u.replace(lb,"$1"):a||o)}),i},function(a){return 500===o.size&&o.clear(),a}),o=i.cache;return i}(),W5=ot?ot.prototype:void 0,q5=W5?W5.toString:void 0,hb=function l(i){if("string"==typeof i)return i;if(Ln(i))return function(l,i){for(var o=-1,a=null==l?0:l.length,d=Array(a);++o<a;)d[o]=i(l[o],o,l);return d}(i,l)+"";if(p0(i))return q5?q5.call(i):"";var o=i+"";return"0"==o&&1/i==-1/0?"-0":o},id=function(l){return null==l?"":hb(l)},Oc=function(l,i){return Ln(l)?l:function(l,i){if(Ln(l))return!1;var o=typeof l;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=l&&!p0(l))||ob.test(l)||!rb.test(l)||null!=i&&l in Object(i)}(l,i)?[l]:db(id(l))},rd=function(l){if("string"==typeof l||p0(l))return l;var i=l+"";return"0"==i&&1/l==-1/0?"-0":i},K5=function(l,i){for(var o=0,a=(i=Oc(i,l)).length;null!=l&&o<a;)l=l[rd(i[o++])];return o&&o==a?l:void 0},J5=function(l,i,o){var a=-1,d=l.length;i<0&&(i=-i>d?0:d+i),(o=o>d?d:o)<0&&(o+=d),d=i>o?0:o-i>>>0,i>>>=0;for(var u=Array(d);++a<d;)u[a]=l[a+i];return u},Z5=function(l,i){return null==(l=function(l,i){return i.length<2?l:K5(l,J5(i,0,-1))}(l,i=Oc(i,l)))||delete l[rd(function(l){var i=null==l?0:l.length;return i?l[i-1]:void 0}(i))]},Ja=function(l,i,o){var a=null==l?void 0:K5(l,i);return void 0===a?o:a},m0=function(l,i,o){(void 0!==o&&!Cc(l[i],o)||void 0===o&&!(i in l))&&Zl(l,i,o)},Y5=function(i,o,a){for(var d=-1,u=Object(i),f=a(i),g=f.length;g--;){var b=f[++d];if(!1===o(u[b],b,u))break}return i},Lc=function(l,i){if(("constructor"!==i||"function"!=typeof l[i])&&"__proto__"!=i)return l[i]},b0=function(l,i,o,a,d,u,f){var g=Lc(l,o),b=Lc(i,o),_=f.get(b);if(_)m0(l,o,_);else{var C=u?u(g,b,o+"",l,i,f):void 0,w=void 0===C;if(w){var D=Ln(b),x=!D&&Object(xs.a)(b),T=!D&&!x&&yc(b);C=b,D||x||T?Ln(g)?C=g:function(l){return ci(l)&&Yl(l)}(g)?C=Mr(g):x?(w=!1,C=Object($3.a)(b,!0)):T?(w=!1,C=Pc(b,!0)):C=[]:we(b)||wc(b)?(C=g,wc(g)?C=function(l){return Io(l,Ra(l))}(g):pe(g)&&!To(g)||(C=Sn(b))):w=!1}w&&(f.set(b,C),d(C,b,a,u,f),f.delete(b)),m0(l,o,C)}},X5=function l(i,o,a,d,u){i!==o&&Y5(o,function(f,g){if(u||(u=new Ba),pe(f))b0(i,o,g,a,l,d,u);else{var b=d?d(Lc(i,g),f,g+"",i,o,u):void 0;void 0===b&&(b=f),m0(i,g,b)}},Ra)},gi=kc(function(l,i,o){X5(l,i,o)}),ad=function(l,i,o){return null==l?l:function(l,i,o,a){if(!pe(l))return l;for(var d=-1,u=(i=Oc(i,l)).length,f=u-1,g=l;null!=g&&++d<u;){var b=rd(i[d]),_=o;if("__proto__"===b||"constructor"===b||"prototype"===b)return l;if(d!=f){var C=g[b];void 0===(_=a?a(C,b,g):void 0)&&(_=pe(C)?C:I3(i[d+1])?[]:{})}S3(g,b,_),g=g[b]}return l}(l,i,o)};class v0{constructor(i){this._styles={},this._styleProcessor=i}get isEmpty(){const i=Object.entries(this._styles);return!Array.from(i).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(i){this.clear();const o=Array.from(function(a){let d=null,u=0,f=0,g=null;const b=new Map;if(""===a)return b;";"!=a.charAt(a.length-1)&&(a+=";");for(let _=0;_<a.length;_++){const C=a.charAt(_);if(null===d)switch(C){case":":g||(g=a.substr(u,_-u),f=_+1);break;case'"':case"'":d=C;break;case";":{const w=a.substr(f,_-f);g&&b.set(g.trim(),w.trim()),g=null,u=_+1;break}}else C===d&&(d=null)}return b}(i).entries());for(const[a,d]of o)this._styleProcessor.toNormalizedForm(a,d,this._styles)}has(i){if(this.isEmpty)return!1;const o=this._styleProcessor.getReducedForm(i,this._styles).find(([a])=>a===i);return Array.isArray(o)}set(i,o){if(pe(i))for(const[a,d]of Object.entries(i))this._styleProcessor.toNormalizedForm(a,d,this._styles);else this._styleProcessor.toNormalizedForm(i,o,this._styles)}remove(i){const o=Za(i);(function(l,i){null==l||Z5(l,i)})(this._styles,o),delete this._styles[i],this._cleanEmptyObjectsOnPath(o)}getNormalized(i){return this._styleProcessor.getNormalized(i,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(i=>i.join(":")).sort().join(";")+";"}getAsString(i){if(this.isEmpty)return;if(this._styles[i]&&!pe(this._styles[i]))return this._styles[i];const o=this._styleProcessor.getReducedForm(i,this._styles).find(([a])=>a===i);return Array.isArray(o)?o[1]:void 0}getStyleNames(){return this.isEmpty?[]:this._getStylesEntries().map(([i])=>i)}clear(){this._styles={}}_getStylesEntries(){const i=[],o=Object.keys(this._styles);for(const a of o)i.push(...this._styleProcessor.getReducedForm(a,this._styles));return i}_cleanEmptyObjectsOnPath(i){const o=i.split(".");if(!(o.length>1))return;const a=o.splice(0,o.length-1).join("."),d=Ja(this._styles,a);!d||!Array.from(Object.keys(d)).length&&this.remove(a)}}class ef{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(i,o,a){if(pe(o))cd(a,Za(i),o);else if(this._normalizers.has(i)){const d=this._normalizers.get(i),{path:u,value:f}=d(o);cd(a,u,f)}else cd(a,i,o)}getNormalized(i,o){if(!i)return gi({},o);if(void 0!==o[i])return o[i];if(this._extractors.has(i)){const a=this._extractors.get(i);if("string"==typeof a)return Ja(o,a);const d=a(i,o);if(d)return d}return Ja(o,Za(i))}getReducedForm(i,o){const a=this.getNormalized(i,o);return void 0===a?[]:this._reducers.has(i)?this._reducers.get(i)(a):[[i,a]]}getRelatedStyles(i){return this._consumables.get(i)||[]}setNormalizer(i,o){this._normalizers.set(i,o)}setExtractor(i,o){this._extractors.set(i,o)}setReducer(i,o){this._reducers.set(i,o)}setStyleRelation(i,o){this._mapStyleNames(i,o);for(const a of o)this._mapStyleNames(a,[i])}_mapStyleNames(i,o){this._consumables.has(i)||this._consumables.set(i,[]),this._consumables.get(i).push(...o)}}function Za(l){return l.replace("-",".")}function cd(l,i,o){let a=o;pe(o)&&(a=gi({},Ja(l,i),o)),ad(l,i,a)}class at extends cr{constructor(i,o,a,d){if(super(i),this.name=o,this._attrs=function(u){u=ro(u);for(const[f,g]of u)null===g?u.delete(f):"string"!=typeof g&&u.set(f,String(g));return u}(a),this._children=[],d&&this._insertChild(0,d),this._classes=new Set,this._attrs.has("class")){const u=this._attrs.get("class");_0(this._classes,u),this._attrs.delete("class")}this._styles=new v0(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._isAllowedInsideAttributeElement=!1}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}get isAllowedInsideAttributeElement(){return this._isAllowedInsideAttributeElement}is(i,o=null){return o?o===this.name&&("element"===i||"view:element"===i):"element"===i||"view:element"===i||"node"===i||"view:node"===i}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(i){if("class"==i)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==i){const o=this._styles.toString();return""==o?void 0:o}return this._attrs.get(i)}hasAttribute(i){return"class"==i?this._classes.size>0:"style"==i?!this._styles.isEmpty:this._attrs.has(i)}isSimilar(i){if(!(i instanceof at))return!1;if(this===i)return!0;if(this.name!=i.name||this.isAllowedInsideAttributeElement!=i.isAllowedInsideAttributeElement||this._attrs.size!==i._attrs.size||this._classes.size!==i._classes.size||this._styles.size!==i._styles.size)return!1;for(const[o,a]of this._attrs)if(!i._attrs.has(o)||i._attrs.get(o)!==a)return!1;for(const o of this._classes)if(!i._classes.has(o))return!1;for(const o of this._styles.getStyleNames())if(!i._styles.has(o)||i._styles.getAsString(o)!==this._styles.getAsString(o))return!1;return!0}hasClass(...i){for(const o of i)if(!this._classes.has(o))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(i){return this._styles.getAsString(i)}getNormalizedStyle(i){return this._styles.getNormalized(i)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...i){for(const o of i)if(!this._styles.has(o))return!1;return!0}findAncestor(...i){const o=new zc(...i);let a=this.parent;for(;a;){if(o.match(a))return a;a=a.parent}return null}getCustomProperty(i){return this._customProperties.get(i)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const i=Array.from(this._classes).sort().join(","),o=this._styles.toString(),a=Array.from(this._attrs).map(d=>`${d[0]}="${d[1]}"`).sort().join(" ");return this.name+(""==i?"":` class="${i}"`)+(o?` style="${o}"`:"")+(""==a?"":` ${a}`)}_clone(i=!1){const o=[];if(i)for(const d of this.getChildren())o.push(d._clone(i));const a=new this.constructor(this.document,this.name,this._attrs,o);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,a}_appendChild(i){return this._insertChild(this.childCount,i)}_insertChild(i,o){this._fireChange("children",this);let a=0;const d=(u=this.document,"string"==typeof(f=o)?[new Je(u,f)]:(Nn(f)||(f=[f]),Array.from(f).map(g=>"string"==typeof g?new Je(u,g):g instanceof Er?new Je(u,g.data):g)));var u,f;for(const u of d)null!==u.parent&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(i,0,u),i++,a++;return a}_removeChildren(i,o=1){this._fireChange("children",this);for(let a=i;a<i+o;a++)this._children[a].parent=null;return this._children.splice(i,o)}_setAttribute(i,o){o=String(o),this._fireChange("attributes",this),"class"==i?_0(this._classes,o):"style"==i?this._styles.setTo(o):this._attrs.set(i,o)}_removeAttribute(i){return this._fireChange("attributes",this),"class"==i?this._classes.size>0&&(this._classes.clear(),!0):"style"==i?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(i)}_addClass(i){this._fireChange("attributes",this);for(const o of vn(i))this._classes.add(o)}_removeClass(i){this._fireChange("attributes",this);for(const o of vn(i))this._classes.delete(o)}_setStyle(i,o){this._fireChange("attributes",this),this._styles.set(i,o)}_removeStyle(i){this._fireChange("attributes",this);for(const o of vn(i))this._styles.remove(o)}_setCustomProperty(i,o){this._customProperties.set(i,o)}_removeCustomProperty(i){return this._customProperties.delete(i)}}function _0(l,i){const o=i.split(/\s+/);l.clear(),o.forEach(a=>l.add(a))}class Rc extends at{constructor(i,o,a,d){super(i,o,a,d),this.getFillerOffset=qt}is(i,o=null){return o?o===this.name&&("containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i):"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}}function qt(){const l=[...this.getChildren()],i=l[this.childCount-1];if(i&&i.is("element","br"))return this.childCount;for(const o of l)if(!o.is("uiElement"))return null;return this.childCount}class Vc extends Rc{constructor(i,o,a,d){super(i,o,a,d),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(i),this.bind("isFocused").to(i,"isFocused",u=>u&&i.selection.editableElement==this),this.listenTo(i.selection,"change",()=>{this.isFocused=i.isFocused&&i.selection.editableElement==this})}is(i,o=null){return o?o===this.name&&("editableElement"===i||"view:editableElement"===i||"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i):"editableElement"===i||"view:editableElement"===i||"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}destroy(){this.stopListening()}}Ee(Vc,ln);const tf=Symbol("rootName");class Fc extends Vc{constructor(i,o){super(i,o),this.rootName="main"}is(i,o=null){return o?o===this.name&&("rootElement"===i||"view:rootElement"===i||"editableElement"===i||"view:editableElement"===i||"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i):"rootElement"===i||"view:rootElement"===i||"editableElement"===i||"view:editableElement"===i||"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}get rootName(){return this.getCustomProperty(tf)}set rootName(i){this._setCustomProperty(tf,i)}set _name(i){this.name=i}}class _n{constructor(i={}){if(!i.boundaries&&!i.startPosition)throw new S.a("view-tree-walker-no-start-position",null);if(i.direction&&"forward"!=i.direction&&"backward"!=i.direction)throw new S.a("view-tree-walker-unknown-direction",i.startPosition,{direction:i.direction});this.boundaries=i.boundaries||null,this.position=ne._createAt(i.startPosition?i.startPosition:i.boundaries["backward"==i.direction?"end":"start"]),this.direction=i.direction||"forward",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(i){let o,a,d;do{d=this.position,({done:o,value:a}=this.next())}while(!o&&i(a));o||(this.position=d)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let i=this.position.clone();const o=this.position,a=i.parent;if(null===a.parent&&i.offset===a.childCount)return{done:!0};if(a===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0};let d;if(a instanceof Je){if(i.isAtEnd)return this.position=ne._createAfter(a),this._next();d=a.data[i.offset]}else d=a.getChild(i.offset);if(d instanceof at)return this.shallow?i.offset++:i=new ne(d,0),this.position=i,this._formatReturnValue("elementStart",d,o,i,1);if(d instanceof Je){if(this.singleCharacters)return i=new ne(d,0),this.position=i,this._next();{let u,f=d.data.length;return d==this._boundaryEndParent?(f=this.boundaries.end.offset,u=new Er(d,0,f),i=ne._createAfter(u)):(u=new Er(d,0,d.data.length),i.offset++),this.position=i,this._formatReturnValue("text",u,o,i,f)}}if("string"==typeof d){let u;u=this.singleCharacters?1:(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-i.offset;const f=new Er(a,i.offset,u);return i.offset+=u,this.position=i,this._formatReturnValue("text",f,o,i,u)}return i=ne._createAfter(a),this.position=i,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,o,i)}_previous(){let i=this.position.clone();const o=this.position,a=i.parent;if(null===a.parent&&0===i.offset)return{done:!0};if(a==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0};let d;if(a instanceof Je){if(i.isAtStart)return this.position=ne._createBefore(a),this._previous();d=a.data[i.offset-1]}else d=a.getChild(i.offset-1);if(d instanceof at)return this.shallow?(i.offset--,this.position=i,this._formatReturnValue("elementStart",d,o,i,1)):(i=new ne(d,d.childCount),this.position=i,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",d,o,i));if(d instanceof Je){if(this.singleCharacters)return i=new ne(d,d.data.length),this.position=i,this._previous();{let u,f=d.data.length;if(d==this._boundaryStartParent){const g=this.boundaries.start.offset;u=new Er(d,g,d.data.length-g),f=u.data.length,i=ne._createBefore(u)}else u=new Er(d,0,d.data.length),i.offset--;return this.position=i,this._formatReturnValue("text",u,o,i,f)}}if("string"==typeof d){let u;u=this.singleCharacters?1:i.offset-(a===this._boundaryStartParent?this.boundaries.start.offset:0),i.offset-=u;const f=new Er(a,i.offset,u);return this.position=i,this._formatReturnValue("text",f,o,i,u)}return i=ne._createBefore(a),this.position=i,this._formatReturnValue("elementStart",a,o,i,1)}_formatReturnValue(i,o,a,d,u){return o instanceof Er&&(o.offsetInText+o.data.length==o.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=ne._createAfter(o.textNode):(d=ne._createAfter(o.textNode),this.position=d)),0===o.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=ne._createBefore(o.textNode):(d=ne._createBefore(o.textNode),this.position=d))),{done:!1,value:{type:i,item:o,previousPosition:a,nextPosition:d,length:u}}}}class ne{constructor(i,o){this.parent=i,this.offset=o}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const i=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===i}get root(){return this.parent.root}get editableElement(){let i=this.parent;for(;!(i instanceof Vc);){if(!i.parent)return null;i=i.parent}return i}getShiftedBy(i){const o=ne._createAt(this),a=o.offset+i;return o.offset=a<0?0:a,o}getLastMatchingPosition(i,o={}){o.startPosition=this;const a=new _n(o);return a.skip(i),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(i){const o=this.getAncestors(),a=i.getAncestors();let d=0;for(;o[d]==a[d]&&o[d];)d++;return 0===d?null:o[d-1]}is(i){return"position"===i||"view:position"===i}isEqual(i){return this.parent==i.parent&&this.offset==i.offset}isBefore(i){return"before"==this.compareWith(i)}isAfter(i){return"after"==this.compareWith(i)}compareWith(i){if(this.root!==i.root)return"different";if(this.isEqual(i))return"same";const o=this.parent.is("node")?this.parent.getPath():[],a=i.parent.is("node")?i.parent.getPath():[];o.push(this.offset),a.push(i.offset);const d=Tn(o,a);switch(d){case"prefix":return"before";case"extension":return"after";default:return o[d]<a[d]?"before":"after"}}getWalker(i={}){return i.startPosition=this,new _n(i)}clone(){return new ne(this.parent,this.offset)}static _createAt(i,o){if(i instanceof ne)return new this(i.parent,i.offset);{const a=i;if("end"==o)o=a.is("$text")?a.data.length:a.childCount;else{if("before"==o)return this._createBefore(a);if("after"==o)return this._createAfter(a);if(0!==o&&!o)throw new S.a("view-createpositionat-offset-required",a)}return new ne(a,o)}}static _createAfter(i){if(i.is("$textProxy"))return new ne(i.textNode,i.offsetInText+i.data.length);if(!i.parent)throw new S.a("view-position-after-root",i,{root:i});return new ne(i.parent,i.index+1)}static _createBefore(i){if(i.is("$textProxy"))return new ne(i.textNode,i.offsetInText);if(!i.parent)throw new S.a("view-position-before-root",i,{root:i});return new ne(i.parent,i.index)}}class _e{constructor(i,o=null){this.start=i.clone(),this.end=o?o.clone():i.clone()}*[Symbol.iterator](){yield*new _n({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let i=this.start.getLastMatchingPosition(Sr,{direction:"backward"}),o=this.end.getLastMatchingPosition(Sr);return i.parent.is("$text")&&i.isAtStart&&(i=ne._createBefore(i.parent)),o.parent.is("$text")&&o.isAtEnd&&(o=ne._createAfter(o.parent)),new _e(i,o)}getTrimmed(){let i=this.start.getLastMatchingPosition(Sr);if(i.isAfter(this.end)||i.isEqual(this.end))return new _e(i,i);let o=this.end.getLastMatchingPosition(Sr,{direction:"backward"});const a=i.nodeAfter,d=o.nodeBefore;return a&&a.is("$text")&&(i=new ne(a,0)),d&&d.is("$text")&&(o=new ne(d,d.data.length)),new _e(i,o)}isEqual(i){return this==i||this.start.isEqual(i.start)&&this.end.isEqual(i.end)}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const a=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),d=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return a&&d}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new _e(this.start,i.start)),this.containsPosition(i.end)&&o.push(new _e(i.end,this.end))):o.push(this.clone()),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,a=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(a=i.end),new _e(o,a)}return null}getWalker(i={}){return i.boundaries=this,new _n(i)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let i=this.start.nodeAfter,o=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(i=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(o=this.end.parent.previousSibling),i&&i.is("element")&&i===o?i:null}clone(){return new _e(this.start,this.end)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new _n(i);for(const a of o)yield a.item}*getPositions(i={}){i.boundaries=this;const o=new _n(i);yield o.position;for(const a of o)yield a.nextPosition}is(i){return"range"===i||"view:range"===i}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}static _createFromParentsAndOffsets(i,o,a,d){return new this(new ne(i,o),new ne(a,d))}static _createFromPositionAndShift(i,o){const a=i,d=i.getShiftedBy(o);return o>0?new this(a,d):new this(d,a)}static _createIn(i){return this._createFromParentsAndOffsets(i,0,i,i.childCount)}static _createOn(i){const o=i.is("$textProxy")?i.offsetSize:1;return this._createFromPositionAndShift(ne._createBefore(i),o)}}function Sr(l){return!(!l.item.is("attributeElement")&&!l.item.is("uiElement"))}function $n(l){let i=0;for(const o of l)i++;return i}class Ii{constructor(i=null,o,a){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(i,o,a)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.end:i.start).clone()}get focus(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.start:i.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const i of this._ranges)yield i.clone()}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?i.clone():null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?i.clone():null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}isEqual(i){if(this.isFake!=i.isFake||this.isFake&&this.fakeSelectionLabel!=i.fakeSelectionLabel||this.rangeCount!=i.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let a=!1;for(const d of i._ranges)if(o.isEqual(d)){a=!0;break}if(!a)return!1}return!0}isSimilar(i){if(this.isBackward!=i.isBackward)return!1;const o=$n(this.getRanges());if(o!=$n(i.getRanges()))return!1;if(0==o)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let d=!1;for(let u of i.getRanges())if(u=u.getTrimmed(),a.start.isEqual(u.start)&&a.end.isEqual(u.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(i,o,a){if(null===i)this._setRanges([]),this._setFakeOptions(o);else if(i instanceof Ii||i instanceof Ya)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof _e)this._setRanges([i],o&&o.backward),this._setFakeOptions(o);else if(i instanceof ne)this._setRanges([new _e(i)]),this._setFakeOptions(o);else if(i instanceof cr){const d=!!a&&!!a.backward;let u;if(void 0===o)throw new S.a("view-selection-setto-required-second-parameter",this);u="in"==o?_e._createIn(i):"on"==o?_e._createOn(i):new _e(ne._createAt(i,o)),this._setRanges([u],d),this._setFakeOptions(a)}else{if(!Nn(i))throw new S.a("view-selection-setto-not-selectable",this);this._setRanges(i,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(i,o){if(null===this.anchor)throw new S.a("view-selection-setfocus-no-ranges",this);const a=ne._createAt(i,o);if("same"==a.compareWith(this.focus))return;const d=this.anchor;this._ranges.pop(),"before"==a.compareWith(d)?this._addRange(new _e(a,d),!0):this._addRange(new _e(d,a)),this.fire("change")}is(i){return"selection"===i||"view:selection"===i}_setRanges(i,o=!1){i=Array.from(i),this._ranges=[];for(const a of i)this._addRange(a);this._lastRangeBackward=!!o}_setFakeOptions(i={}){this._isFake=!!i.fake,this._fakeSelectionLabel=i.fake&&i.label||""}_addRange(i,o=!1){if(!(i instanceof _e))throw new S.a("view-selection-add-range-not-range",this);this._pushRange(i),this._lastRangeBackward=!!o}_pushRange(i){for(const o of this._ranges)if(i.isIntersecting(o))throw new S.a("view-selection-range-intersects",this,{addedRange:i,intersectingRange:o});this._ranges.push(new _e(i.start,i.end))}}Ee(Ii,Oe);class Ya{constructor(i=null,o,a){this._selection=new Ii,this._selection.delegate("change").to(this),this._selection.setTo(i,o,a)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(i){return this._selection.isEqual(i)}isSimilar(i){return this._selection.isSimilar(i)}is(i){return"selection"===i||"documentSelection"==i||"view:selection"==i||"view:documentSelection"==i}_setTo(i,o,a){this._selection.setTo(i,o,a)}_setFocus(i,o){this._selection.setFocus(i,o)}}Ee(Ya,Oe);class Hc extends q{constructor(i,o,a){super(i,o),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const lr=Symbol("bubbling contexts");var ld={fire(l,...i){try{const o=l instanceof q?l:new q(this,l),a=C0(this);if(!a.size)return;if(jo(o,"capturing",this),be(a,"$capture",o,...i))return o.return;const d=o.startRange||this.selection.getFirstRange(),u=d?d.getContainedElement():null,f=!!u&&Boolean(nf(a,u));let g=u||function(b){if(!b)return null;const _=b.start.parent,C=b.end.parent,w=_.getPath(),D=C.getPath();return w.length>D.length?_:C}(d);if(jo(o,"atTarget",g),!f){if(be(a,"$text",o,...i))return o.return;jo(o,"bubbling",g)}for(;g;){if(g.is("rootElement")){if(be(a,"$root",o,...i))return o.return}else if(g.is("element")&&be(a,g.name,o,...i))return o.return;if(be(a,g,o,...i))return o.return;g=g.parent,jo(o,"bubbling",g)}return jo(o,"bubbling",this),be(a,"$document",o,...i),o.return}catch(o){S.a.rethrowUnexpectedError(o,this)}},_addEventListener(l,i,o){const a=vn(o.context||"$document"),d=C0(this);for(const u of a){let f=d.get(u);f||(f=Object.create(Oe),d.set(u,f)),this.listenTo(f,l,i,o)}},_removeEventListener(l,i){const o=C0(this);for(const a of o.values())this.stopListening(a,l,i)}};function jo(l,i,o){l instanceof Hc&&(l._eventPhase=i,l._currentTarget=o)}function be(l,i,o,...a){const d="string"==typeof i?l.get(i):nf(l,i);return!!d&&(d.fire(o,...a),o.stop.called)}function nf(l,i){for(const[o,a]of l)if("function"==typeof o&&o(i))return a;return null}function C0(l){return l[lr]||(l[lr]=new Map),l[lr]}class Bc{constructor(i){this.selection=new Ya,this.roots=new Nt({idProperty:"rootName"}),this.stylesProcessor=i,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(i="main"){return this.roots.get(i)}registerPostFixer(i){this._postFixers.add(i)}destroy(){this.roots.map(i=>i.destroy()),this.stopListening()}_callPostFixers(i){let o=!1;do{for(const a of this._postFixers)if(o=a(i),o)break}while(o)}}Ee(Bc,ld),Ee(Bc,ln);class zs extends at{constructor(i,o,a,d){super(i,o,a,d),this.getFillerOffset=dd,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new S.a("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}is(i,o=null){return o?o===this.name&&("attributeElement"===i||"view:attributeElement"===i||"element"===i||"view:element"===i):"attributeElement"===i||"view:attributeElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}isSimilar(i){return null!==this.id||null!==i.id?this.id===i.id:super.isSimilar(i)&&this.priority==i.priority}_clone(i){const o=super._clone(i);return o._priority=this._priority,o._id=this._id,o}}function dd(){if(k0(this))return null;let l=this.parent;for(;l&&l.is("attributeElement");){if(k0(l)>1)return null;l=l.parent}return!l||k0(l)>1?null:this.childCount}function k0(l){return Array.from(l.getChildren()).filter(i=>!i.is("uiElement")).length}zs.DEFAULT_PRIORITY=10;class ud extends at{constructor(i,o,a,d){super(i,o,a,d),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=Q}is(i,o=null){return o?o===this.name&&("emptyElement"===i||"view:emptyElement"===i||"element"===i||"view:element"===i):"emptyElement"===i||"view:emptyElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}_insertChild(i,o){if(o&&(o instanceof cr||Array.from(o).length>0))throw new S.a("view-emptyelement-cannot-add",[this,o])}}function Q(){return null}const We=navigator.userAgent.toLowerCase();var Ge_isMac=function(l){return l.indexOf("macintosh")>-1}(We),Ge_isGecko=function(l){return!!l.match(/gecko\/\d+/)}(We),Ge_isSafari=function(l){return l.indexOf(" applewebkit/")>-1&&-1===l.indexOf("chrome")}(We),Ge_isAndroid=function(l){return l.indexOf("android")>-1}(We),Ge_isBlink=function(l){return l.indexOf("chrome/")>-1&&l.indexOf("edge/")<0}(We),Ge_features={isRegExpUnicodePropertySupported:function(){let l=!1;try{l=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(i){}return l}()};const hn={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},hd={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Le=function(){const l={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let i=65;i<=90;i++)l[String.fromCharCode(i).toLowerCase()]=i;for(let i=48;i<=57;i++)l[i-48]=i;for(let i=112;i<=123;i++)l["f"+(i-111)]=i;return l}(),dr=Object.fromEntries(Object.entries(Le).map(([l,i])=>[i,l.charAt(0).toUpperCase()+l.slice(1)]));function Pi(l){let i;if("string"==typeof l){if(i=Le[l.toLowerCase()],!i)throw new S.a("keyboard-unknown-key",null,{key:l})}else i=l.keyCode+(l.altKey?Le.alt:0)+(l.ctrlKey?Le.ctrl:0)+(l.shiftKey?Le.shift:0)+(l.metaKey?Le.cmd:0);return i}function Qa(l){return"string"==typeof l&&(l=function(i){return i.split("+").map(o=>o.trim())}(l)),l.map(i=>"string"==typeof i?function(o){if(o.endsWith("!"))return Pi(o.slice(0,-1));const a=Pi(o);return Ge_isMac&&a==Le.ctrl?Le.cmd:a}(i):i).reduce((i,o)=>o+i,0)}function rf(l){let i=Qa(l);return Object.entries(Ge_isMac?hn:hd).reduce((o,[a,d])=>(0!=(i&Le[a])&&(i&=~Le[a],o+=d),o),"")+(i?dr[i]:"")}function fd(l,i){const o=function(a,d){const u="ltr"===d;switch(a){case Le.arrowleft:return u?"left":"right";case Le.arrowright:return u?"right":"left";case Le.arrowup:return"up";case Le.arrowdown:return"down"}}(l,i);return"down"===o||"right"===o}class Xa extends at{constructor(i,o,a,d){super(i,o,a,d),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=Wn}is(i,o=null){return o?o===this.name&&("uiElement"===i||"view:uiElement"===i||"element"===i||"view:element"===i):"uiElement"===i||"view:uiElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}_insertChild(i,o){if(o&&(o instanceof cr||Array.from(o).length>0))throw new S.a("view-uielement-cannot-add",this)}render(i){return this.toDomElement(i)}toDomElement(i){const o=i.createElement(this.name);for(const a of this.getAttributeKeys())o.setAttribute(a,this.getAttribute(a));return o}}function Wn(){return null}class ur extends at{constructor(i,o,a,d){super(i,o,a,d),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=pd}is(i,o=null){return o?o===this.name&&("rawElement"===i||"view:rawElement"===i||"element"===i||"view:element"===i):"rawElement"===i||"view:rawElement"===i||i===this.name||i==="view:"+this.name||"element"===i||"view:element"===i||"node"===i||"view:node"===i}_insertChild(i,o){if(o&&(o instanceof cr||Array.from(o).length>0))throw new S.a("view-rawelement-cannot-add",[this,o])}}function pd(){return null}class zi{constructor(i,o){this.document=i,this._children=[],o&&this._insertChild(0,o)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(i){return"documentFragment"===i||"view:documentFragment"===i}_appendChild(i){return this._insertChild(this.childCount,i)}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(i,o){this._fireChange("children",this);let a=0;const d=(u=this.document,"string"==typeof(f=o)?[new Je(u,f)]:(Nn(f)||(f=[f]),Array.from(f).map(g=>"string"==typeof g?new Je(u,g):g instanceof Er?new Je(u,g.data):g)));var u,f;for(const u of d)null!==u.parent&&u._remove(),u.parent=this,this._children.splice(i,0,u),i++,a++;return a}_removeChildren(i,o=1){this._fireChange("children",this);for(let a=i;a<i+o;a++)this._children[a].parent=null;return this._children.splice(i,o)}_fireChange(i,o){this.fire("change:"+i,o)}}Ee(zi,Oe);class hr{constructor(i){this.document=i,this._cloneGroups=new Map}setSelection(i,o,a){this.document.selection._setTo(i,o,a)}setSelectionFocus(i,o){this.document.selection._setFocus(i,o)}createDocumentFragment(i){return new zi(this.document,i)}createText(i){return new Je(this.document,i)}createAttributeElement(i,o,a={}){const d=new zs(this.document,i,o);return a.priority&&(d._priority=a.priority),a.id&&(d._id=a.id),d}createContainerElement(i,o,a={}){const d=new Rc(this.document,i,o);return void 0!==a.isAllowedInsideAttributeElement&&(d._isAllowedInsideAttributeElement=a.isAllowedInsideAttributeElement),d}createEditableElement(i,o){const a=new Vc(this.document,i,o);return a._document=this.document,a}createEmptyElement(i,o,a={}){const d=new ud(this.document,i,o);return void 0!==a.isAllowedInsideAttributeElement&&(d._isAllowedInsideAttributeElement=a.isAllowedInsideAttributeElement),d}createUIElement(i,o,a,d={}){const u=new Xa(this.document,i,o);return a&&(u.render=a),void 0!==d.isAllowedInsideAttributeElement&&(u._isAllowedInsideAttributeElement=d.isAllowedInsideAttributeElement),u}createRawElement(i,o,a,d={}){const u=new ur(this.document,i,o);return u.render=a||(()=>{}),void 0!==d.isAllowedInsideAttributeElement&&(u._isAllowedInsideAttributeElement=d.isAllowedInsideAttributeElement),u}setAttribute(i,o,a){a._setAttribute(i,o)}removeAttribute(i,o){o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,a){we(i)&&void 0===a&&(a=o),a._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,a){a._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}breakAttributes(i){return i instanceof ne?this._breakAttributes(i):this._breakAttributesRange(i)}breakContainer(i){const o=i.parent;if(!o.is("containerElement"))throw new S.a("view-writer-break-non-container-element",this.document);if(!o.parent)throw new S.a("view-writer-break-root",this.document);if(i.isAtStart)return ne._createBefore(o);if(!i.isAtEnd){const a=o._clone(!1);this.insert(ne._createAfter(o),a);const d=new _e(i,ne._createAt(o,"end")),u=new ne(a,0);this.move(d,u)}return ne._createAfter(o)}mergeAttributes(i){const o=i.offset,a=i.parent;if(a.is("$text"))return i;if(a.is("attributeElement")&&0===a.childCount){const f=a.parent,g=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new ne(f,g))}const d=a.getChild(o-1),u=a.getChild(o);if(!d||!u)return i;if(d.is("$text")&&u.is("$text"))return Gc(d,u);if(d.is("attributeElement")&&u.is("attributeElement")&&d.isSimilar(u)){const f=d.childCount;return d._appendChild(u.getChildren()),u._remove(),this._removeFromClonedElementsGroup(u),this.mergeAttributes(new ne(d,f))}return i}mergeContainers(i){const o=i.nodeBefore,a=i.nodeAfter;if(!(o&&a&&o.is("containerElement")&&a.is("containerElement")))throw new S.a("view-writer-merge-containers-invalid-position",this.document);const d=o.getChild(o.childCount-1),u=ne._createAt(d instanceof Je?d:o,"end");return this.move(_e._createIn(a),ne._createAt(o,"end")),this.remove(_e._createOn(a)),u}insert(i,o){Uc(o=Nn(o)?[...o]:[o],this.document);const a=o.reduce((f,g)=>{const b=f[f.length-1],_=!(g.is("uiElement")&&g.isAllowedInsideAttributeElement);return b&&b.breakAttributes==_?b.nodes.push(g):f.push({breakAttributes:_,nodes:[g]}),f},[]);let d=null,u=i;for(const{nodes:f,breakAttributes:g}of a){const b=this._insertNodes(u,f,g);d||(d=b.start),u=b.end}return d?new _e(d,u):new _e(i)}remove(i){const o=i instanceof _e?i:_e._createOn(i);if(t1(o,this.document),o.isCollapsed)return new zi(this.document);const{start:a,end:d}=this._breakAttributesRange(o,!0),g=a.parent._removeChildren(a.offset,d.offset-a.offset);for(const _ of g)this._removeFromClonedElementsGroup(_);const b=this.mergeAttributes(a);return o.start=b,o.end=b.clone(),new zi(this.document,g)}clear(i,o){t1(i,this.document);const a=i.getWalker({direction:"backward",ignoreElementEnd:!0});for(const d of a){const u=d.item;let f;if(u.is("element")&&o.isSimilar(u))f=_e._createOn(u);else if(!d.nextPosition.isAfter(i.start)&&u.is("$textProxy")){const g=u.getAncestors().find(b=>b.is("element")&&o.isSimilar(b));g&&(f=_e._createIn(g))}f&&(f.end.isAfter(i.end)&&(f.end=i.end),f.start.isBefore(i.start)&&(f.start=i.start),this.remove(f))}}move(i,o){let a;if(o.isAfter(i.end)){const d=(o=this._breakAttributes(o,!0)).parent,u=d.childCount;i=this._breakAttributesRange(i,!0),a=this.remove(i),o.offset+=d.childCount-u}else a=this.remove(i);return this.insert(o,a)}wrap(i,o){if(!(o instanceof zs))throw new S.a("view-writer-wrap-invalid-attribute",this.document);if(t1(i,this.document),i.isCollapsed){let d=i.start;d.parent.is("element")&&!Array.from(d.parent.getChildren()).some(f=>!f.is("uiElement"))&&(d=d.getLastMatchingPosition(f=>f.item.is("uiElement"))),d=this._wrapPosition(d,o);const u=this.document.selection;return u.isCollapsed&&u.getFirstPosition().isEqual(i.start)&&this.setSelection(d),new _e(d)}return this._wrapRange(i,o)}unwrap(i,o){if(!(o instanceof zs))throw new S.a("view-writer-unwrap-invalid-attribute",this.document);if(t1(i,this.document),i.isCollapsed)return i;const{start:a,end:d}=this._breakAttributesRange(i,!0),f=this._unwrapChildren(a.parent,a.offset,d.offset,o),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const b=this.mergeAttributes(f.end);return new _e(g,b)}rename(i,o){const a=new Rc(this.document,i,o.getAttributes());return this.insert(ne._createAfter(o),a),this.move(_e._createIn(o),ne._createAt(a,0)),this.remove(_e._createOn(o)),a}clearClonedElementsGroup(i){this._cloneGroups.delete(i)}createPositionAt(i,o){return ne._createAt(i,o)}createPositionAfter(i){return ne._createAfter(i)}createPositionBefore(i){return ne._createBefore(i)}createRange(i,o){return new _e(i,o)}createRangeOn(i){return _e._createOn(i)}createRangeIn(i){return _e._createIn(i)}createSelection(i,o,a){return new Ii(i,o,a)}_insertNodes(i,o,a){let d,u;if(d=a?w0(i):i.parent.is("$text")?i.parent.parent:i.parent,!d)throw new S.a("view-writer-invalid-position-container",this.document);u=a?this._breakAttributes(i,!0):i.parent.is("$text")?y0(i):i;const f=d._insertChild(u.offset,o);for(const C of o)this._addToClonedElementsGroup(C);const g=u.getShiftedBy(f),b=this.mergeAttributes(u);b.isEqual(u)||g.offset--;const _=this.mergeAttributes(g);return new _e(b,_)}_wrapChildren(i,o,a,d){let u=o;const f=[];for(;u<a;){const b=i.getChild(u),_=b.is("$text"),C=b.is("attributeElement"),w=b.isAllowedInsideAttributeElement;if(C&&this._wrapAttributeElement(d,b))f.push(new ne(i,u));else if(_||w||C&&gd(d,b)){const D=d._clone();b._remove(),D._appendChild(b),i._insertChild(u,D),this._addToClonedElementsGroup(D),f.push(new ne(i,u))}else C&&this._wrapChildren(b,0,b.childCount,d);u++}let g=0;for(const b of f)b.offset-=g,b.offset!=o&&(this.mergeAttributes(b).isEqual(b)||(g++,a--));return _e._createFromParentsAndOffsets(i,o,i,a)}_unwrapChildren(i,o,a,d){let u=o;const f=[];for(;u<a;){const b=i.getChild(u);if(b.is("attributeElement"))if(b.isSimilar(d)){const _=b.getChildren(),C=b.childCount;b._remove(),i._insertChild(u,_),this._removeFromClonedElementsGroup(b),f.push(new ne(i,u),new ne(i,u+C)),u+=C,a+=C-1}else this._unwrapAttributeElement(d,b)?(f.push(new ne(i,u),new ne(i,u+1)),u++):(this._unwrapChildren(b,0,b.childCount,d),u++);else u++}let g=0;for(const b of f)b.offset-=g,b.offset!=o&&b.offset!=a&&(this.mergeAttributes(b).isEqual(b)||(g++,a--));return _e._createFromParentsAndOffsets(i,o,i,a)}_wrapRange(i,o){const{start:a,end:d}=this._breakAttributesRange(i,!0),f=this._wrapChildren(a.parent,a.offset,d.offset,o),g=this.mergeAttributes(f.start);g.isEqual(f.start)||f.end.offset--;const b=this.mergeAttributes(f.end);return new _e(g,b)}_wrapPosition(i,o){if(o.isSimilar(i.parent))return md(i.clone());i.parent.is("$text")&&(i=y0(i));const a=this.createAttributeElement();a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,i.parent._insertChild(i.offset,a);const d=new _e(i,i.getShiftedBy(1));this.wrap(d,o);const u=new ne(a.parent,a.index);a._remove();const f=u.nodeBefore,g=u.nodeAfter;return f instanceof Je&&g instanceof Je?Gc(f,g):md(u)}_wrapAttributeElement(i,o){if(!A0(i,o)||i.name!==o.name||i.priority!==o.priority)return!1;for(const a of i.getAttributeKeys())if("class"!==a&&"style"!==a&&o.hasAttribute(a)&&o.getAttribute(a)!==i.getAttribute(a))return!1;for(const a of i.getStyleNames())if(o.hasStyle(a)&&o.getStyle(a)!==i.getStyle(a))return!1;for(const a of i.getAttributeKeys())"class"!==a&&"style"!==a&&(o.hasAttribute(a)||this.setAttribute(a,i.getAttribute(a),o));for(const a of i.getStyleNames())o.hasStyle(a)||this.setStyle(a,i.getStyle(a),o);for(const a of i.getClassNames())o.hasClass(a)||this.addClass(a,o);return!0}_unwrapAttributeElement(i,o){if(!A0(i,o)||i.name!==o.name||i.priority!==o.priority)return!1;for(const a of i.getAttributeKeys())if("class"!==a&&"style"!==a&&(!o.hasAttribute(a)||o.getAttribute(a)!==i.getAttribute(a)))return!1;if(!o.hasClass(...i.getClassNames()))return!1;for(const a of i.getStyleNames())if(!o.hasStyle(a)||o.getStyle(a)!==i.getStyle(a))return!1;for(const a of i.getAttributeKeys())"class"!==a&&"style"!==a&&this.removeAttribute(a,o);return this.removeClass(Array.from(i.getClassNames()),o),this.removeStyle(Array.from(i.getStyleNames()),o),!0}_breakAttributesRange(i,o=!1){const a=i.start,d=i.end;if(t1(i,this.document),i.isCollapsed){const b=this._breakAttributes(i.start,o);return new _e(b,b)}const u=this._breakAttributes(d,o),f=u.parent.childCount,g=this._breakAttributes(a,o);return u.offset+=u.parent.childCount-f,new _e(g,u)}_breakAttributes(i,o=!1){const a=i.offset,d=i.parent;if(i.parent.is("emptyElement"))throw new S.a("view-writer-cannot-break-empty-element",this.document);if(i.parent.is("uiElement"))throw new S.a("view-writer-cannot-break-ui-element",this.document);if(i.parent.is("rawElement"))throw new S.a("view-writer-cannot-break-raw-element",this.document);if(!o&&d.is("$text")&&e1(d.parent)||e1(d))return i.clone();if(d.is("$text"))return this._breakAttributes(y0(i),o);if(a==d.childCount){const u=new ne(d.parent,d.index+1);return this._breakAttributes(u,o)}if(0===a){const u=new ne(d.parent,d.index);return this._breakAttributes(u,o)}{const u=d.index+1,f=d._clone();d.parent._insertChild(u,f),this._addToClonedElementsGroup(f);const b=d._removeChildren(a,d.childCount-a);f._appendChild(b);const _=new ne(d.parent,u);return this._breakAttributes(_,o)}}_addToClonedElementsGroup(i){if(!i.root.is("rootElement"))return;if(i.is("element"))for(const d of i.getChildren())this._addToClonedElementsGroup(d);const o=i.id;if(!o)return;let a=this._cloneGroups.get(o);a||(a=new Set,this._cloneGroups.set(o,a)),a.add(i),i._clonesGroup=a}_removeFromClonedElementsGroup(i){if(i.is("element"))for(const d of i.getChildren())this._removeFromClonedElementsGroup(d);const o=i.id;if(!o)return;const a=this._cloneGroups.get(o);a&&a.delete(i)}}function w0(l){let i=l.parent;for(;!e1(i);){if(!i)return;i=i.parent}return i}function gd(l,i){return l.priority<i.priority||!(l.priority>i.priority)&&l.getIdentity()<i.getIdentity()}function md(l){const i=l.nodeBefore;if(i&&i.is("$text"))return new ne(i,i.data.length);const o=l.nodeAfter;return o&&o.is("$text")?new ne(o,0):l}function y0(l){if(l.offset==l.parent.data.length)return new ne(l.parent.parent,l.parent.index+1);if(0===l.offset)return new ne(l.parent.parent,l.parent.index);const i=l.parent.data.slice(l.offset);return l.parent._data=l.parent.data.slice(0,l.offset),l.parent.parent._insertChild(l.parent.index+1,new Je(l.root.document,i)),new ne(l.parent.parent,l.parent.index+1)}function Gc(l,i){const o=l.data.length;return l._data+=i.data,i._remove(),new ne(l,o)}function Uc(l,i){for(const o of l){if(!bd.some(a=>o instanceof a))throw new S.a("view-writer-insert-invalid-node-type",i);o.is("$text")||Uc(o.getChildren(),i)}}const bd=[Je,zs,Rc,ud,ur,Xa];function e1(l){return l&&(l.is("containerElement")||l.is("documentFragment"))}function t1(l,i){const o=w0(l.start),a=w0(l.end);if(!o||!a||o!==a)throw new S.a("view-writer-invalid-range-container",i)}function A0(l,i){return null===l.id&&null===i.id}function fn(l){return"[object Text]"==Object.prototype.toString.call(l)}const D0=l=>l.createTextNode("\xa0"),x0=l=>{const i=l.createElement("span");return i.dataset.ckeFiller=!0,i.innerHTML="\xa0",i},M0=l=>{const i=l.createElement("br");return i.dataset.ckeFiller=!0,i},n1="\u2060".repeat(7);function Fn(l){return fn(l)&&l.data.substr(0,7)===n1}function $c(l){return 7==l.data.length&&Fn(l)}function E0(l){return Fn(l)?l.data.slice(7):l.data}function qn(l,i){if(i.keyCode==Le.arrowleft){const o=i.domTarget.ownerDocument.defaultView.getSelection();if(1==o.rangeCount&&o.getRangeAt(0).collapsed){const a=o.getRangeAt(0).startContainer,d=o.getRangeAt(0).startOffset;Fn(a)&&d<=7&&o.collapse(a,0)}}}function Nr(l,i,o,a=!1){o=o||function(u,f){return u===f},Array.isArray(l)||(l=Array.prototype.slice.call(l)),Array.isArray(i)||(i=Array.prototype.slice.call(i));const d=function(u,f,g){const b=Ht(u,f,g);if(-1===b)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const w=Ht(vd(u,b),vd(f,b),g);return{firstIndex:b,lastIndexOld:u.length-w,lastIndexNew:f.length-w}}(l,i,o);return a?function(u,f){const{firstIndex:g,lastIndexOld:b,lastIndexNew:_}=u;if(-1===g)return Array(f).fill("equal");let C=[];return g>0&&(C=C.concat(Array(g).fill("equal"))),_-g>0&&(C=C.concat(Array(_-g).fill("insert"))),b-g>0&&(C=C.concat(Array(b-g).fill("delete"))),_<f&&(C=C.concat(Array(f-_).fill("equal"))),C}(d,i.length):function(u,f){const g=[],{firstIndex:b,lastIndexOld:_,lastIndexNew:C}=f;return C-b>0&&g.push({index:b,type:"insert",values:u.slice(b,C)}),_-b>0&&g.push({index:b+(C-b),type:"delete",howMany:_-b}),g}(i,d)}function Ht(l,i,o){for(let a=0;a<Math.max(l.length,i.length);a++)if(void 0===l[a]||void 0===i[a]||!o(l[a],i[a]))return a;return-1}function vd(l,i){return l.slice(i).reverse()}function oo(l,i,o){o=o||function(R,L){return R===L};const a=l.length,d=i.length;if(a>200||d>200||a+d>300)return oo.fastDiff(l,i,o,!0);let u,f;if(d<a){const R=l;l=i,i=R,u="delete",f="insert"}else u="insert",f="delete";const g=l.length,b=i.length,_=b-g,C={},w={};function D(R){const L=(void 0!==w[R-1]?w[R-1]:-1)+1,$=void 0!==w[R+1]?w[R+1]:-1,Y=L>$?-1:1;C[R+Y]&&(C[R]=C[R+Y].slice(0)),C[R]||(C[R]=[]),C[R].push(L>$?u:f);let te=Math.max(L,$),He=te-R;for(;He<g&&te<b&&o(l[He],i[te]);)He++,te++,C[R].push("equal");return te}let x,T=0;do{for(x=-T;x<_;x++)w[x]=D(x);for(x=_+T;x>_;x--)w[x]=D(x);w[_]=D(_),T++}while(w[_]!==b);return C[_].slice(1)}function _d(l,i,o){l.insertBefore(o,l.childNodes[i]||null)}function Cd(l){const i=l.parentNode;i&&i.removeChild(l)}function Os(l){if(l){if(l.defaultView)return l instanceof l.defaultView.Document;if(l.ownerDocument&&l.ownerDocument.defaultView)return l instanceof l.ownerDocument.defaultView.Node}return!1}oo.fastDiff=Nr;class kd{constructor(i,o){this.domDocuments=new Set,this.domConverter=i,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=o,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(i,o){if("text"===i)this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if("attributes"===i)this.markedAttributes.add(o);else{if("children"!==i)throw new S.a("view-renderer-unknown-type",this);this.markedChildren.add(o)}}}render(){let i;for(const o of this.markedChildren)this._updateChildrenMappings(o);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?i=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(i=this.selection.getFirstPosition(),this.markedChildren.add(i.parent));for(const o of this.markedAttributes)this._updateAttrs(o);for(const o of this.markedChildren)this._updateChildren(o,{inlineFillerPosition:i});for(const o of this.markedTexts)!this.markedChildren.has(o.parent)&&this.domConverter.mapViewToDom(o.parent)&&this._updateText(o,{inlineFillerPosition:i});if(i){const o=this.domConverter.viewPositionToDom(i),a=o.parent.ownerDocument;this._inlineFiller=Fn(o.parent)?o.parent:i1(a,o.parent,o.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(i){const o=this.domConverter.mapViewToDom(i);if(!o)return;const a=this.domConverter.mapViewToDom(i).childNodes,d=Array.from(this.domConverter.viewChildrenToDom(i,o.ownerDocument,{withChildren:!1})),u=this._diffNodeLists(a,d),f=this._findReplaceActions(u,a,d);if(-1!==f.indexOf("replace")){const g={equal:0,insert:0,delete:0};for(const b of f)if("replace"===b){const _=g.equal+g.insert,C=g.equal+g.delete,w=i.getChild(_);!w||w.is("uiElement")||w.is("rawElement")||this._updateElementMappings(w,a[C]),Cd(d[_]),g.equal++}else g[b]++}}_updateElementMappings(i,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,i),this.markedChildren.add(i),this.markedAttributes.add(i)}_getInlineFillerPosition(){const i=this.selection.getFirstPosition();return i.parent.is("$text")?ne._createBefore(this.selection.getFirstPosition().parent):i}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(i);return!!(o&&fn(o.parent)&&Fn(o.parent))}_removeInlineFiller(){const i=this._inlineFiller;if(!Fn(i))throw new S.a("view-renderer-filler-was-lost",this);$c(i)?i.parentNode.removeChild(i):i.data=i.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=i.parent,a=i.offset;return!!(this.domConverter.mapViewToDom(o.root)&&o.is("element")&&function(f){if("false"==f.getAttribute("contenteditable"))return!1;const g=f.findAncestor(b=>b.hasAttribute("contenteditable"));return!g||"true"==g.getAttribute("contenteditable")}(o)&&a!==o.getFillerOffset())&&!(i.nodeBefore instanceof Je||i.nodeAfter instanceof Je)}_updateText(i,o){const a=this.domConverter.findCorrespondingDomText(i),d=this.domConverter.viewToDom(i,a.ownerDocument),u=a.data;let f=d.data;const g=o.inlineFillerPosition;if(g&&g.parent==i.parent&&g.offset==i.index&&(f=n1+f),u!=f){const b=Nr(u,f);for(const _ of b)"insert"===_.type?a.insertData(_.index,_.values.join("")):a.deleteData(_.index,_.howMany)}}_updateAttrs(i){const o=this.domConverter.mapViewToDom(i);if(!o)return;const a=Array.from(o.attributes).map(u=>u.name),d=i.getAttributeKeys();for(const u of d)o.setAttribute(u,i.getAttribute(u));for(const u of a)i.hasAttribute(u)||o.removeAttribute(u)}_updateChildren(i,o){const a=this.domConverter.mapViewToDom(i);if(!a)return;const d=o.inlineFillerPosition,u=this.domConverter.mapViewToDom(i).childNodes,f=Array.from(this.domConverter.viewChildrenToDom(i,a.ownerDocument,{bind:!0,inlineFillerPosition:d}));d&&d.parent===i&&i1(a.ownerDocument,f,d.offset);const g=this._diffNodeLists(u,f);let b=0;const _=new Set;for(const C of g)"delete"===C?(_.add(u[b]),Cd(u[b])):"equal"===C&&b++;b=0;for(const C of g)"insert"===C?(_d(a,b,f[b]),b++):"equal"===C&&(this._markDescendantTextToSync(this.domConverter.domToView(f[b])),b++);for(const C of _)C.parentNode||this.domConverter.unbindDomElement(C)}_diffNodeLists(i,o){return oo(i=function(a,d){const u=Array.from(a);return 0==u.length||!d||u[u.length-1]==d&&u.pop(),u}(i,this._fakeSelectionContainer),o,Wc.bind(null,this.domConverter))}_findReplaceActions(i,o,a){if(-1===i.indexOf("insert")||-1===i.indexOf("delete"))return i;let d=[],u=[],f=[];const g={equal:0,insert:0,delete:0};for(const b of i)"insert"===b?f.push(a[g.equal+g.insert]):"delete"===b?u.push(o[g.equal+g.delete]):(d=d.concat(oo(u,f,r1).map(_=>"equal"===_?"replace":_)),d.push("equal"),u=[],f=[]),g[b]++;return d.concat(oo(u,f,r1).map(b=>"equal"===b?"replace":b))}_markDescendantTextToSync(i){if(i)if(i.is("$text"))this.markedTexts.add(i);else if(i.is("element"))for(const o of i.getChildren())this._markDescendantTextToSync(o)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const i=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&i&&(this.selection.isFake?this._updateFakeSelection(i):(this._removeFakeSelection(),this._updateDomSelection(i)))}_updateFakeSelection(i){const o=i.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(f){const g=f.createElement("div");return g.className="ck-fake-selection-container",Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent="\xa0",g}(o));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(i))return;a.parentElement&&a.parentElement==i||i.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"\xa0";const d=o.getSelection(),u=o.createRange();d.removeAllRanges(),u.selectNodeContents(a),d.addRange(u)}_updateDomSelection(i){const o=i.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(o))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),d=this.domConverter.viewPositionToDom(this.selection.focus);o.collapse(a.parent,a.offset),o.extend(d.parent,d.offset),Ge_isGecko&&function(u,f){const g=u.parent;if(g.nodeType!=Node.ELEMENT_NODE||u.offset!=g.childNodes.length-1)return;const b=g.childNodes[u.offset];b&&"BR"==b.tagName&&f.addRange(f.getRangeAt(0))}(d,o)}_domSelectionNeedsUpdate(i){if(!this.domConverter.isDomSelectionCorrect(i))return!0;const o=i&&this.domConverter.domSelectionToView(i);return!(o&&this.selection.isEqual(o)||!this.selection.isCollapsed&&this.selection.isSimilar(o))}_fakeSelectionNeedsUpdate(i){const o=this._fakeSelectionContainer,a=i.ownerDocument.getSelection();return!o||o.parentElement!==i||a.anchorNode!==o&&!o.contains(a.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const i of this.domDocuments)if(i.getSelection().rangeCount){const o=i.activeElement,a=this.domConverter.mapDomToView(o);o&&a&&i.getSelection().removeAllRanges()}}_removeFakeSelection(){const i=this._fakeSelectionContainer;i&&i.remove()}_updateFocus(){if(this.isFocused){const i=this.selection.editableElement;i&&this.domConverter.focus(i)}}}function i1(l,i,o){const a=i instanceof Array?i:i.childNodes,d=a[o];if(fn(d))return d.data=n1+d.data,d;{const u=l.createTextNode(n1);return Array.isArray(i)?a.splice(o,0,u):_d(i,o,u),u}}function r1(l,i){return Os(l)&&Os(i)&&!fn(l)&&!fn(i)&&l.nodeType!==Node.COMMENT_NODE&&i.nodeType!==Node.COMMENT_NODE&&l.tagName.toLowerCase()===i.tagName.toLowerCase()}function Wc(l,i,o){return i===o||(fn(i)&&fn(o)?i.data===o.data:!(!l.isBlockFiller(i)||!l.isBlockFiller(o)))}Ee(kd,ln);var nn={window,document};function qc(l){let i=0;for(;l.previousSibling;)l=l.previousSibling,i++;return i}function o1(l){const i=[];for(;l&&l.nodeType!=Node.DOCUMENT_NODE;)i.unshift(l),l=l.parentNode;return i}const so=M0(document),s1=D0(document),sf=x0(document);class S0{constructor(i,o={}){this.document=i,this.blockFillerMode=o.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption","td","th"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new zc,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(i,o){this._fakeSelectionMapping.set(i,new Ii(o))}fakeSelectionToView(i){return this._fakeSelectionMapping.get(i)}bindElements(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}unbindDomElement(i){const o=this._domToViewMapping.get(i);if(o){this._domToViewMapping.delete(i),this._viewToDomMapping.delete(o);for(const a of i.childNodes)this.unbindDomElement(a)}}bindDocumentFragments(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}viewToDom(i,o,a={}){if(i.is("$text")){const d=this._processDataFromViewText(i);return o.createTextNode(d)}{if(this.mapViewToDom(i))return this.mapViewToDom(i);let d;if(i.is("documentFragment"))d=o.createDocumentFragment(),a.bind&&this.bindDocumentFragments(d,i);else{if(i.is("uiElement"))return d=i.render(o),a.bind&&this.bindElements(d,i),d;d=i.hasAttribute("xmlns")?o.createElementNS(i.getAttribute("xmlns"),i.name):o.createElement(i.name),i.is("rawElement")&&i.render(d),a.bind&&this.bindElements(d,i);for(const u of i.getAttributeKeys())d.setAttribute(u,i.getAttribute(u))}if(!1!==a.withChildren)for(const u of this.viewChildrenToDom(i,o,a))d.appendChild(u);return d}}*viewChildrenToDom(i,o,a={}){const d=i.getFillerOffset&&i.getFillerOffset();let u=0;for(const f of i.getChildren())d===u&&(yield this._getBlockFiller(o)),yield this.viewToDom(f,o,a),u++;d===u&&(yield this._getBlockFiller(o))}viewRangeToDom(i){const o=this.viewPositionToDom(i.start),a=this.viewPositionToDom(i.end),d=document.createRange();return d.setStart(o.parent,o.offset),d.setEnd(a.parent,a.offset),d}viewPositionToDom(i){const o=i.parent;if(o.is("$text")){const a=this.findCorrespondingDomText(o);if(!a)return null;let d=i.offset;return Fn(a)&&(d+=7),{parent:a,offset:d}}{let a,d,u;if(0===i.offset){if(a=this.mapViewToDom(o),!a)return null;u=a.childNodes[0]}else{const f=i.nodeBefore;if(d=f.is("$text")?this.findCorrespondingDomText(f):this.mapViewToDom(i.nodeBefore),!d)return null;a=d.parentNode,u=d.nextSibling}return fn(u)&&Fn(u)?{parent:u,offset:7}:{parent:a,offset:d?qc(d)+1:0}}}domToView(i,o={}){if(this.isBlockFiller(i))return null;const a=this.getHostViewElement(i);if(a)return a;if(fn(i)){if($c(i))return null;{const d=this._processDataFromDomText(i);return""===d?null:new Je(this.document,d)}}if(this.isComment(i))return null;{if(this.mapDomToView(i))return this.mapDomToView(i);let d;if(this.isDocumentFragment(i))d=new zi(this.document),o.bind&&this.bindDocumentFragments(i,d);else{const u=o.keepOriginalCase?i.tagName:i.tagName.toLowerCase();d=new at(this.document,u),o.bind&&this.bindElements(i,d);const f=i.attributes;for(let g=f.length-1;g>=0;g--)d._setAttribute(f[g].name,f[g].value);if(!1!==o.withChildren&&this._rawContentElementMatcher.match(d))return d._setCustomProperty("$rawContent",i.innerHTML),this._encounteredRawContentDomNodes.add(i),d}if(!1!==o.withChildren)for(const u of this.domChildrenToView(i,o))d._appendChild(u);return d}}*domChildrenToView(i,o={}){for(let a=0;a<i.childNodes.length;a++){const u=this.domToView(i.childNodes[a],o);null!==u&&(yield u)}}domSelectionToView(i){if(1===i.rangeCount){let d=i.getRangeAt(0).startContainer;fn(d)&&(d=d.parentNode);const u=this.fakeSelectionToView(d);if(u)return u}const o=this.isDomSelectionBackward(i),a=[];for(let d=0;d<i.rangeCount;d++){const u=i.getRangeAt(d),f=this.domRangeToView(u);f&&a.push(f)}return new Ii(a,{backward:o})}domRangeToView(i){const o=this.domPositionToView(i.startContainer,i.startOffset),a=this.domPositionToView(i.endContainer,i.endOffset);return o&&a?new _e(o,a):null}domPositionToView(i,o){if(this.isBlockFiller(i))return this.domPositionToView(i.parentNode,qc(i));const a=this.mapDomToView(i);if(a&&(a.is("uiElement")||a.is("rawElement")))return ne._createBefore(a);if(fn(i)){if($c(i))return this.domPositionToView(i.parentNode,qc(i));const d=this.findCorrespondingViewText(i);let u=o;return d?(Fn(i)&&(u-=7,u=u<0?0:u),new ne(d,u)):null}if(0===o){const d=this.mapDomToView(i);if(d)return new ne(d,0)}else{const d=i.childNodes[o-1],u=fn(d)?this.findCorrespondingViewText(d):this.mapDomToView(d);if(u&&u.parent)return new ne(u.parent,u.index+1)}return null}mapDomToView(i){return this.getHostViewElement(i)||this._domToViewMapping.get(i)}findCorrespondingViewText(i){if($c(i))return null;const o=this.getHostViewElement(i);if(o)return o;const a=i.previousSibling;if(a){if(!this.isElement(a))return null;const d=this.mapDomToView(a);if(d)return d.nextSibling instanceof Je?d.nextSibling:null}else{const d=this.mapDomToView(i.parentNode);if(d){const u=d.getChild(0);return u instanceof Je?u:null}}return null}mapViewToDom(i){return this._viewToDomMapping.get(i)}findCorrespondingDomText(i){const o=i.previousSibling;return o&&this.mapViewToDom(o)?this.mapViewToDom(o).nextSibling:!o&&i.parent&&this.mapViewToDom(i.parent)?this.mapViewToDom(i.parent).childNodes[0]:null}focus(i){const o=this.mapViewToDom(i);if(o&&o.ownerDocument.activeElement!==o){const{scrollX:a,scrollY:d}=nn.window,u=[];Kc(o,f=>{const{scrollLeft:g,scrollTop:b}=f;u.push([g,b])}),o.focus(),Kc(o,f=>{const[g,b]=u.shift();f.scrollLeft=g,f.scrollTop=b}),nn.window.scrollTo(a,d)}}isElement(i){return i&&i.nodeType==Node.ELEMENT_NODE}isDocumentFragment(i){return i&&i.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(i){return i&&i.nodeType==Node.COMMENT_NODE}isBlockFiller(i){return"br"==this.blockFillerMode?i.isEqualNode(so):!("BR"!==i.tagName||!wd(i,this.blockElements)||1!==i.parentNode.childNodes.length)||i.isEqualNode(sf)||function(o,a){return o.isEqualNode(s1)&&wd(o,a)&&1===o.parentNode.childNodes.length}(i,this.blockElements)}isDomSelectionBackward(i){if(i.isCollapsed)return!1;const o=document.createRange();o.setStart(i.anchorNode,i.anchorOffset),o.setEnd(i.focusNode,i.focusOffset);const a=o.collapsed;return o.detach(),a}getHostViewElement(i){const o=o1(i);for(o.pop();o.length;){const a=o.pop(),d=this._domToViewMapping.get(a);if(d&&(d.is("uiElement")||d.is("rawElement")))return d}return null}isDomSelectionCorrect(i){return this._isDomSelectionPositionCorrect(i.anchorNode,i.anchorOffset)&&this._isDomSelectionPositionCorrect(i.focusNode,i.focusOffset)}registerRawContentMatcher(i){this._rawContentElementMatcher.add(i)}_getBlockFiller(i){switch(this.blockFillerMode){case"nbsp":return D0(i);case"markedNbsp":return x0(i);case"br":return M0(i)}}_isDomSelectionPositionCorrect(i,o){if(fn(i)&&Fn(i)&&o<7||this.isElement(i)&&Fn(i.childNodes[o]))return!1;const a=this.mapDomToView(i);return!a||!a.is("uiElement")&&!a.is("rawElement")}_processDataFromViewText(i){let o=i.data;if(i.getAncestors().some(a=>this.preElements.includes(a.name)))return o;if(" "==o.charAt(0)){const a=this._getTouchingViewTextNode(i,!1);(!a||!this._nodeEndsWithSpace(a))&&a||(o="\xa0"+o.substr(1))}if(" "==o.charAt(o.length-1)){const a=this._getTouchingViewTextNode(i,!0);" "!=o.charAt(o.length-2)&&a&&" "!=a.data.charAt(0)||(o=o.substr(0,o.length-1)+"\xa0")}return o.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(i){if(i.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const o=this._processDataFromViewText(i);return" "==o.charAt(o.length-1)}_processDataFromDomText(i){let o=i.data;if(Go(i,this.preElements))return E0(i);o=o.replace(/[ \n\t\r]{1,}/g," ");const a=this._getTouchingInlineDomNode(i,!1),d=this._getTouchingInlineDomNode(i,!0),u=this._checkShouldLeftTrimDomText(i,a),f=this._checkShouldRightTrimDomText(i,d);return u&&(o=o.replace(/^ /,"")),f&&(o=o.replace(/ $/,"")),o=E0(new Text(o)),o=o.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(o)||!d||d.data&&" "==d.data.charAt(0))&&(o=o.replace(/\u00A0$/," ")),u&&(o=o.replace(/^\u00A0/," ")),o}_checkShouldLeftTrimDomText(i,o){return!o||!!ve(o)||!this._encounteredRawContentDomNodes.has(i.previousSibling)&&/[^\S\u00A0]/.test(o.data.charAt(o.data.length-1))}_checkShouldRightTrimDomText(i,o){return!o&&!Fn(i)}_getTouchingViewTextNode(i,o){const a=new _n({startPosition:o?ne._createAfter(i):ne._createBefore(i),direction:o?"forward":"backward"});for(const d of a){if(d.item.is("containerElement")||d.item.is("element","br"))return null;if(d.item.is("$textProxy"))return d.item}return null}_getTouchingInlineDomNode(i,o){if(!i.parentNode)return null;const a=o?"nextNode":"previousNode",d=i.ownerDocument,u=o1(i)[0],f=d.createTreeWalker(u,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:b=>fn(b)||"BR"==b.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});f.currentNode=i;const g=f[a]();if(null!==g){const b=function(_,C){const w=o1(_),D=o1(C);let x=0;for(;w[x]==D[x]&&w[x];)x++;return 0===x?null:w[x-1]}(i,g);if(b&&!Go(i,this.blockElements,b)&&!Go(g,this.blockElements,b))return g}return null}}function Go(l,i,o){let a=o1(l);return o&&(a=a.slice(a.indexOf(o)+1)),a.some(d=>d.tagName&&i.includes(d.tagName.toLowerCase()))}function Kc(l,i){for(;l&&l!=nn.document;)i(l),l=l.parentNode}function wd(l,i){const o=l.parentNode;return o&&o.tagName&&i.includes(o.tagName.toLowerCase())}function Jc(l){const i=Object.prototype.toString.apply(l);return"[object Window]"==i||"[object global]"==i}var Zc=Va({},Oe,{listenTo(l,...i){if(Os(l)||Jc(l)){const o=this._getProxyEmitter(l)||new yd(l);o.attach(...i),l=o}Oe.listenTo.call(this,l,...i)},stopListening(l,i,o){if(Os(l)||Jc(l)){const a=this._getProxyEmitter(l);if(!a)return;l=a}Oe.stopListening.call(this,l,i,o),l instanceof yd&&l.detach(i)},_getProxyEmitter(l){return i=this,o=a1(l),i[me]&&i[me][o]?i[me][o].emitter:null;var i,o}});class yd{constructor(i){mt(this,a1(i)),this._domNode=i}}function a1(l){return l["data-ck-expando"]||(l["data-ck-expando"]=V())}Va(yd.prototype,Oe,{attach(l,i,o={}){if(this._domListeners&&this._domListeners[l])return;const a={capture:!!o.useCapture,passive:!!o.usePassive},d=this._createDomListener(l,a);this._domNode.addEventListener(l,d,a),this._domListeners||(this._domListeners={}),this._domListeners[l]=d},detach(l){let i;!this._domListeners[l]||(i=this._events[l])&&i.callbacks.length||this._domListeners[l].removeListener()},_createDomListener(l,i){const o=a=>{this.fire(l,a)};return o.removeListener=()=>{this._domNode.removeEventListener(l,o,i),delete this._domListeners[l]},o}});class Tr{constructor(i){this.view=i,this.document=i.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(i){return i&&3===i.nodeType&&(i=i.parentNode),!(!i||1!==i.nodeType)&&i.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}Ee(Tr,Zc);function c1(l){var i=-1,o=null==l?0:l.length;for(this.__data__=new Ts;++i<o;)this.add(l[i])}c1.prototype.add=c1.prototype.push=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this},c1.prototype.has=function(l){return this.__data__.has(l)};var Ad=c1,Ls=function(l,i){for(var o=-1,a=null==l?0:l.length;++o<a;)if(i(l[o],o,l))return!0;return!1},af=function(l,i){return l.has(i)},Uo=function(l,i,o,a,d,u){var f=1&o,g=l.length,b=i.length;if(g!=b&&!(f&&b>g))return!1;var _=u.get(l),C=u.get(i);if(_&&C)return _==i&&C==l;var w=-1,D=!0,x=2&o?new Ad:void 0;for(u.set(l,i),u.set(i,l);++w<g;){var T=l[w],R=i[w];if(a)var L=f?a(R,T,w,i,l,u):a(T,R,w,l,i,u);if(void 0!==L){if(L)continue;D=!1;break}if(x){if(!Ls(i,function($,Y){if(!af(x,Y)&&(T===$||d(T,$,o,a,u)))return x.push(Y)})){D=!1;break}}else if(T!==R&&!d(T,R,o,a,u)){D=!1;break}}return u.delete(l),u.delete(i),D},T0=function(l){var i=-1,o=Array(l.size);return l.forEach(function(a,d){o[++i]=[d,a]}),o},Qc=function(l){var i=-1,o=Array(l.size);return l.forEach(function(a){o[++i]=a}),o},cf=ot?ot.prototype:void 0,Xc=cf?cf.valueOf:void 0,lf=Object.prototype.hasOwnProperty,Rs="[object Arguments]",e2="[object Array]",Vs="[object Object]",l1=Object.prototype.hasOwnProperty,t2=function(l,i,o,a,d,u){var f=Ln(l),g=Ln(i),b=f?e2:Ps(l),_=g?e2:Ps(i),C=(b=b==Rs?Vs:b)==Vs,w=(_=_==Rs?Vs:_)==Vs,D=b==_;if(D&&Object(xs.a)(l)){if(!Object(xs.a)(i))return!1;f=!0,C=!1}if(D&&!C)return u||(u=new Ba),f||yc(l)?Uo(l,i,o,a,d,u):function(l,i,o,a,d,u,f){switch(o){case"[object DataView]":if(l.byteLength!=i.byteLength||l.byteOffset!=i.byteOffset)return!1;l=l.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(l.byteLength!=i.byteLength||!u(new Ua(l),new Ua(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Cc(+l,+i);case"[object Error]":return l.name==i.name&&l.message==i.message;case"[object RegExp]":case"[object String]":return l==i+"";case"[object Map]":var g=T0;case"[object Set]":if(g||(g=Qc),l.size!=i.size&&!(1&a))return!1;var _=f.get(l);if(_)return _==i;a|=2,f.set(l,i);var C=Uo(g(l),g(i),a,d,u,f);return f.delete(l),C;case"[object Symbol]":if(Xc)return Xc.call(l)==Xc.call(i)}return!1}(l,i,b,o,a,d,u);if(!(1&o)){var x=C&&l1.call(l,"__wrapped__"),T=w&&l1.call(i,"__wrapped__");if(x||T){var R=x?l.value():l,L=T?i.value():i;return u||(u=new Ba),d(R,L,o,a,u)}}return!!D&&(u||(u=new Ba),function(l,i,o,a,d,u){var f=1&o,g=Z3(l),b=g.length;if(b!=Z3(i).length&&!f)return!1;for(var _=b;_--;){var C=g[_];if(!(f?C in i:lf.call(i,C)))return!1}var w=u.get(l),D=u.get(i);if(w&&D)return w==i&&D==l;var x=!0;u.set(l,i),u.set(i,l);for(var T=f;++_<b;){var R=l[C=g[_]],L=i[C];if(a)var $=f?a(L,R,C,i,l,u):a(R,L,C,l,i,u);if(!(void 0===$?R===L||d(R,L,o,a,u):$)){x=!1;break}T||(T="constructor"==C)}if(x&&!T){var Y=l.constructor,te=i.constructor;Y==te||!("constructor"in l)||!("constructor"in i)||"function"==typeof Y&&Y instanceof Y&&"function"==typeof te&&te instanceof te||(x=!1)}return u.delete(l),u.delete(i),x}(l,i,o,a,d,u))},xd=function l(i,o,a,d,u){return i===o||(null==i||null==o||!ci(i)&&!ci(o)?i!=i&&o!=o:t2(i,o,a,d,l,u))},Md=function(l,i,o){var a=(o="function"==typeof o?o:void 0)?o(l,i):void 0;return void 0===a?xd(l,i,void 0,o):!!a};class I0 extends Tr{constructor(i){super(i),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=i.domConverter,this.renderer=i._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(i){this._domElements.push(i),this.isEnabled&&this._mutationObserver.observe(i,this._config)}enable(){super.enable();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(i){if(0===i.length)return;const o=this.domConverter,a=new Map,d=new Set;for(const _ of i)if("childList"===_.type){const C=o.mapDomToView(_.target);if(C&&(C.is("uiElement")||C.is("rawElement")))continue;C&&!this._isBogusBrMutation(_)&&d.add(C)}for(const _ of i){const C=o.mapDomToView(_.target);if((!C||!C.is("uiElement")&&!C.is("rawElement"))&&"characterData"===_.type){const w=o.findCorrespondingViewText(_.target);w&&!d.has(w.parent)?a.set(w,{type:"text",oldText:w.data,newText:E0(_.target),node:w}):!w&&Fn(_.target)&&d.add(o.mapDomToView(_.target.parentNode))}}const u=[];for(const _ of a.values())this.renderer.markToSync("text",_.node),u.push(_);for(const _ of d){const C=o.mapViewToDom(_),w=Array.from(_.getChildren()),D=Array.from(o.domChildrenToView(C,{withChildren:!1}));Md(w,D,b)||(this.renderer.markToSync("children",_),u.push({type:"children",oldChildren:w,newChildren:D,node:_}))}const f=i[0].target.ownerDocument.getSelection();let g=null;if(f&&f.anchorNode){const _=o.domPositionToView(f.anchorNode,f.anchorOffset),C=o.domPositionToView(f.focusNode,f.focusOffset);_&&C&&(g=new Ii(_),g.setFocus(C))}function b(_,C){if(!Array.isArray(_))return _===C||!(!_.is("$text")||!C.is("$text"))&&_.data===C.data}u.length&&(this.document.fire("mutations",u,g),this.view.forceRender())}_isBogusBrMutation(i){let o=null;return null===i.nextSibling&&0===i.removedNodes.length&&1==i.addedNodes.length&&(o=this.domConverter.domToView(i.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}class n2{constructor(i,o,a){this.view=i,this.document=i.document,this.domEvent=o,this.domTarget=o.target,Va(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ao extends Tr{constructor(i){super(i),this.useCapture=!1}observe(i){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(o=>{this.listenTo(i,o,(a,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}fire(i,o,a){this.isEnabled&&this.document.fire(i,new n2(this.view,o,a))}}class uf extends ao{constructor(i){super(i),this.domEventType=["keydown","keyup"]}onDomEvent(i){this.fire(i.type,i,{keyCode:i.keyCode,altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey,get keystroke(){return Pi(this)}})}}var P0=function(){return qe.a.Date.now()},r2=/\s/,hf=/^\s+/,Ed=function(l){return l&&l.slice(0,function(l){for(var i=l.length;i--&&r2.test(l.charAt(i)););return i}(l)+1).replace(hf,"")},Sd=/^[-+]0x[0-9a-f]+$/i,Fs=/^0b[01]+$/i,mi=/^0o[0-7]+$/i,z0=parseInt,co=function(l){if("number"==typeof l)return l;if(p0(l))return NaN;if(pe(l)){var i="function"==typeof l.valueOf?l.valueOf():l;l=pe(i)?i+"":i}if("string"!=typeof l)return 0===l?l:+l;l=Ed(l);var o=Fs.test(l);return o||mi.test(l)?z0(l.slice(2),o?2:8):Sd.test(l)?NaN:+l},Hs=Math.max,Bs=Math.min,lo=function(l,i,o){var a,d,u,f,g,b,_=0,C=!1,w=!1,D=!0;if("function"!=typeof l)throw new TypeError("Expected a function");function x(te){var He=a,ni=d;return a=d=void 0,_=te,f=l.apply(ni,He)}function T(te){return _=te,g=setTimeout(L,i),C?x(te):f}function R(te){var He=te-b;return void 0===b||He>=i||He<0||w&&te-_>=u}function L(){var He,ni,te=P0();if(R(te))return $(te);g=setTimeout(L,(ni=i-((He=te)-b),w?Bs(ni,u-(He-_)):ni))}function $(te){return g=void 0,D&&a?x(te):(a=d=void 0,f)}function Y(){var te=P0(),He=R(te);if(a=arguments,d=this,b=te,He){if(void 0===g)return T(b);if(w)return clearTimeout(g),g=setTimeout(L,i),x(b)}return void 0===g&&(g=setTimeout(L,i)),f}return i=co(i)||0,pe(o)&&(C=!!o.leading,u=(w="maxWait"in o)?Hs(co(o.maxWait)||0,i):u,D="trailing"in o?!!o.trailing:D),Y.cancel=function(){void 0!==g&&clearTimeout(g),_=0,a=b=d=g=void 0},Y.flush=function(){return void 0===g?f:$(P0())},Y};class Nd extends Tr{constructor(i){super(i),this._fireSelectionChangeDoneDebounced=lo(o=>this.document.fire("selectionChangeDone",o),200)}observe(){const i=this.document;i.on("arrowKey",(o,a)=>{i.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),i.on("arrowKey",(o,a)=>{i.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(i){const o=this.document.selection,a=new Ii(o.getRanges(),{backward:o.isBackward,fake:!1});i!=Le.arrowleft&&i!=Le.arrowup||a.setTo(a.getFirstPosition()),i!=Le.arrowright&&i!=Le.arrowdown||a.setTo(a.getLastPosition());const d={oldSelection:o,newSelection:a,domSelection:null};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}class O0 extends Tr{constructor(i){super(i),this.mutationObserver=i.getObserver(I0),this.selection=this.document.selection,this.domConverter=i.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=lo(o=>this.document.fire("selectionChangeDone",o),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(i){const o=i.ownerDocument;this._documents.has(o)||(this.listenTo(o,"selectionchange",(a,d)=>{this._handleSelectionChange(d,o)}),this._documents.add(o))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(i,o){if(!this.isEnabled)return;const a=o.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const d=this.domConverter.domSelectionToView(a);if(0!=d.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(d)&&this.domConverter.isDomSelectionCorrect(a)||++this._loopbackCounter>60))if(this.selection.isSimilar(d))this.view.forceRender();else{const u={oldSelection:this.selection,newSelection:d,domSelection:a};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class js extends ao{constructor(i){super(i),this.domEventType=["focus","blur"],this.useCapture=!0;const o=this.document;o.on("focus",()=>{o.isFocused=!0,this._renderTimeoutId=setTimeout(()=>i.forceRender(),50)}),o.on("blur",(a,d)=>{const u=o.selection.editableElement;null!==u&&u!==d.target||(o.isFocused=!1,i.forceRender())})}onDomEvent(i){this.fire(i.type,i)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class fb extends ao{constructor(i){super(i),this.domEventType=["compositionstart","compositionupdate","compositionend"];const o=this.document;o.on("compositionstart",()=>{o.isComposing=!0}),o.on("compositionend",()=>{o.isComposing=!1})}onDomEvent(i){this.fire(i.type,i)}}class ff extends ao{constructor(i){super(i),this.domEventType=["beforeinput"]}onDomEvent(i){this.fire(i.type,i)}}class ze{constructor(){this._replacedElements=[]}replace(i,o){this._replacedElements.push({element:i,newElement:o}),i.style.display="none",o&&i.parentNode.insertBefore(o,i.nextSibling)}restore(){this._replacedElements.forEach(({element:i,newElement:o})=>{i.style.display="",o&&o.remove()}),this._replacedElements=[]}}var Td=function(l){return"string"==typeof l||!Ln(l)&&ci(l)&&"[object String]"==Ke(l)};function L0(l){return"[object Range]"==Object.prototype.toString.apply(l)}function pf(l){const i=l.ownerDocument.defaultView.getComputedStyle(l);return{top:parseInt(i.borderTopWidth,10),right:parseInt(i.borderRightWidth,10),bottom:parseInt(i.borderBottomWidth,10),left:parseInt(i.borderLeftWidth,10)}}const gf=["top","right","bottom","left","width","height"];class Bt{constructor(i){const o=L0(i);if(Object.defineProperty(this,"_source",{value:i._source||i,writable:!0,enumerable:!1}),ve(i)||o)if(o){const a=Bt.getDomRangeRects(i);R0(this,Bt.getBoundingRect(a))}else R0(this,i.getBoundingClientRect());else if(Jc(i)){const{innerWidth:a,innerHeight:d}=i;R0(this,{top:0,right:a,bottom:d,left:0,width:a,height:d})}else R0(this,i)}clone(){return new Bt(this)}moveTo(i,o){return this.top=o,this.right=i+this.width,this.bottom=o+this.height,this.left=i,this}moveBy(i,o){return this.top+=o,this.right+=i,this.left+=i,this.bottom+=o,this}getIntersection(i){const o={top:Math.max(this.top,i.top),right:Math.min(this.right,i.right),bottom:Math.min(this.bottom,i.bottom),left:Math.max(this.left,i.left)};return o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<0||o.height<0?null:new Bt(o)}getIntersectionArea(i){const o=this.getIntersection(i);return o?o.getArea():0}getArea(){return this.width*this.height}getVisible(){const i=this._source;let o=this.clone();if(!mf(i)){let a=i.parentNode||i.commonAncestorContainer;for(;a&&!mf(a);){const d=new Bt(a),u=o.getIntersection(d);if(!u)return null;u.getArea()<o.getArea()&&(o=u),a=a.parentNode}}return o}isEqual(i){for(const o of gf)if(this[o]!==i[o])return!1;return!0}contains(i){const o=this.getIntersection(i);return!(!o||!o.isEqual(i))}excludeScrollbarsAndBorders(){const i=this._source;let o,a,d;if(Jc(i))o=i.innerWidth-i.document.documentElement.clientWidth,a=i.innerHeight-i.document.documentElement.clientHeight,d=i.getComputedStyle(i.document.documentElement).direction;else{const u=pf(this._source);o=i.offsetWidth-i.clientWidth-u.left-u.right,a=i.offsetHeight-i.clientHeight-u.top-u.bottom,d=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=u.left,this.top+=u.top,this.right-=u.right,this.bottom-=u.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=o,"ltr"===d?this.right-=o:this.left+=o,this.height-=a,this.bottom-=a,this}static getDomRangeRects(i){const o=[],a=Array.from(i.getClientRects());if(a.length)for(const d of a)o.push(new Bt(d));else{let d=i.startContainer;fn(d)&&(d=d.parentNode);const u=new Bt(d.getBoundingClientRect());u.right=u.left,u.width=0,o.push(u)}return o}static getBoundingRect(i){const o={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY};let a=0;for(const d of i)a++,o.left=Math.min(o.left,d.left),o.top=Math.min(o.top,d.top),o.right=Math.max(o.right,d.right),o.bottom=Math.max(o.bottom,d.bottom);return 0==a?null:(o.width=o.right-o.left,o.height=o.bottom-o.top,new Bt(o))}}function R0(l,i){for(const o of gf)l[o]=i[o]}function mf(l){return!!ve(l)&&l===l.ownerDocument.body}class vt{constructor(i,o){vt._observerInstance||vt._createObserver(),this._element=i,this._callback=o,vt._addElementCallback(i,o),vt._observerInstance.observe(i)}destroy(){vt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(i,o){vt._elementCallbacks||(vt._elementCallbacks=new Map);let a=vt._elementCallbacks.get(i);a||(a=new Set,vt._elementCallbacks.set(i,a)),a.add(o)}static _deleteElementCallback(i,o){const a=vt._getElementCallbacks(i);a&&(a.delete(o),a.size||(vt._elementCallbacks.delete(i),vt._observerInstance.unobserve(i))),vt._elementCallbacks&&!vt._elementCallbacks.size&&(vt._observerInstance=null,vt._elementCallbacks=null)}static _getElementCallbacks(i){return vt._elementCallbacks?vt._elementCallbacks.get(i):null}static _createObserver(){let i;i="function"==typeof nn.window.ResizeObserver?nn.window.ResizeObserver:bf,vt._observerInstance=new i(o=>{for(const a of o){const d=vt._getElementCallbacks(a.target);if(d)for(const u of d)u(a)}})}}vt._observerInstance=null,vt._elementCallbacks=null;class bf{constructor(i){this._callback=i,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(i){this._elements.add(i),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(i){this._elements.delete(i),this._previousRects.delete(i),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const i=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(i,100)};this.listenTo(nn.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(i,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const i=[];for(const o of this._elements)this._hasRectChanged(o)&&i.push({target:o,contentRect:this._previousRects.get(o)});i.length&&this._callback(i)}_hasRectChanged(i){if(!i.ownerDocument.body.contains(i))return!1;const o=new Bt(i),a=this._previousRects.get(i),d=!a||!a.isEqual(o);return this._previousRects.set(i,o),d}}function Ot(l){return i=>i+l}function pn(l){const i=l.next();return i.done?null:i.value}Ee(bf,Zc);class Xn{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(i){if(this._elements.has(i))throw new S.a("focustracker-add-element-already-exist",this);this.listenTo(i,"focus",()=>this._focus(i),{useCapture:!0}),this.listenTo(i,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(i)}remove(i){i===this.focusedElement&&this._blur(i),this._elements.has(i)&&(this.stopListening(i),this._elements.delete(i))}destroy(){this.stopListening()}_focus(i){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=i,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}Ee(Xn,Zc),Ee(Xn,ln);class Gs{constructor(){this._listener=Object.create(Zc)}listenTo(i){this._listener.listenTo(i,"keydown",(o,a)=>{this._listener.fire("_keydown:"+Pi(a),a)})}set(i,o,a={}){const d=Qa(i);this._listener.listenTo(this._listener,"_keydown:"+d,(f,g)=>{o(g,()=>{g.preventDefault(),g.stopPropagation(),f.stop()}),f.return=!0},{priority:a.priority})}press(i){return!!this._listener.fire("_keydown:"+Pi(i),i)}destroy(){this._listener.stopListening()}}class vf extends Tr{constructor(i){super(i),this.document.on("keydown",(o,a)=>{if(this.isEnabled&&((d=a.keyCode)==Le.arrowright||d==Le.arrowleft||d==Le.arrowup||d==Le.arrowdown)){const u=new Hc(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(u,a),u.stop.called&&o.stop()}var d})}observe(){}}function bi({target:l,viewportOffset:i=0}){const o=H0(l);let a=o,d=null;for(;a;){let u;u=_f(a==o?l:d),V0(u,()=>Cf(l,a));const f=Cf(l,a);if(fr(a,f,i),a.parent!=a){if(d=a.frameElement,a=a.parent,!d)return}else a=null}}function fr(l,i,o){const a=i.clone().moveBy(0,o),d=i.clone().moveBy(0,-o),u=new Bt(l).excludeScrollbarsAndBorders();if(![d,a].every(f=>u.contains(f))){let{scrollX:f,scrollY:g}=l;Us(d,u)?g-=u.top-i.top+o:u1(a,u)&&(g+=i.bottom-u.bottom+o),F0(i,u)?f-=u.left-i.left+o:Id(i,u)&&(f+=i.right-u.right+o),l.scrollTo(f,g)}}function V0(l,i){const o=H0(l);let a,d;for(;l!=o.document.body;)d=i(),a=new Bt(l).excludeScrollbarsAndBorders(),a.contains(d)||(Us(d,a)?l.scrollTop-=a.top-d.top:u1(d,a)&&(l.scrollTop+=d.bottom-a.bottom),F0(d,a)?l.scrollLeft-=a.left-d.left:Id(d,a)&&(l.scrollLeft+=d.right-a.right)),l=l.parentNode}function u1(l,i){return l.bottom>i.bottom}function Us(l,i){return l.top<i.top}function F0(l,i){return l.left<i.left}function Id(l,i){return l.right>i.right}function H0(l){return L0(l)?l.startContainer.ownerDocument.defaultView:l.ownerDocument.defaultView}function _f(l){if(L0(l)){let i=l.commonAncestorContainer;return fn(i)&&(i=i.parentNode),i}return l.parentNode}function Cf(l,i){const o=H0(l),a=new Bt(l);if(o===i)return a;{let d=o;for(;d!=i;){const f=new Bt(d.frameElement).excludeScrollbarsAndBorders();a.moveBy(f.left,f.top),d=d.parent}}return a}Object.assign({},{scrollViewportToShowTarget:bi,scrollAncestorsToShowTarget:function(l){V0(_f(l),()=>new Bt(l))}});class B0{constructor(i){this.document=new Bc(i),this.domConverter=new S0(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new kd(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new hr(this.document),this.addObserver(I0),this.addObserver(O0),this.addObserver(js),this.addObserver(uf),this.addObserver(Nd),this.addObserver(fb),this.addObserver(vf),Ge_isAndroid&&this.addObserver(ff),this.document.on("arrowKey",qn,{priority:"low"}),function(l){l.document.on("arrowKey",(i,o)=>function(a,d,u){if(d.keyCode==Le.arrowright){const f=d.domTarget.ownerDocument.defaultView.getSelection(),g=1==f.rangeCount&&f.getRangeAt(0).collapsed;if(g||d.shiftKey){const C=u.domPositionToView(f.focusNode,f.focusOffset);if(null===C)return;let w=!1;const D=C.getLastMatchingPosition(x=>(x.item.is("uiElement")&&(w=!0),!(!x.item.is("uiElement")&&!x.item.is("attributeElement"))));if(w){const x=u.viewPositionToDom(D);g?f.collapse(x.parent,x.offset):f.extend(x.parent,x.offset)}}}}(0,o,l.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(i,o="main"){const a=this.document.getRoot(o);a._name=i.tagName.toLowerCase();const d={};for(const{name:f,value:g}of Array.from(i.attributes))d[f]=g,"class"===f?this._writer.addClass(g.split(" "),a):this._writer.setAttribute(f,g,a);this._initialDomRootAttributes.set(i,d);const u=()=>{this._writer.setAttribute("contenteditable",!a.isReadOnly,a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};u(),this.domRoots.set(o,i),this.domConverter.bindElements(i,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(i.ownerDocument),a.on("change:children",(f,g)=>this._renderer.markToSync("children",g)),a.on("change:attributes",(f,g)=>this._renderer.markToSync("attributes",g)),a.on("change:text",(f,g)=>this._renderer.markToSync("text",g)),a.on("change:isReadOnly",()=>this.change(u)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const f of this._observers.values())f.observe(i,o)}detachDomRoot(i){const o=this.domRoots.get(i);Array.from(o.attributes).forEach(({name:d})=>o.removeAttribute(d));const a=this._initialDomRootAttributes.get(o);for(const d in a)o.setAttribute(d,a[d]);this.domRoots.delete(i),this.domConverter.unbindDomElement(o)}getDomRoot(i="main"){return this.domRoots.get(i)}addObserver(i){let o=this._observers.get(i);if(o)return o;o=new i(this),this._observers.set(i,o);for(const[a,d]of this.domRoots)o.observe(d,a);return o.enable(),o}getObserver(i){return this._observers.get(i)}disableObservers(){for(const i of this._observers.values())i.disable()}enableObservers(){for(const i of this._observers.values())i.enable()}scrollToTheSelection(){const i=this.document.selection.getFirstRange();i&&bi({target:this.domConverter.viewRangeToDom(i),viewportOffset:20})}focus(){if(!this.document.isFocused){const i=this.document.selection.editableElement;i&&(this.domConverter.focus(i),this.forceRender())}}change(i){if(this.isRenderingInProgress||this._postFixersInProgress)throw new S.a("cannot-change-view-tree",this);try{if(this._ongoingChange)return i(this._writer);this._ongoingChange=!0;const o=i(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(o){S.a.rethrowUnexpectedError(o,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const i of this._observers.values())i.destroy();this.document.destroy(),this.stopListening()}createPositionAt(i,o){return ne._createAt(i,o)}createPositionAfter(i){return ne._createAfter(i)}createPositionBefore(i){return ne._createBefore(i)}createRange(i,o){return new _e(i,o)}createRangeOn(i){return _e._createOn(i)}createRangeIn(i){return _e._createIn(i)}createSelection(i,o,a){return new Ii(i,o,a)}_disableRendering(i){this._renderingDisabled=i,0==i&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}Ee(B0,ln);class gn{constructor(i){this.parent=null,this._attrs=ro(i)}get index(){let i;if(!this.parent)return null;if(null===(i=this.parent.getChildIndex(this)))throw new S.a("model-node-not-found-in-parent",this);return i}get startOffset(){let i;if(!this.parent)return null;if(null===(i=this.parent.getChildStartOffset(this)))throw new S.a("model-node-not-found-in-parent",this);return i}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const i=this.index;return null!==i&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return null!==i&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.root.is("rootElement")}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.startOffset),o=o.parent;return i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let a=i.includeSelf?this:this.parent;for(;a;)o[i.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(i,o={}){const a=this.getAncestors(o),d=i.getAncestors(o);let u=0;for(;a[u]==d[u]&&a[u];)u++;return 0===u?null:a[u-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),a=i.getPath(),d=Tn(o,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<a[d]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}hasAttribute(i){return this._attrs.has(i)}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const i={};return this._attrs.size&&(i.attributes=Array.from(this._attrs).reduce((o,a)=>(o[a[0]]=a[1],o),{})),i}is(i){return"node"===i||"model:node"===i}_clone(){return new gn(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(i,o){this._attrs.set(i,o)}_setAttributesTo(i){this._attrs=ro(i)}_removeAttribute(i){return this._attrs.delete(i)}_clearAttributes(){this._attrs.clear()}}class ft extends gn{constructor(i,o){super(o),this._data=i||""}get offsetSize(){return this.data.length}get data(){return this._data}is(i){return"$text"===i||"model:$text"===i||"text"===i||"model:text"===i||"node"===i||"model:node"===i}toJSON(){const i=super.toJSON();return i.data=this.data,i}_clone(){return new ft(this.data,this.getAttributes())}static fromJSON(i){return new ft(i.data,i.attributes)}}class Kn{constructor(i,o,a){if(this.textNode=i,o<0||o>i.offsetSize)throw new S.a("model-textproxy-wrong-offsetintext",this);if(a<0||o+a>i.offsetSize)throw new S.a("model-textproxy-wrong-length",this);this.data=i.data.substring(o,o+a),this.offsetInText=o}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(i){return"$textProxy"===i||"model:$textProxy"===i||"textProxy"===i||"model:textProxy"===i}getPath(){const i=this.textNode.getPath();return i.length>0&&(i[i.length-1]+=this.offsetInText),i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let a=i.includeSelf?this:this.parent;for(;a;)o[i.parentFirst?"push":"unshift"](a),a=a.parent;return o}hasAttribute(i){return this.textNode.hasAttribute(i)}getAttribute(i){return this.textNode.getAttribute(i)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class h1{constructor(i){this._nodes=[],i&&this._insertNodes(0,i)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((i,o)=>i+o.offsetSize,0)}getNode(i){return this._nodes[i]||null}getNodeIndex(i){const o=this._nodes.indexOf(i);return-1==o?null:o}getNodeStartOffset(i){const o=this.getNodeIndex(i);return null===o?null:this._nodes.slice(0,o).reduce((a,d)=>a+d.offsetSize,0)}indexToOffset(i){if(i==this._nodes.length)return this.maxOffset;const o=this._nodes[i];if(!o)throw new S.a("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(o)}offsetToIndex(i){let o=0;for(const a of this._nodes){if(i>=o&&i<o+a.offsetSize)return this.getNodeIndex(a);o+=a.offsetSize}if(o!=i)throw new S.a("model-nodelist-offset-out-of-bounds",this,{offset:i,nodeList:this});return this.length}_insertNodes(i,o){for(const a of o)if(!(a instanceof gn))throw new S.a("model-nodelist-insertnodes-not-node",this);this._nodes.splice(i,0,...o)}_removeNodes(i,o=1){return this._nodes.splice(i,o)}toJSON(){return this._nodes.map(i=>i.toJSON())}}class pt extends gn{constructor(i,o,a){super(o),this.name=i,this._children=new h1,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(i,o=null){return o?o===this.name&&("element"===i||"model:element"===i):"element"===i||"model:element"===i||"node"===i||"model:node"===i}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}offsetToIndex(i){return this._children.offsetToIndex(i)}getNodeByPath(i){let o=this;for(const a of i)o=o.getChild(o.offsetToIndex(a));return o}findAncestor(i,o={includeSelf:!1}){let a=o.includeSelf?this:this.parent;for(;a;){if(a.name===i)return a;a=a.parent}return null}toJSON(){const i=super.toJSON();if(i.name=this.name,this._children.length>0){i.children=[];for(const o of this._children)i.children.push(o.toJSON())}return i}_clone(i=!1){const o=i?Array.from(this._children).map(a=>a._clone(!0)):null;return new pt(this.name,this.getAttributes(),o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const a="string"==typeof(d=o)?[new ft(d)]:(Nn(d)||(d=[d]),Array.from(d).map(u=>"string"==typeof u?new ft(u):u instanceof Kn?new ft(u.data,u.getAttributes()):u));var d;for(const d of a)null!==d.parent&&d._remove(),d.parent=this;this._children._insertNodes(i,a)}_removeChildren(i,o=1){const a=this._children._removeNodes(i,o);for(const d of a)d.parent=null;return a}static fromJSON(i){let o=null;if(i.children){o=[];for(const a of i.children)o.push(a.name?pt.fromJSON(a):ft.fromJSON(a))}return new pt(i.name,i.attributes,o)}}class Ir{constructor(i={}){if(!i.boundaries&&!i.startPosition)throw new S.a("model-tree-walker-no-start-position",null);const o=i.direction||"forward";if("forward"!=o&&"backward"!=o)throw new S.a("model-tree-walker-unknown-direction",i,{direction:o});this.direction=o,this.boundaries=i.boundaries||null,this.position=i.startPosition?i.startPosition.clone():Z._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(i){let o,a,d,u;do{d=this.position,u=this._visitedParent,({done:o,value:a}=this.next())}while(!o&&i(a));o||(this.position=d,this._visitedParent=u)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const i=this.position,o=this.position.clone(),a=this._visitedParent;if(null===a.parent&&o.offset===a.maxOffset)return{done:!0};if(a===this._boundaryEndParent&&o.offset==this.boundaries.end.offset)return{done:!0};const d=o.parent,u=$s(o,d),f=u||j0(o,d,u);if(f instanceof pt)return this.shallow?o.offset++:(o.path.push(0),this._visitedParent=f),this.position=o,$o("elementStart",f,i,o,1);if(f instanceof ft){let g;if(this.singleCharacters)g=1;else{let C=f.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<C&&(C=this.boundaries.end.offset),g=C-o.offset}const _=new Kn(f,o.offset-f.startOffset,g);return o.offset+=g,this.position=o,$o("text",_,i,o,g)}return o.path.pop(),o.offset++,this.position=o,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():$o("elementEnd",a,i,o)}_previous(){const i=this.position,o=this.position.clone(),a=this._visitedParent;if(null===a.parent&&0===o.offset)return{done:!0};if(a==this._boundaryStartParent&&o.offset==this.boundaries.start.offset)return{done:!0};const d=o.parent,u=$s(o,d),f=u||G0(o,d,u);if(f instanceof pt)return o.offset--,this.shallow?(this.position=o,$o("elementStart",f,i,o,1)):(o.path.push(f.maxOffset),this.position=o,this._visitedParent=f,this.ignoreElementEnd?this._previous():$o("elementEnd",f,i,o));if(f instanceof ft){let g;if(this.singleCharacters)g=1;else{let C=f.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>C&&(C=this.boundaries.start.offset),g=o.offset-C}const _=new Kn(f,o.offset-f.startOffset-g,g);return o.offset-=g,this.position=o,$o("text",_,i,o,g)}return o.path.pop(),this.position=o,this._visitedParent=a.parent,$o("elementStart",a,i,o,1)}}function $o(l,i,o,a,d){return{done:!1,value:{type:l,item:i,previousPosition:o,nextPosition:a,length:d}}}class Z{constructor(i,o,a="toNone"){if(!i.is("element")&&!i.is("documentFragment"))throw new S.a("model-position-root-invalid",i);if(!(o instanceof Array)||0===o.length)throw new S.a("model-position-path-incorrect-format",i,{path:o});i.is("rootElement")?o=o.slice():(o=[...i.getPath(),...o],i=i.root),this.root=i,this.path=o,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(i){this.path[this.path.length-1]=i}get parent(){let i=this.root;for(let o=0;o<this.path.length-1;o++)if(i=i.getChild(i.offsetToIndex(this.path[o])),!i)throw new S.a("model-position-path-incorrect",this,{position:this});if(i.is("$text"))throw new S.a("model-position-path-incorrect",this,{position:this});return i}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return $s(this,this.parent)}get nodeAfter(){const i=this.parent;return j0(this,i,$s(this,i))}get nodeBefore(){const i=this.parent;return G0(this,i,$s(this,i))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(i){if(this.root!=i.root)return"different";const o=Tn(this.path,i.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<i.path[o]?"before":"after"}}getLastMatchingPosition(i,o={}){o.startPosition=this;const a=new Ir(o);return a.skip(i),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const i=this.parent;return i.is("documentFragment")?[i]:i.getAncestors({includeSelf:!0})}findAncestor(i){const o=this.parent;return o.is("element")?o.findAncestor(i,{includeSelf:!0}):null}getCommonPath(i){if(this.root!=i.root)return[];const o=Tn(this.path,i.path),a="string"==typeof o?Math.min(this.path.length,i.path.length):o;return this.path.slice(0,a)}getCommonAncestor(i){const o=this.getAncestors(),a=i.getAncestors();let d=0;for(;o[d]==a[d]&&o[d];)d++;return 0===d?null:o[d-1]}getShiftedBy(i){const o=this.clone(),a=o.offset+i;return o.offset=a<0?0:a,o}isAfter(i){return"after"==this.compareWith(i)}isBefore(i){return"before"==this.compareWith(i)}isEqual(i){return"same"==this.compareWith(i)}isTouching(i){let o=null,a=null;switch(this.compareWith(i)){case"same":return!0;case"before":o=Z._createAt(this),a=Z._createAt(i);break;case"after":o=Z._createAt(i),a=Z._createAt(this);break;default:return!1}let d=o.parent;for(;o.path.length+a.path.length;){if(o.isEqual(a))return!0;if(o.path.length>a.path.length){if(o.offset!==d.maxOffset)return!1;o.path=o.path.slice(0,-1),d=d.parent,o.offset++}else{if(0!==a.offset)return!1;a.path=a.path.slice(0,-1)}}}is(i){return"position"===i||"model:position"===i}hasSameParentAs(i){return this.root===i.root&&"same"==Tn(this.getParentPath(),i.getParentPath())}getTransformedByOperation(i){let o;switch(i.type){case"insert":o=this._getTransformedByInsertOperation(i);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(i);break;case"split":o=this._getTransformedBySplitOperation(i);break;case"merge":o=this._getTransformedByMergeOperation(i);break;default:o=Z._createAt(this)}return o}_getTransformedByInsertOperation(i){return this._getTransformedByInsertion(i.position,i.howMany)}_getTransformedByMoveOperation(i){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}_getTransformedBySplitOperation(i){const o=i.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(i.splitPosition,i.moveTargetPosition):i.graveyardPosition?this._getTransformedByMove(i.graveyardPosition,i.insertionPosition,1):this._getTransformedByInsertion(i.insertionPosition,1)}_getTransformedByMergeOperation(i){const o=i.movedRange;let a;return o.containsPosition(this)||o.start.isEqual(this)?(a=this._getCombined(i.sourcePosition,i.targetPosition),i.sourcePosition.isBefore(i.targetPosition)&&(a=a._getTransformedByDeletion(i.deletionPosition,1))):a=this.isEqual(i.deletionPosition)?Z._createAt(i.deletionPosition):this._getTransformedByMove(i.deletionPosition,i.graveyardPosition,1),a}_getTransformedByDeletion(i,o){const a=Z._createAt(this);if(this.root!=i.root)return a;if("same"==Tn(i.getParentPath(),this.getParentPath())){if(i.offset<this.offset){if(i.offset+o>this.offset)return null;a.offset-=o}}else if("prefix"==Tn(i.getParentPath(),this.getParentPath())){const d=i.path.length-1;if(i.offset<=this.path[d]){if(i.offset+o>this.path[d])return null;a.path[d]-=o}}return a}_getTransformedByInsertion(i,o){const a=Z._createAt(this);if(this.root!=i.root)return a;if("same"==Tn(i.getParentPath(),this.getParentPath()))(i.offset<this.offset||i.offset==this.offset&&"toPrevious"!=this.stickiness)&&(a.offset+=o);else if("prefix"==Tn(i.getParentPath(),this.getParentPath())){const d=i.path.length-1;i.offset<=this.path[d]&&(a.path[d]+=o)}return a}_getTransformedByMove(i,o,a){if(o=o._getTransformedByDeletion(i,a),i.isEqual(o))return Z._createAt(this);const d=this._getTransformedByDeletion(i,a);return null===d||i.isEqual(this)&&"toNext"==this.stickiness||i.getShiftedBy(a).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(i,o):d._getTransformedByInsertion(o,a)}_getCombined(i,o){const a=i.path.length-1,d=Z._createAt(o);return d.stickiness=this.stickiness,d.offset=d.offset+this.path[a]-i.offset,d.path=[...d.path,...this.path.slice(a+1)],d}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(i,o,a="toNone"){if(i instanceof Z)return new Z(i.root,i.path,i.stickiness);{const d=i;if("end"==o)o=d.maxOffset;else{if("before"==o)return this._createBefore(d,a);if("after"==o)return this._createAfter(d,a);if(0!==o&&!o)throw new S.a("model-createpositionat-offset-required",[this,i])}if(!d.is("element")&&!d.is("documentFragment"))throw new S.a("model-position-parent-incorrect",[this,i]);const u=d.getPath();return u.push(o),new this(d.root,u,a)}}static _createAfter(i,o){if(!i.parent)throw new S.a("model-position-after-root",[this,i],{root:i});return this._createAt(i.parent,i.endOffset,o)}static _createBefore(i,o){if(!i.parent)throw new S.a("model-position-before-root",i,{root:i});return this._createAt(i.parent,i.startOffset,o)}static fromJSON(i,o){if("$graveyard"===i.root){const a=new Z(o.graveyard,i.path);return a.stickiness=i.stickiness,a}if(!o.getRoot(i.root))throw new S.a("model-position-fromjson-no-root",o,{rootName:i.root});return new Z(o.getRoot(i.root),i.path,i.stickiness)}}function $s(l,i){const o=i.getChild(i.offsetToIndex(l.offset));return o&&o.is("$text")&&o.startOffset<l.offset?o:null}function j0(l,i,o){return null!==o?null:i.getChild(i.offsetToIndex(l.offset))}function G0(l,i,o){return null!==o?null:i.getChild(i.offsetToIndex(l.offset)-1)}class W{constructor(i,o=null){this.start=Z._createAt(i),this.end=Z._createAt(o||i),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ir({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Tn(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const a=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),d=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return a&&d}containsItem(i){const o=Z._createBefore(i);return this.containsPosition(o)||this.start.isEqual(o)}is(i){return"range"===i||"model:range"===i}isEqual(i){return this.start.isEqual(i.start)&&this.end.isEqual(i.end)}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new W(this.start,i.start)),this.containsPosition(i.end)&&o.push(new W(i.end,this.end))):o.push(new W(this.start,this.end)),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,a=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(a=i.end),new W(o,a)}return null}getJoined(i,o=!1){let a=this.isIntersecting(i);if(a||(a=this.start.isBefore(i.start)?o?this.end.isTouching(i.start):this.end.isEqual(i.start):o?i.end.isTouching(this.start):i.end.isEqual(this.start)),!a)return null;let d=this.start,u=this.end;return i.start.isBefore(d)&&(d=i.start),i.end.isAfter(u)&&(u=i.end),new W(d,u)}getMinimalFlatRanges(){const i=[],o=this.start.getCommonPath(this.end).length,a=Z._createAt(this.start);let d=a.parent;for(;a.path.length>o+1;){const u=d.maxOffset-a.offset;0!==u&&i.push(new W(a,a.getShiftedBy(u))),a.path=a.path.slice(0,-1),a.offset++,d=d.parent}for(;a.path.length<=this.end.path.length;){const u=this.end.path[a.path.length-1],f=u-a.offset;0!==f&&i.push(new W(a,a.getShiftedBy(f))),a.offset=u,a.path.push(0)}return i}getWalker(i={}){return i.boundaries=this,new Ir(i)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new Ir(i);for(const a of o)yield a.item}*getPositions(i={}){i.boundaries=this;const o=new Ir(i);yield o.position;for(const a of o)yield a.nextPosition}getTransformedByOperation(i){switch(i.type){case"insert":return this._getTransformedByInsertOperation(i);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(i);case"split":return[this._getTransformedBySplitOperation(i)];case"merge":return[this._getTransformedByMergeOperation(i)]}return[new W(this.start,this.end)]}getTransformedByOperations(i){const o=[new W(this.start,this.end)];for(const a of i)for(let d=0;d<o.length;d++){const u=o[d].getTransformedByOperation(a);o.splice(d,1,...u),d+=u.length-1}for(let a=0;a<o.length;a++){const d=o[a];for(let u=a+1;u<o.length;u++){const f=o[u];(d.containsRange(f)||f.containsRange(d)||d.isEqual(f))&&o.splice(u,1)}}return o}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const i=this.start.nodeAfter,o=this.end.nodeBefore;return i&&i.is("element")&&i===o?i:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(i,o=!1){return this._getTransformedByInsertion(i.position,i.howMany,o)}_getTransformedByMoveOperation(i,o=!1){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,o)}_getTransformedBySplitOperation(i){const o=this.start._getTransformedBySplitOperation(i);let a=this.end._getTransformedBySplitOperation(i);return this.end.isEqual(i.insertionPosition)&&(a=this.end.getShiftedBy(1)),o.root!=a.root&&(a=this.end.getShiftedBy(-1)),new W(o,a)}_getTransformedByMergeOperation(i){if(this.start.isEqual(i.targetPosition)&&this.end.isEqual(i.deletionPosition))return new W(this.start);let o=this.start._getTransformedByMergeOperation(i),a=this.end._getTransformedByMergeOperation(i);return o.root!=a.root&&(a=this.end.getShiftedBy(-1)),o.isAfter(a)?(i.sourcePosition.isBefore(i.targetPosition)?(o=Z._createAt(a),o.offset=0):(i.deletionPosition.isEqual(o)||(a=i.deletionPosition),o=i.targetPosition),new W(o,a)):new W(o,a)}_getTransformedByInsertion(i,o,a=!1){if(a&&this.containsPosition(i))return[new W(this.start,i),new W(i.getShiftedBy(o),this.end._getTransformedByInsertion(i,o))];{const d=new W(this.start,this.end);return d.start=d.start._getTransformedByInsertion(i,o),d.end=d.end._getTransformedByInsertion(i,o),[d]}}_getTransformedByMove(i,o,a,d=!1){if(this.isCollapsed){const w=this.start._getTransformedByMove(i,o,a);return[new W(w)]}const u=W._createFromPositionAndShift(i,a),f=o._getTransformedByDeletion(i,a);if(this.containsPosition(o)&&!d&&(u.containsPosition(this.start)||u.containsPosition(this.end))){const w=this.start._getTransformedByMove(i,o,a),D=this.end._getTransformedByMove(i,o,a);return[new W(w,D)]}let g;const b=this.getDifference(u);let _=null;const C=this.getIntersection(u);if(1==b.length?_=new W(b[0].start._getTransformedByDeletion(i,a),b[0].end._getTransformedByDeletion(i,a)):2==b.length&&(_=new W(this.start,this.end._getTransformedByDeletion(i,a))),g=_?_._getTransformedByInsertion(f,a,null!==C||d):[],C){const w=new W(C.start._getCombined(u.start,f),C.end._getCombined(u.start,f));2==g.length?g.splice(1,0,w):g.push(w)}return g}_getTransformedByDeletion(i,o){let a=this.start._getTransformedByDeletion(i,o),d=this.end._getTransformedByDeletion(i,o);return null==a&&null==d?null:(null==a&&(a=i),null==d&&(d=i),new W(a,d))}static _createFromPositionAndShift(i,o){const a=i,d=i.getShiftedBy(o);return o>0?new this(a,d):new this(d,a)}static _createIn(i){return new this(Z._createAt(i,0),Z._createAt(i,i.maxOffset))}static _createOn(i){return this._createFromPositionAndShift(Z._createBefore(i),i.offsetSize)}static _createFromRanges(i){if(0===i.length)throw new S.a("range-create-from-ranges-empty-array",null);if(1==i.length)return i[0].clone();const o=i[0];i.sort((u,f)=>u.start.isAfter(f.start)?1:-1);const a=i.indexOf(o),d=new this(o.start,o.end);if(a>0)for(let u=a-1;i[u].end.isEqual(d.start);u++)d.start=Z._createAt(i[u].start);for(let u=a+1;u<i.length&&i[u].start.isEqual(d.end);u++)d.end=Z._createAt(i[u].end);return d}static fromJSON(i,o){return new this(Z.fromJSON(i.start,o),Z.fromJSON(i.end,o))}}class Ws{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(i,o)=>{if(o.viewPosition)return;const a=this._modelToViewMapping.get(o.modelPosition.parent);o.viewPosition=this.findPositionIn(a,o.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(i,o)=>{if(o.modelPosition)return;const a=this.findMappedViewAncestor(o.viewPosition),d=this._viewToModelMapping.get(a),u=this._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,a);o.modelPosition=Z._createAt(d,u)},{priority:"low"})}bindElements(i,o){this._modelToViewMapping.set(i,o),this._viewToModelMapping.set(o,i)}unbindViewElement(i){const o=this.toModelElement(i);if(this._viewToModelMapping.delete(i),this._elementToMarkerNames.has(i))for(const a of this._elementToMarkerNames.get(i))this._unboundMarkerNames.add(a);this._modelToViewMapping.get(o)==i&&this._modelToViewMapping.delete(o)}unbindModelElement(i){const o=this.toViewElement(i);this._modelToViewMapping.delete(i),this._viewToModelMapping.get(o)==i&&this._viewToModelMapping.delete(o)}bindElementToMarker(i,o){const a=this._markerNameToElements.get(o)||new Set;a.add(i);const d=this._elementToMarkerNames.get(i)||new Set;d.add(o),this._markerNameToElements.set(o,a),this._elementToMarkerNames.set(i,d)}unbindElementFromMarkerName(i,o){const a=this._markerNameToElements.get(o);a&&(a.delete(i),0==a.size&&this._markerNameToElements.delete(o));const d=this._elementToMarkerNames.get(i);d&&(d.delete(o),0==d.size&&this._elementToMarkerNames.delete(i))}flushUnboundMarkerNames(){const i=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),i}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(i){return this._viewToModelMapping.get(i)}toViewElement(i){return this._modelToViewMapping.get(i)}toModelRange(i){return new W(this.toModelPosition(i.start),this.toModelPosition(i.end))}toViewRange(i){return new _e(this.toViewPosition(i.start),this.toViewPosition(i.end))}toModelPosition(i){const o={viewPosition:i,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}toViewPosition(i,o={isPhantom:!1}){const a={modelPosition:i,mapper:this,isPhantom:o.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(i){const o=this._markerNameToElements.get(i);if(!o)return null;const a=new Set;for(const d of o)if(d.is("attributeElement"))for(const u of d.getElementsWithSameId())a.add(u);else a.add(d);return a}registerViewToModelLength(i,o){this._viewToModelLengthCallbacks.set(i,o)}findMappedViewAncestor(i){let o=i.parent;for(;!this._viewToModelMapping.has(o);)o=o.parent;return o}_toModelOffset(i,o,a){if(a!=i)return this._toModelOffset(i.parent,i.index,a)+this._toModelOffset(i,o,i);if(i.is("$text"))return o;let d=0;for(let u=0;u<o;u++)d+=this.getModelLength(i.getChild(u));return d}getModelLength(i){if(this._viewToModelLengthCallbacks.get(i.name))return this._viewToModelLengthCallbacks.get(i.name)(i);if(this._viewToModelMapping.has(i))return 1;if(i.is("$text"))return i.data.length;if(i.is("uiElement"))return 0;{let o=0;for(const a of i.getChildren())o+=this.getModelLength(a);return o}}findPositionIn(i,o){let a,d=0,u=0,f=0;if(i.is("$text"))return new ne(i,o);for(;u<o;)a=i.getChild(f),d=this.getModelLength(a),u+=d,f++;return u==o?this._moveViewPositionToTextNode(new ne(i,f)):this.findPositionIn(a,o-(u-d))}_moveViewPositionToTextNode(i){const o=i.nodeBefore,a=i.nodeAfter;return o instanceof Je?new ne(o,o.data.length):a instanceof Je?new ne(a,0):i}}Ee(Ws,Oe);class U0{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(i,o){o=uo(o),i instanceof Kn&&(i=this._getSymbolForTextProxy(i)),this._consumable.has(i)||this._consumable.set(i,new Map),this._consumable.get(i).set(o,!0)}consume(i,o){return o=uo(o),i instanceof Kn&&(i=this._getSymbolForTextProxy(i)),!!this.test(i,o)&&(this._consumable.get(i).set(o,!1),!0)}test(i,o){o=uo(o),i instanceof Kn&&(i=this._getSymbolForTextProxy(i));const a=this._consumable.get(i);if(void 0===a)return null;const d=a.get(o);return void 0===d?null:d}revert(i,o){o=uo(o),i instanceof Kn&&(i=this._getSymbolForTextProxy(i));const a=this.test(i,o);return!1===a?(this._consumable.get(i).set(o,!0),!0):!0!==a&&null}_getSymbolForTextProxy(i){let o=null;const a=this._textProxyRegistry.get(i.startOffset);if(a){const d=a.get(i.endOffset);d&&(o=d.get(i.parent))}return o||(o=this._addSymbolForTextProxy(i.startOffset,i.endOffset,i.parent)),o}_addSymbolForTextProxy(i,o,a){const d=Symbol("textProxySymbol");let u,f;return u=this._textProxyRegistry.get(i),u||(u=new Map,this._textProxyRegistry.set(i,u)),f=u.get(o),f||(f=new Map,u.set(o,f)),f.set(a,d),d}}function uo(l){const i=l.split(":");return i.length>1?i[0]+":"+i[1]:i[0]}class f1{constructor(i){this.conversionApi=Object.assign({dispatcher:this},i),this._reconversionEventsMapping=new Map}convertChanges(i,o,a){for(const u of i.getMarkersToRemove())this.convertMarkerRemove(u.name,u.range,a);const d=this._mapChangesWithAutomaticReconversion(i);for(const u of d)"insert"===u.type?this.convertInsert(W._createFromPositionAndShift(u.position,u.length),a):"remove"===u.type?this.convertRemove(u.position,u.length,u.name,a):"reconvert"===u.type?this.reconvertElement(u.element,a):this.convertAttribute(u.range,u.attributeKey,u.attributeOldValue,u.attributeNewValue,a);for(const u of this.conversionApi.mapper.flushUnboundMarkerNames()){const f=o.get(u).getRange();this.convertMarkerRemove(u,f,a),this.convertMarkerAdd(u,f,a)}for(const u of i.getMarkersToAdd())this.convertMarkerAdd(u.name,u.range,a)}convertInsert(i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createInsertConsumable(i);for(const a of Array.from(i).map(Pd))this._convertInsertWithAttributes(a);this._clearConversionApi()}convertRemove(i,o,a,d){this.conversionApi.writer=d,this.fire("remove:"+a,{position:i,length:o},this.conversionApi),this._clearConversionApi()}convertAttribute(i,o,a,d,u){this.conversionApi.writer=u,this.conversionApi.consumable=this._createConsumableForRange(i,`attribute:${o}`);for(const f of i){const g={item:f.item,range:W._createFromPositionAndShift(f.previousPosition,f.length),attributeKey:o,attributeOldValue:a,attributeNewValue:d};this._testAndFire(`attribute:${o}`,g)}this._clearConversionApi()}reconvertElement(i,o){const a=W._createOn(i);this.conversionApi.writer=o,this.conversionApi.consumable=this._createInsertConsumable(a);const d=this.conversionApi.mapper,u=d.toViewElement(i);o.remove(u),this._convertInsertWithAttributes({item:i,range:a});const f=d.toViewElement(i);for(const g of W._createIn(i)){const{item:b}=g,_=kf(b,d);_?_.root!==f.root&&o.move(o.createRangeOn(_),d.toViewPosition(Z._createBefore(b))):this._convertInsertWithAttributes(Pd(g))}d.unbindViewElement(u),this._clearConversionApi()}convertSelection(i,o,a){const d=Array.from(o.getMarkersAtPosition(i.getFirstPosition()));if(this.conversionApi.writer=a,this.conversionApi.consumable=this._createSelectionConsumable(i,d),this.fire("selection",{selection:i},this.conversionApi),i.isCollapsed){for(const u of d){const f=u.getRange();if(!o2(i.getFirstPosition(),u,this.conversionApi.mapper))continue;const g={item:i,markerName:u.name,markerRange:f};this.conversionApi.consumable.test(i,"addMarker:"+u.name)&&this.fire("addMarker:"+u.name,g,this.conversionApi)}for(const u of i.getAttributeKeys()){const f={item:i,range:i.getFirstRange(),attributeKey:u,attributeOldValue:null,attributeNewValue:i.getAttribute(u)};this.conversionApi.consumable.test(i,"attribute:"+f.attributeKey)&&this.fire("attribute:"+f.attributeKey+":$text",f,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(i,o,a){if("$graveyard"==o.root.rootName)return;this.conversionApi.writer=a;const d="addMarker:"+i,u=new U0;if(u.add(o,d),this.conversionApi.consumable=u,this.fire(d,{markerName:i,markerRange:o},this.conversionApi),u.test(o,d)){this.conversionApi.consumable=this._createConsumableForRange(o,d);for(const f of o.getItems()){if(!this.conversionApi.consumable.test(f,d))continue;const g={item:f,range:W._createOn(f),markerName:i,markerRange:o};this.fire(d,g,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(i,o,a){"$graveyard"!=o.root.rootName&&(this.conversionApi.writer=a,this.fire("removeMarker:"+i,{markerName:i,markerRange:o},this.conversionApi),this._clearConversionApi())}_mapReconversionTriggerEvent(i,o){this._reconversionEventsMapping.set(o,i)}_createInsertConsumable(i){const o=new U0;for(const a of i){const d=a.item;o.add(d,"insert");for(const u of d.getAttributeKeys())o.add(d,"attribute:"+u)}return o}_createConsumableForRange(i,o){const a=new U0;for(const d of i.getItems())a.add(d,o);return a}_createSelectionConsumable(i,o){const a=new U0;a.add(i,"selection");for(const d of o)a.add(i,"addMarker:"+d.name);for(const d of i.getAttributeKeys())a.add(i,"attribute:"+d);return a}_testAndFire(i,o){this.conversionApi.consumable.test(o.item,i)&&this.fire(`${i}:${o.item.name||"$text"}`,o,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}_convertInsertWithAttributes(i){this._testAndFire("insert",i);for(const o of i.item.getAttributeKeys())i.attributeKey=o,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(o),this._testAndFire(`attribute:${o}`,i)}_mapChangesWithAutomaticReconversion(i){const o=new Set,a=[];for(const d of i.getChanges()){const u=d.position||d.range.start,f=u.parent;if($s(u,f)){a.push(d);continue}const g="attribute"===d.type?j0(u,f,null):f;if(g.is("$text")){a.push(d);continue}let b;if(b="attribute"===d.type?`attribute:${d.attributeKey}:${g.name}`:`${d.type}:${d.name}`,this._isReconvertTriggerEvent(b,g.name)){if(o.has(g))continue;o.add(g),a.push({type:"reconvert",element:g})}else a.push(d)}return a}_isReconvertTriggerEvent(i,o){return this._reconversionEventsMapping.get(i)===o}}function o2(l,i,o){const a=i.getRange(),d=Array.from(l.getAncestors());return d.shift(),d.reverse(),!d.some(u=>{if(a.containsItem(u))return!!o.toViewElement(u).getCustomProperty("addHighlight")})}function Pd(l){return{item:l.item,range:W._createFromPositionAndShift(l.previousPosition,l.length)}}function kf(l,i){if(l.is("textProxy")){const o=i.toViewPosition(Z._createBefore(l)).parent;return o.is("$text")?o:null}return i.toViewElement(l)}Ee(f1,Oe);class Pr{constructor(i,o,a){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,i&&this.setTo(i,o,a)}get anchor(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.end:i.start}return null}get focus(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.start:i.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(i){if(this.rangeCount!=i.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let a=!1;for(const d of i._ranges)if(o.isEqual(d)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const i of this._ranges)yield new W(i.start,i.end)}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?new W(i.start,i.end):null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?new W(i.start,i.end):null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}setTo(i,o,a){if(null===i)this._setRanges([]);else if(i instanceof Pr)this._setRanges(i.getRanges(),i.isBackward);else if(i&&"function"==typeof i.getRanges)this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof W)this._setRanges([i],!!o&&!!o.backward);else if(i instanceof Z)this._setRanges([new W(i)]);else if(i instanceof gn){const d=!!a&&!!a.backward;let u;if("in"==o)u=W._createIn(i);else if("on"==o)u=W._createOn(i);else{if(void 0===o)throw new S.a("model-selection-setto-required-second-parameter",[this,i]);u=new W(Z._createAt(i,o))}this._setRanges([u],d)}else{if(!Nn(i))throw new S.a("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,o&&!!o.backward)}}_setRanges(i,o=!1){const a=(i=Array.from(i)).some(d=>{if(!(d instanceof W))throw new S.a("model-selection-set-ranges-not-range",[this,i]);return this._ranges.every(u=>!u.isEqual(d))});if(i.length!==this._ranges.length||a){this._removeAllRanges();for(const d of i)this._pushRange(d);this._lastRangeBackward=!!o,this.fire("change:range",{directChange:!0})}}setFocus(i,o){if(null===this.anchor)throw new S.a("model-selection-setfocus-no-ranges",[this,i]);const a=Z._createAt(i,o);if("same"==a.compareWith(this.focus))return;const d=this.anchor;this._ranges.length&&this._popRange(),"before"==a.compareWith(d)?(this._pushRange(new W(a,d)),this._lastRangeBackward=!0):(this._pushRange(new W(d,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(i){return this._attrs.has(i)}removeAttribute(i){this.hasAttribute(i)&&(this._attrs.delete(i),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}setAttribute(i,o){this.getAttribute(i)!==o&&(this._attrs.set(i,o),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(i){return"selection"===i||"model:selection"===i}*getSelectedBlocks(){const i=new WeakSet;for(const o of this.getRanges()){const a=qs(o.start,i);a&&s2(a,o)&&(yield a);for(const u of o.getWalker()){const f=u.item;"elementEnd"==u.type&&wf(f,i,o)&&(yield f)}const d=qs(o.end,i);d&&!o.end.isTouching(Z._createAt(d,0))&&s2(d,o)&&(yield d)}}containsEntireContent(i=this.anchor.root){const o=Z._createAt(i,0),a=Z._createAt(i,"end");return o.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(i){this._checkRange(i),this._ranges.push(new W(i.start,i.end))}_checkRange(i){for(let o=0;o<this._ranges.length;o++)if(i.isIntersecting(this._ranges[o]))throw new S.a("model-selection-range-intersects",[this,i],{addedRange:i,intersectingRange:this._ranges[o]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function $0(l,i){return!i.has(l)&&(i.add(l),l.root.document.model.schema.isBlock(l)&&l.parent)}function wf(l,i,o){return $0(l,i)&&s2(l,o)}function qs(l,i){const o=l.parent.root.document.model.schema,a=l.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const u=a.find(f=>!d&&(d=o.isLimit(f),!d&&$0(f,i)));return a.forEach(f=>i.add(f)),u}function s2(l,i){const o=function(a){const d=a.root.document.model.schema;let u=a.parent;for(;u;){if(d.isBlock(u))return u;u=u.parent}}(l);return!o||!i.containsRange(W._createOn(o),!0)}Ee(Pr,Oe);class zr extends W{constructor(i,o){super(i,o),oe.call(this)}detach(){this.stopListening()}is(i){return"liveRange"===i||"model:liveRange"===i||"range"==i||"model:range"===i}toRange(){return new W(this.start,this.end)}static fromRange(i){return new zr(i.start,i.end)}}function oe(){this.listenTo(this.root.document.model,"applyOperation",(l,i)=>{const o=i[0];o.isDocumentOperation&&zd.call(this,o)},{priority:"low"})}function zd(l){const i=this.getTransformedByOperation(l),o=W._createFromRanges(i),a=!o.isEqual(this),d=function(f,g){switch(g.type){case"insert":return f.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return f.containsPosition(g.sourcePosition)||f.start.isEqual(g.sourcePosition)||f.containsPosition(g.targetPosition);case"split":return f.containsPosition(g.splitPosition)||f.containsPosition(g.insertionPosition)}return!1}(this,l);let u=null;if(a){"$graveyard"==o.root.rootName&&(u="remove"==l.type?l.sourcePosition:l.deletionPosition);const f=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",f,{deletionPosition:u})}else d&&this.fire("change:content",this.toRange(),{deletionPosition:u})}Ee(zr,Oe);const a2="selection:";class vi{constructor(i){this._selection=new p1(i),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(i){return this._selection.containsEntireContent(i)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(i){return this._selection.getAttribute(i)}hasAttribute(i){return this._selection.hasAttribute(i)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(i){this._selection.observeMarkers(i)}is(i){return"selection"===i||"model:selection"==i||"documentSelection"==i||"model:documentSelection"==i}_setFocus(i,o){this._selection.setFocus(i,o)}_setTo(i,o,a){this._selection.setTo(i,o,a)}_setAttribute(i,o){this._selection.setAttribute(i,o)}_removeAttribute(i){this._selection.removeAttribute(i)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(i){this._selection.restoreGravity(i)}static _getStoreAttributeKey(i){return a2+i}static _isStoreAttributeKey(i){return i.startsWith(a2)}}Ee(vi,Oe);class p1 extends Pr{constructor(i){super(),this.markers=new Nt({idProperty:"name"}),this._model=i.model,this._document=i,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&"marker"!=d.type&&"rename"!=d.type&&"noop"!=d.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{for(const o of this.getRanges())if(!this._document._validateSelectionRange(o))throw new S.a("document-selection-wrong-position",this,{range:o})}),this.listenTo(this._model.markers,"update",(o,a,d,u)=>{this._updateMarker(a,u)}),this.listenTo(this._document,"change",(o,a)=>{!function(d,u){const f=d.document.differ;for(const g of f.getChanges()){if("insert"!=g.type)continue;const b=g.position.parent;g.length===b.maxOffset&&d.enqueueChange(u,_=>{const C=Array.from(b.getAttributeKeys()).filter(w=>w.startsWith(a2));for(const w of C)_.removeAttribute(w,b)})}}(this._model,a)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let i=0;i<this._ranges.length;i++)this._ranges[i].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(i,o,a){super.setTo(i,o,a),this._updateAttributes(!0),this._updateMarkers()}setFocus(i,o){super.setFocus(i,o),this._updateAttributes(!0),this._updateMarkers()}setAttribute(i,o){this._setAttribute(i,o)&&this.fire("change:attribute",{attributeKeys:[i],directChange:!0})}removeAttribute(i){this._removeAttribute(i)&&this.fire("change:attribute",{attributeKeys:[i],directChange:!0})}overrideGravity(){const i=V();return this._overriddenGravityRegister.add(i),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),i}restoreGravity(i){if(!this._overriddenGravityRegister.has(i))throw new S.a("document-selection-gravity-wrong-restore",this,{uid:i});this._overriddenGravityRegister.delete(i),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(i){this._observedMarkers.add(i),this._updateMarkers()}_popRange(){this._ranges.pop().detach()}_pushRange(i){const o=this._prepareRange(i);o&&this._ranges.push(o)}_prepareRange(i){if(this._checkRange(i),i.root==this._document.graveyard)return;const o=zr.fromRange(i);return o.on("change:range",(a,d,u)=>{if(this._hasChangedRange=!0,o.root==this._document.graveyard){this._selectionRestorePosition=u.deletionPosition;const f=this._ranges.indexOf(o);this._ranges.splice(f,1),o.detach()}}),o}_updateMarkers(){if(!this._observedMarkers.size)return;const i=[];let o=!1;for(const d of this._model.markers){const u=d.name.split(":",1)[0];if(!this._observedMarkers.has(u))continue;const f=d.getRange();for(const g of this.getRanges())f.containsRange(g,!g.isCollapsed)&&i.push(d)}const a=Array.from(this.markers);for(const d of i)this.markers.has(d)||(this.markers.add(d),o=!0);for(const d of Array.from(this.markers))i.includes(d)||(this.markers.remove(d),o=!0);o&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(i,o){const a=i.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let d=!1;const u=Array.from(this.markers),f=this.markers.has(i);if(o){let g=!1;for(const b of this.getRanges())if(o.containsRange(b,!b.isCollapsed)){g=!0;break}g&&!f?(this.markers.add(i),d=!0):!g&&f&&(this.markers.remove(i),d=!0)}else f&&(this.markers.remove(i),d=!0);d&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}_updateAttributes(i){const o=ro(this._getSurroundingAttributes()),a=ro(this.getAttributes());if(i)this._attributePriority=new Map,this._attrs=new Map;else for(const[u,f]of this._attributePriority)"low"==f&&(this._attrs.delete(u),this._attributePriority.delete(u));this._setAttributesTo(o);const d=[];for(const[u,f]of this.getAttributes())a.has(u)&&a.get(u)===f||d.push(u);for(const[u]of a)this.hasAttribute(u)||d.push(u);d.length>0&&this.fire("change:attribute",{attributeKeys:d,directChange:!1})}_setAttribute(i,o,a=!0){const d=a?"normal":"low";return("low"!=d||"normal"!=this._attributePriority.get(i))&&super.getAttribute(i)!==o&&(this._attrs.set(i,o),this._attributePriority.set(i,d),!0)}_removeAttribute(i,o=!0){const a=o?"normal":"low";return!("low"==a&&"normal"==this._attributePriority.get(i)||(this._attributePriority.set(i,a),!super.hasAttribute(i)||(this._attrs.delete(i),0)))}_setAttributesTo(i){const o=new Set;for(const[a,d]of this.getAttributes())i.get(a)!==d&&this._removeAttribute(a,!1);for(const[a,d]of i)this._setAttribute(a,d,!1)&&o.add(a);return o}*_getStoredAttributes(){const i=this.getFirstPosition().parent;if(this.isCollapsed&&i.isEmpty)for(const o of i.getAttributeKeys())o.startsWith(a2)&&(yield[o.substr(a2.length),i.getAttribute(o)])}_getSurroundingAttributes(){const i=this.getFirstPosition(),o=this._model.schema;let a=null;if(this.isCollapsed){const d=i.textNode?i.textNode:i.nodeBefore,u=i.textNode?i.textNode:i.nodeAfter;if(this.isGravityOverridden||(a=c2(d)),a||(a=c2(u)),!this.isGravityOverridden&&!a){let f=d;for(;f&&!o.isInline(f)&&!a;)f=f.previousSibling,a=c2(f)}if(!a){let f=u;for(;f&&!o.isInline(f)&&!a;)f=f.nextSibling,a=c2(f)}a||(a=this._getStoredAttributes())}else{const d=this.getFirstRange();for(const u of d){if(u.item.is("element")&&o.isObject(u.item))break;if("text"==u.type){a=u.item.getAttributes();break}}}return a}_fixGraveyardSelection(i){const o=this._model.schema.getNearestSelectionRange(i);o&&this._pushRange(o)}}function c2(l){return l instanceof Kn||l instanceof ft?l.getAttributes():null}class Od{constructor(i){this._dispatchers=i}add(i){for(const o of this._dispatchers)i(o);return this}}var pr=function(l){return Ro(l,5)};class g1 extends Od{elementToElement(i){return this.add(function(o){return(o=pr(o)).view=Or(o.view,"container"),a=>{var d;if(a.on("insert:"+o.model,(d=o.view,(u,f,g)=>{const b=d(f.item,g);if(!b||!g.consumable.consume(f.item,"insert"))return;const _=g.mapper.toViewPosition(f.range.start);g.mapper.bindElements(f.item,b),g.writer.insert(_,b)}),{priority:o.converterPriority||"normal"}),o.triggerBy){if(o.triggerBy.attributes)for(const u of o.triggerBy.attributes)a._mapReconversionTriggerEvent(o.model,`attribute:${u}:${o.model}`);if(o.triggerBy.children)for(const u of o.triggerBy.children)a._mapReconversionTriggerEvent(o.model,`insert:${u}`),a._mapReconversionTriggerEvent(o.model,`remove:${u}`)}}}(i))}attributeToElement(i){return this.add(function(o){let a="attribute:"+((o=pr(o)).model.key?o.model.key:o.model);if(o.model.name&&(a+=":"+o.model.name),o.model.values)for(const u of o.model.values)o.view[u]=Or(o.view[u],"attribute");else o.view=Or(o.view,"attribute");const d=Ld(o);return u=>{var f;u.on(a,(f=d,(g,b,_)=>{const C=f(b.attributeOldValue,_),w=f(b.attributeNewValue,_);if(!C&&!w||!_.consumable.consume(b.item,g.name))return;const D=_.writer;if(b.item instanceof Pr||b.item instanceof vi)D.wrap(D.document.selection.getFirstRange(),w);else{let T=_.mapper.toViewRange(b.range);null!==b.attributeOldValue&&C&&(T=D.unwrap(T,C)),null!==b.attributeNewValue&&w&&D.wrap(T,w)}}),{priority:o.converterPriority||"normal"})}}(i))}attributeToAttribute(i){return this.add(function(o){let a="attribute:"+((o=pr(o)).model.key?o.model.key:o.model);if(o.model.name&&(a+=":"+o.model.name),o.model.values)for(const u of o.model.values)o.view[u]=q0(o.view[u]);else o.view=q0(o.view);const d=Ld(o);return u=>{var f;u.on(a,(f=d,(g,b,_)=>{const C=f(b.attributeOldValue,_),w=f(b.attributeNewValue,_);if(!C&&!w||!_.consumable.consume(b.item,g.name))return;const D=_.mapper.toViewElement(b.item),x=_.writer;if(!D)throw new S.a("conversion-attribute-to-attribute-on-text",[b,_]);if(null!==b.attributeOldValue&&C)if("class"==C.key){const T=vn(C.value);for(const R of T)x.removeClass(R,D)}else if("style"==C.key){const T=Object.keys(C.value);for(const R of T)x.removeStyle(R,D)}else x.removeAttribute(C.key,D);if(null!==b.attributeNewValue&&w)if("class"==w.key){const T=vn(w.value);for(const R of T)x.addClass(R,D)}else if("style"==w.key){const T=Object.keys(w.value);for(const R of T)x.setStyle(R,w.value[R],D)}else x.setAttribute(w.key,w.value,D)}),{priority:o.converterPriority||"normal"})}}(i))}markerToElement(i){return this.add(function(o){return(o=pr(o)).view=Or(o.view,"ui"),a=>{var d;a.on("addMarker:"+o.model,(d=o.view,(u,f,g)=>{f.isOpening=!0;const b=d(f,g);f.isOpening=!1;const _=d(f,g);if(!b||!_)return;const C=f.markerRange;if(C.isCollapsed&&!g.consumable.consume(C,u.name))return;for(const x of C)if(!g.consumable.consume(x.item,u.name))return;const w=g.mapper,D=g.writer;D.insert(w.toViewPosition(C.start),b),g.mapper.bindElementToMarker(b,f.markerName),C.isCollapsed||(D.insert(w.toViewPosition(C.end),_),g.mapper.bindElementToMarker(_,f.markerName)),u.stop()}),{priority:o.converterPriority||"normal"}),a.on("removeMarker:"+o.model,(u,f,g)=>{const b=g.mapper.markerNameToElements(f.markerName);if(b){for(const _ of b)g.mapper.unbindElementFromMarkerName(_,f.markerName),g.writer.clear(g.writer.createRangeOn(_),_);g.writer.clearClonedElementsGroup(f.markerName),u.stop()}},{priority:o.converterPriority||"normal"})}}(i))}markerToHighlight(i){return this.add(function(o){return a=>{var d,u;a.on("addMarker:"+o.model,(d=o.view,(u,f,g)=>{if(!f.item||!(f.item instanceof Pr||f.item instanceof vi||f.item.is("$textProxy")))return;const b=m1(d,f,g);if(!b||!g.consumable.consume(f.item,u.name))return;const _=g.writer,C=Zi(_,b),w=_.document.selection;if(f.item instanceof Pr||f.item instanceof vi)_.wrap(w.getFirstRange(),C,w);else{const D=g.mapper.toViewRange(f.range),x=_.wrap(D,C);for(const T of x.getItems())if(T.is("attributeElement")&&T.isSimilar(C)){g.mapper.bindElementToMarker(T,f.markerName);break}}}),{priority:o.converterPriority||"normal"}),a.on("addMarker:"+o.model,(u=o.view,(f,g,b)=>{if(!(g.item&&g.item instanceof pt))return;const _=m1(u,g,b);if(!_||!b.consumable.test(g.item,f.name))return;const C=b.mapper.toViewElement(g.item);if(C&&C.getCustomProperty("addHighlight")){b.consumable.consume(g.item,f.name);for(const w of W._createIn(g.item))b.consumable.consume(w.item,f.name);C.getCustomProperty("addHighlight")(C,_,b.writer),b.mapper.bindElementToMarker(C,g.markerName)}}),{priority:o.converterPriority||"normal"}),a.on("removeMarker:"+o.model,function(u){return(f,g,b)=>{if(g.markerRange.isCollapsed)return;const _=m1(u,g,b);if(!_)return;const C=Zi(b.writer,_),w=b.mapper.markerNameToElements(g.markerName);if(w){for(const D of w)b.mapper.unbindElementFromMarkerName(D,g.markerName),D.is("attributeElement")?b.writer.unwrap(b.writer.createRangeOn(D),C):D.getCustomProperty("removeHighlight")(D,_.id,b.writer);b.writer.clearClonedElementsGroup(g.markerName),f.stop()}}}(o.view),{priority:o.converterPriority||"normal"})}}(i))}markerToData(i){return this.add(function(o){const a=(o=pr(o)).model;return o.view||(o.view=d=>({group:a,name:d.substr(o.model.length+1)})),d=>{var u,f;d.on("addMarker:"+a,(u=o.view,(f,g,b)=>{const _=u(g.markerName,b);if(!_)return;const C=g.markerRange;b.consumable.consume(C,f.name)&&(W0(C,!1,b,g,_),W0(C,!0,b,g,_),f.stop())}),{priority:o.converterPriority||"normal"}),d.on("removeMarker:"+a,(f=o.view,(g,b,_)=>{const C=f(b.markerName,_);if(!C)return;const w=_.mapper.markerNameToElements(b.markerName);if(w){for(const x of w)_.mapper.unbindElementFromMarkerName(x,b.markerName),x.is("containerElement")?(D(`data-${C.group}-start-before`,x),D(`data-${C.group}-start-after`,x),D(`data-${C.group}-end-before`,x),D(`data-${C.group}-end-after`,x)):_.writer.clear(_.writer.createRangeOn(x),x);_.writer.clearClonedElementsGroup(b.markerName),g.stop()}function D(x,T){if(T.hasAttribute(x)){const R=new Set(T.getAttribute(x).split(","));R.delete(C.name),0==R.size?_.writer.removeAttribute(x,T):_.writer.setAttribute(x,Array.from(R).join(","),T)}}}),{priority:o.converterPriority||"normal"})}}(i))}}function Zi(l,i){const o=l.createAttributeElement("span",i.attributes);return i.classes&&o._addClass(i.classes),i.priority&&(o._priority=i.priority),o._id=i.id,o}function W0(l,i,o,a,d){const u=i?l.start:l.end;if(o.schema.checkChild(u,"$text"))!function(f,g,b,_,C){const x=b.writer.createUIElement(`${C.group}-${g?"start":"end"}`,C.name?{name:C.name}:null);b.writer.insert(f,x),b.mapper.bindElementToMarker(x,_.markerName)}(o.mapper.toViewPosition(u),i,o,a,d);else{let f,g;i&&u.nodeAfter||!i&&!u.nodeBefore?(f=u.nodeAfter,g=!0):(f=u.nodeBefore,g=!1),function(b,_,C,w,D,x){const T=`data-${x.group}-${_?"start":"end"}-${C?"before":"after"}`,R=b.hasAttribute(T)?b.getAttribute(T).split(","):[];R.unshift(x.name),w.writer.setAttribute(T,R.join(","),b),w.mapper.bindElementToMarker(b,D.markerName)}(o.mapper.toViewElement(f),i,g,o,a,d)}}function Or(l,i){return"function"==typeof l?l:(o,a)=>function(d,u,f){let g;"string"==typeof d&&(d={name:d});const b=u.writer,_=Object.assign({},d.attributes);if(g="container"==f?b.createContainerElement(d.name,_):"attribute"==f?b.createAttributeElement(d.name,_,{priority:d.priority||zs.DEFAULT_PRIORITY}):b.createUIElement(d.name,_),d.styles){const C=Object.keys(d.styles);for(const w of C)b.setStyle(w,d.styles[w],g)}if(d.classes){const C=d.classes;if("string"==typeof C)b.addClass(C,g);else for(const w of C)b.addClass(w,g)}return g}(l,a,i)}function Ld(l){return l.model.values?(i,o)=>{const a=l.view[i];return a?a(i,o):null}:l.view}function q0(l){return"string"==typeof l?i=>({key:l,value:i}):"object"==typeof l?l.value?()=>l:i=>({key:l.key,value:i}):l}function m1(l,i,o){const a="function"==typeof l?l(i,o):l;return a?(a.priority||(a.priority=10),a.id||(a.id=i.markerName),a):null}function b1(l){const{schema:i,document:o}=l.model;for(const a of o.getRootNames()){const d=o.getRoot(a);if(d.isEmpty&&!i.checkChild(d,"$text")&&i.checkChild(d,"paragraph"))return l.insertElement("paragraph",d),!0}return!1}function K0(l,i,o){const a=o.createContext(l);return!!o.checkChild(a,"paragraph")&&!!o.checkChild(a.push("paragraph"),i)}function Rd(l,i){const o=i.createElement("paragraph");return i.insert(o,l),i.createPositionAt(o,0)}class yf extends Od{elementToElement(i){return this.add(Wo(i))}elementToAttribute(i){return this.add(function(o){Af(o=pr(o));const a=Z0(o,!1),d=qo(o.view),u=d?"element:"+d:"element";return f=>{f.on(u,a,{priority:o.converterPriority||"low"})}}(i))}attributeToAttribute(i){return this.add(function(o){let a=null;("string"==typeof(o=pr(o)).view||o.view.key)&&(a=function(u){"string"==typeof u.view&&(u.view={key:u.view});const f=u.view.key;let g;return g="class"==f||"style"==f?{["class"==f?"classes":"styles"]:u.view.value}:{attributes:{[f]:void 0===u.view.value?/[\s\S]*/:u.view.value}},u.view.name&&(g.name=u.view.name),u.view=g,f}(o)),Af(o,a);const d=Z0(o,!0);return u=>{u.on("element",d,{priority:o.converterPriority||"low"})}}(i))}elementToMarker(i){return Object(S.b)("upcast-helpers-element-to-marker-deprecated"),this.add(function(o){return function(a){const d=a.model;a.model=(u,f)=>{const g="string"==typeof d?d:d(u,f);return f.writer.createElement("$marker",{"data-name":g})}}(o=pr(o)),Wo(o)}(i))}dataToMarker(i){return this.add(function(o){(o=pr(o)).model||(o.model=u=>u?o.view+":"+u:o.view);const a=J0(Vd(o,"start")),d=J0(Vd(o,"end"));return u=>{u.on("element:"+o.view+"-start",a,{priority:o.converterPriority||"normal"}),u.on("element:"+o.view+"-end",d,{priority:o.converterPriority||"normal"});const f=fe.get("low"),g=fe.get("highest"),b=fe.get(o.converterPriority)/g;var _;u.on("element",(_=o,(C,w,D)=>{const x=`data-${_.view}`;function T(R,L){for(const $ of L){const Y=_.model($,D),te=D.writer.createElement("$marker",{"data-name":Y});D.writer.insert(te,R),w.modelCursor=w.modelCursor.isEqual(R)?w.modelCursor.getShiftedBy(1):w.modelCursor._getTransformedByInsertion(R,1),w.modelRange=w.modelRange._getTransformedByInsertion(R,1)[0]}}w.modelRange||(w=Object.assign(w,D.convertChildren(w.viewItem,w.modelCursor))),D.consumable.consume(w.viewItem,{attributes:x+"-end-after"})&&T(w.modelRange.end,w.viewItem.getAttribute(x+"-end-after").split(",")),D.consumable.consume(w.viewItem,{attributes:x+"-start-after"})&&T(w.modelRange.end,w.viewItem.getAttribute(x+"-start-after").split(",")),D.consumable.consume(w.viewItem,{attributes:x+"-end-before"})&&T(w.modelRange.start,w.viewItem.getAttribute(x+"-end-before").split(",")),D.consumable.consume(w.viewItem,{attributes:x+"-start-before"})&&T(w.modelRange.start,w.viewItem.getAttribute(x+"-start-before").split(","))}),{priority:f+b})}}(i))}}function Wo(l){const i=J0(l=pr(l)),o=qo(l.view),a=o?"element:"+o:"element";return d=>{d.on(a,i,{priority:l.converterPriority||"normal"})}}function qo(l){return"string"==typeof l?l:"object"==typeof l&&"string"==typeof l.name?l.name:null}function J0(l){const i=new zc(l.view);return(o,a,d)=>{const u=i.match(a.viewItem);if(!u)return;const f=u.match;if(f.name=!0,!d.consumable.test(a.viewItem,f))return;const g=(C=d,(b=l.model)instanceof Function?b(a.viewItem,C):C.writer.createElement(b));var b,C;g&&d.safeInsert(g,a.modelCursor)&&(d.consumable.consume(a.viewItem,f),d.convertChildren(a.viewItem,g),d.updateConversionResult(g,a))}}function Af(l,i=null){l.model={key:"object"!=typeof l.model?l.model:l.model.key,value:"object"!=typeof l.model||void 0===l.model.value?null===i||(u=>u.getAttribute(i)):l.model.value}}function Z0(l,i){const o=new zc(l.view);return(a,d,u)=>{const f=o.match(d.viewItem);if(!f)return;const g=l.model.key,b="function"==typeof l.model.value?l.model.value(d.viewItem,u):l.model.value;null!==b&&(function(_,C){const w="function"==typeof _?_(C):_;return!("object"==typeof w&&!qo(w)||w.classes||w.attributes||w.styles)}(l.view,d.viewItem)?f.match.name=!0:delete f.match.name,u.consumable.test(d.viewItem,f.match)&&(d.modelRange||(d=Object.assign(d,u.convertChildren(d.viewItem,d.modelCursor))),function(_,C,w,D){let x=!1;for(const T of Array.from(_.getItems({shallow:w})))D.schema.checkAttribute(T,C.key)&&(x=!0,T.hasAttribute(C.key)||D.writer.setAttribute(C.key,C.value,T));return x}(d.modelRange,{key:g,value:b},i,u)&&u.consumable.consume(d.viewItem,f.match)))}}function Vd(l,i){const o={};return o.view=l.view+"-"+i,o.model=(a,d)=>{const u=a.getAttribute("name"),f=l.model(u,d);return d.writer.createElement("$marker",{"data-name":f})},o}class Df{constructor(i,o){this.model=i,this.view=new B0(o),this.mapper=new Ws,this.downcastDispatcher=new f1({mapper:this.mapper,schema:i.schema});const a=this.model.document,d=a.selection,u=this.model.markers;var f,g;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(f=>{this.downcastDispatcher.convertChanges(a.differ,u,f),this.downcastDispatcher.convertSelection(d,u,f)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(f=this.model,g=this.mapper,(b,_)=>{const C=_.newSelection,w=[];for(const x of C.getRanges())w.push(g.toModelRange(x));const D=f.createSelection(w,{backward:C.isBackward});D.isEqual(f.document.selection)||f.change(x=>{x.setSelection(D)})})),this.downcastDispatcher.on("insert:$text",(f,g,b)=>{if(!b.consumable.consume(g.item,"insert"))return;const _=b.writer,C=b.mapper.toViewPosition(g.range.start),w=_.createText(g.item.data);_.insert(C,w)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(f,g,b)=>{const _=b.mapper.toViewPosition(g.position),C=g.position.getShiftedBy(g.length),w=b.mapper.toViewPosition(C,{isPhantom:!0}),D=b.writer.createRange(_,w),x=b.writer.remove(D.getTrimmed());for(const T of b.writer.createRangeIn(x).getItems())b.mapper.unbindViewElement(T)},{priority:"low"}),this.downcastDispatcher.on("selection",(f,g,b)=>{const _=b.writer,C=_.document.selection;for(const w of C.getRanges())w.isCollapsed&&w.end.parent.isAttached()&&b.writer.mergeAttributes(w.start);_.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(f,g,b)=>{const _=g.selection;if(_.isCollapsed||!b.consumable.consume(_,"selection"))return;const C=[];for(const w of _.getRanges()){const D=b.mapper.toViewRange(w);C.push(D)}b.writer.setSelection(C,{backward:_.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(f,g,b)=>{const _=g.selection;if(!_.isCollapsed||!b.consumable.consume(_,"selection"))return;const C=b.writer,w=_.getFirstPosition(),D=b.mapper.toViewPosition(w),x=C.breakAttributes(D);C.setSelection(x)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(f=>{if("$graveyard"==f.rootName)return null;const g=new Fc(this.view.document,f.name);return g.rootName=f.rootName,this.mapper.bindElements(f,g),g})}destroy(){this.view.destroy(),this.stopListening()}}Ee(Df,ln);class xf{constructor(){this._commands=new Map}add(i,o){this._commands.set(i,o)}get(i){return this._commands.get(i)}execute(i,...o){const a=this.get(i);if(!a)throw new S.a("commandcollection-command-not-found",this,{commandName:i});return a.execute(...o)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const i of this.commands())i.destroy()}}class v1{constructor(){this._consumables=new Map}add(i,o){let a;i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):(this._consumables.has(i)?a=this._consumables.get(i):(a=new Mf(i),this._consumables.set(i,a)),a.add(o))}test(i,o){const a=this._consumables.get(i);return void 0===a?null:i.is("$text")||i.is("documentFragment")?a:a.test(o)}consume(i,o){return!!this.test(i,o)&&(i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!1):this._consumables.get(i).consume(o),!0)}revert(i,o){const a=this._consumables.get(i);void 0!==a&&(i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):a.revert(o))}static consumablesFromElement(i){const o={element:i,name:!0,attributes:[],classes:[],styles:[]},a=i.getAttributeKeys();for(const f of a)"style"!=f&&"class"!=f&&o.attributes.push(f);const d=i.getClassNames();for(const f of d)o.classes.push(f);const u=i.getStyleNames();for(const f of u)o.styles.push(f);return o}static createFrom(i,o){if(o||(o=new v1(i)),i.is("$text"))return o.add(i),o;i.is("element")&&o.add(i,v1.consumablesFromElement(i)),i.is("documentFragment")&&o.add(i);for(const a of i.getChildren())o=v1.createFrom(a,o);return o}}class Mf{constructor(i){this.element=i,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(i){i.name&&(this._canConsumeName=!0);for(const o in this._consumables)o in i&&this._add(o,i[o])}test(i){if(i.name&&!this._canConsumeName)return this._canConsumeName;for(const o in this._consumables)if(o in i){const a=this._test(o,i[o]);if(!0!==a)return a}return!0}consume(i){i.name&&(this._canConsumeName=!1);for(const o in this._consumables)o in i&&this._consume(o,i[o])}revert(i){i.name&&(this._canConsumeName=!0);for(const o in this._consumables)o in i&&this._revert(o,i[o])}_add(i,o){const a=Ln(o)?o:[o],d=this._consumables[i];for(const u of a){if("attributes"===i&&("class"===u||"style"===u))throw new S.a("viewconsumable-invalid-attribute",this);if(d.set(u,!0),"styles"===i)for(const f of this.element.document.stylesProcessor.getRelatedStyles(u))d.set(f,!0)}}_test(i,o){const a=Ln(o)?o:[o],d=this._consumables[i];for(const u of a)if("attributes"!==i||"class"!==u&&"style"!==u){const f=d.get(u);if(void 0===f)return null;if(!f)return!1}else{const f="class"==u?"classes":"styles",g=this._test(f,[...this._consumables[f].keys()]);if(!0!==g)return g}return!0}_consume(i,o){const a=Ln(o)?o:[o],d=this._consumables[i];for(const u of a)if("attributes"!==i||"class"!==u&&"style"!==u){if(d.set(u,!1),"styles"==i)for(const f of this.element.document.stylesProcessor.getRelatedStyles(u))d.set(f,!1)}else{const f="class"==u?"classes":"styles";this._consume(f,[...this._consumables[f].keys()])}}_revert(i,o){const a=Ln(o)?o:[o],d=this._consumables[i];for(const u of a)if("attributes"!==i||"class"!==u&&"style"!==u)!1===d.get(u)&&d.set(u,!0);else{const f="class"==u?"classes":"styles";this._revert(f,[...this._consumables[f].keys()])}}}class _1{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(i,o)=>{o[0]=new Lr(o[0])},{priority:"highest"}),this.on("checkChild",(i,o)=>{o[0]=new Lr(o[0]),o[1]=this.getDefinition(o[1])},{priority:"highest"})}register(i,o){if(this._sourceDefinitions[i])throw new S.a("schema-cannot-register-item-twice",this,{itemName:i});this._sourceDefinitions[i]=[Object.assign({},o)],this._clearCache()}extend(i,o){if(!this._sourceDefinitions[i])throw new S.a("schema-cannot-extend-missing-item",this,{itemName:i});this._sourceDefinitions[i].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(i){let o;return o="string"==typeof i?i:i.is&&(i.is("$text")||i.is("$textProxy"))?"$text":i.name,this.getDefinitions()[o]}isRegistered(i){return!!this.getDefinition(i)}isBlock(i){const o=this.getDefinition(i);return!(!o||!o.isBlock)}isLimit(i){const o=this.getDefinition(i);return!(!o||!o.isLimit&&!o.isObject)}isObject(i){const o=this.getDefinition(i);return!!o&&!!(o.isObject||o.isLimit&&o.isSelectable&&o.isContent)}isInline(i){const o=this.getDefinition(i);return!(!o||!o.isInline)}isSelectable(i){const o=this.getDefinition(i);return!(!o||!o.isSelectable&&!o.isObject)}isContent(i){const o=this.getDefinition(i);return!(!o||!o.isContent&&!o.isObject)}checkChild(i,o){return!!o&&this._checkContextMatch(o,i)}checkAttribute(i,o){const a=this.getDefinition(i.last);return!!a&&a.allowAttributes.includes(o)}checkMerge(i,o=null){if(i instanceof Z){const a=i.nodeBefore,d=i.nodeAfter;if(!(a instanceof pt))throw new S.a("schema-check-merge-no-element-before",this);if(!(d instanceof pt))throw new S.a("schema-check-merge-no-element-after",this);return this.checkMerge(a,d)}for(const a of o.getChildren())if(!this.checkChild(i,a))return!1;return!0}addChildCheck(i){this.on("checkChild",(o,[a,d])=>{if(!d)return;const u=i(a,d);"boolean"==typeof u&&(o.stop(),o.return=u)},{priority:"high"})}addAttributeCheck(i){this.on("checkAttribute",(o,[a,d])=>{const u=i(a,d);"boolean"==typeof u&&(o.stop(),o.return=u)},{priority:"high"})}setAttributeProperties(i,o){this._attributeProperties[i]=Object.assign(this.getAttributeProperties(i),o)}getAttributeProperties(i){return this._attributeProperties[i]||{}}getLimitElement(i){let o;for(o=i instanceof Z?i.parent:(i instanceof W?[i]:Array.from(i.getRanges())).reduce((a,d)=>{const u=d.getCommonAncestor();return a?a.getCommonAncestor(u,{includeSelf:!0}):u},null);!this.isLimit(o)&&o.parent;)o=o.parent;return o}checkAttributeInSelection(i,o){if(i.isCollapsed){const a=[...i.getFirstPosition().getAncestors(),new ft("",i.getAttributes())];return this.checkAttribute(a,o)}{const a=i.getRanges();for(const d of a)for(const u of d)if(this.checkAttribute(u.item,o))return!0}return!1}*getValidRanges(i,o){i=function*(a){for(const d of a)yield*d.getMinimalFlatRanges()}(i);for(const a of i)yield*this._getValidRangesForRange(a,o)}getNearestSelectionRange(i,o="both"){if(this.checkChild(i,"$text"))return new W(i);let a,d;const u=i.getAncestors().reverse().find(f=>this.isLimit(f))||i.root;"both"!=o&&"backward"!=o||(a=new Ir({boundaries:W._createIn(u),startPosition:i,direction:"backward"})),"both"!=o&&"forward"!=o||(d=new Ir({boundaries:W._createIn(u),startPosition:i}));for(const f of function*(g,b){let _=!1;for(;!_;){if(_=!0,g){const C=g.next();C.done||(_=!1,yield{walker:g,value:C.value})}if(b){const C=b.next();C.done||(_=!1,yield{walker:b,value:C.value})}}}(a,d)){const b=f.value;if(b.type==(f.walker==a?"elementEnd":"elementStart")&&this.isObject(b.item))return W._createOn(b.item);if(this.checkChild(b.nextPosition,"$text"))return new W(b.nextPosition)}return null}findAllowedParent(i,o){let a=i.parent;for(;a;){if(this.checkChild(a,o))return a;if(this.isLimit(a))return null;a=a.parent}return null}removeDisallowedAttributes(i,o){for(const a of i)if(a.is("$text"))Bd(this,a,o);else{const d=W._createIn(a).getPositions();for(const u of d)Bd(this,u.nodeBefore||u.parent,o)}}createContext(i){return new Lr(i)}_clearCache(){this._compiledDefinitions=null}_compile(){const i={},o=this._sourceDefinitions,a=Object.keys(o);for(const d of a)i[d]=Ks(o[d],d);for(const d of a)Ef(i,d);for(const d of a)Sf(i,d);for(const d of a)pb(i,d),l2(i,d);for(const d of a)Y0(i,d),Fd(i,d);this._compiledDefinitions=i}_checkContextMatch(i,o,a=o.length-1){const d=o.getItem(a);if(i.allowIn.includes(d.name)){if(0==a)return!0;{const u=this.getDefinition(d);return this._checkContextMatch(u,o,a-1)}}return!1}*_getValidRangesForRange(i,o){let a=i.start,d=i.start;for(const u of i.getItems({shallow:!0}))u.is("element")&&(yield*this._getValidRangesForRange(W._createIn(u),o)),this.checkAttribute(u,o)||(a.isEqual(d)||(yield new W(a,d)),a=Z._createAfter(u)),d=Z._createAfter(u);a.isEqual(d)||(yield new W(a,d))}}Ee(_1,ln);class Lr{constructor(i){if(i instanceof Lr)return i;"string"==typeof i?i=[i]:Array.isArray(i)||(i=i.getAncestors({includeSelf:!0})),this._items=i.map(Jo)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(i){const o=new Lr([i]);return o._items=[...this._items,...o._items],o}getItem(i){return this._items[i]}*getNames(){yield*this._items.map(i=>i.name)}endsWith(i){return Array.from(this.getNames()).join(" ").endsWith(i)}startsWith(i){return Array.from(this.getNames()).join(" ").startsWith(i)}}function Ks(l,i){const o={name:i,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(a,d){for(const u of a){const f=Object.keys(u).filter(g=>g.startsWith("is"));for(const g of f)d[g]=u[g]}}(l,o),Ko(l,o,"allowIn"),Ko(l,o,"allowContentOf"),Ko(l,o,"allowWhere"),Ko(l,o,"allowAttributes"),Ko(l,o,"allowAttributesOf"),Ko(l,o,"inheritTypesFrom"),function(a,d){for(const u of a){const f=u.inheritAllFrom;f&&(d.allowContentOf.push(f),d.allowWhere.push(f),d.allowAttributesOf.push(f),d.inheritTypesFrom.push(f))}}(l,o),o}function Ef(l,i){for(const o of l[i].allowContentOf)l[o]&&Hd(l,o).forEach(a=>{a.allowIn.push(i)});delete l[i].allowContentOf}function Sf(l,i){for(const o of l[i].allowWhere){const a=l[o];a&&l[i].allowIn.push(...a.allowIn)}delete l[i].allowWhere}function pb(l,i){for(const o of l[i].allowAttributesOf){const a=l[o];a&&l[i].allowAttributes.push(...a.allowAttributes)}delete l[i].allowAttributesOf}function l2(l,i){const o=l[i];for(const a of o.inheritTypesFrom){const d=l[a];if(d){const u=Object.keys(d).filter(f=>f.startsWith("is"));for(const f of u)f in o||(o[f]=d[f])}}delete o.inheritTypesFrom}function Y0(l,i){const o=l[i],a=o.allowIn.filter(d=>l[d]);o.allowIn=Array.from(new Set(a))}function Fd(l,i){const o=l[i];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function Ko(l,i,o){for(const a of l)"string"==typeof a[o]?i[o].push(a[o]):Array.isArray(a[o])&&i[o].push(...a[o])}function Hd(l,i){const o=l[i];return(a=l,Object.keys(a).map(d=>a[d])).filter(d=>d.allowIn.includes(o.name));var a}function Jo(l){return"string"==typeof l||l.is("documentFragment")?{name:"string"==typeof l?l:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:l.is("element")?l.name:"$text",*getAttributeKeys(){yield*l.getAttributeKeys()},getAttribute:i=>l.getAttribute(i)}}function Bd(l,i,o){for(const a of i.getAttributeKeys())l.checkAttribute(i,a)||o.removeAttribute(a,i)}class jd{constructor(i={}){this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},i),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(i,o,a=["$root"]){this.fire("viewCleanup",i),this._modelCursor=function(f,g){let b;for(const _ of new Lr(f)){const C={};for(const D of _.getAttributeKeys())C[D]=_.getAttribute(D);const w=g.createElement(_.name,C);b&&g.append(w,b),b=Z._createAt(w,0)}return b}(a,o),this.conversionApi.writer=o,this.conversionApi.consumable=v1.createFrom(i),this.conversionApi.store={};const{modelRange:d}=this._convertItem(i,this._modelCursor),u=o.createDocumentFragment();if(d){this._removeEmptyElements();for(const f of Array.from(this._modelCursor.parent.getChildren()))o.append(f,u);u.markers=function(f,g){const b=new Set,_=new Map,C=W._createIn(f).getItems();for(const w of C)"$marker"==w.name&&b.add(w);for(const w of b){const D=w.getAttribute("data-name"),x=g.createPositionBefore(w);_.has(D)?_.get(D).end=x.clone():_.set(D,new W(x.clone())),g.remove(w)}return _}(u,o)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,u}_convertItem(i,o){const a=Object.assign({viewItem:i,modelCursor:o,modelRange:null});if(i.is("element")?this.fire("element:"+i.name,a,this.conversionApi):i.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof W))throw new S.a("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(i,o){let a=o.is("position")?o:Z._createAt(o,0);const d=new W(a);for(const u of Array.from(i.getChildren())){const f=this._convertItem(u,a);f.modelRange instanceof W&&(d.end=f.modelRange.end,a=f.modelCursor)}return{modelRange:d,modelCursor:a}}_safeInsert(i,o){const a=this._splitToAllowedParent(i,o);return!!a&&(this.conversionApi.writer.insert(i,a.position),!0)}_updateConversionResult(i,o){const a=this._getSplitParts(i),d=this.conversionApi.writer;o.modelRange||(o.modelRange=d.createRange(d.createPositionBefore(i),d.createPositionAfter(a[a.length-1])));const u=this._cursorParents.get(i);o.modelCursor=u?d.createPositionAt(u,0):o.modelRange.end}_splitToAllowedParent(i,o){const{schema:a,writer:d}=this.conversionApi;let u=a.findAllowedParent(o,i);if(u){if(u===o.parent)return{position:o};this._modelCursor.parent.getAncestors().includes(u)&&(u=null)}if(!u)return K0(o,i,a)?{position:Rd(o,d)}:null;const f=this.conversionApi.writer.split(o,u),g=[];for(const _ of f.range.getWalker())if("elementEnd"==_.type)g.push(_.item);else{const C=g.pop();this._registerSplitPair(C,_.item)}const b=f.range.end.parent;return this._cursorParents.set(i,b),{position:f.position,cursorParent:b}}_registerSplitPair(i,o){this._splitParts.has(i)||this._splitParts.set(i,[i]);const a=this._splitParts.get(i);this._splitParts.set(o,a),a.push(o)}_getSplitParts(i){let o;return o=this._splitParts.has(i)?this._splitParts.get(i):[i],o}_removeEmptyElements(){let i=!1;for(const o of this._splitParts.keys())o.isEmpty&&(this.conversionApi.writer.remove(o),this._splitParts.delete(o),i=!0);i&&this._removeEmptyElements()}}Ee(jd,Oe);class Nf{getHtml(i){const o=document.implementation.createHTMLDocument("").createElement("div");return o.appendChild(i),o.innerHTML}}class Tf{constructor(i){this._domParser=new DOMParser,this._domConverter=new S0(i,{blockFillerMode:"nbsp"}),this._htmlWriter=new Nf}toData(i){const o=this._domConverter.viewToDom(i,document);return this._htmlWriter.getHtml(o)}toView(i){const o=this._toDom(i);return this._domConverter.domToView(o)}registerRawContentMatcher(i){this._domConverter.registerRawContentMatcher(i)}useFillerType(i){this._domConverter.blockFillerMode="marked"==i?"markedNbsp":"nbsp"}_toDom(i){const o=this._domParser.parseFromString(i,"text/html"),a=o.createDocumentFragment(),d=o.body.childNodes;for(;d.length>0;)a.appendChild(d[0]);return a}}class Gd{constructor(i,o){this.model=i,this.mapper=new Ws,this.downcastDispatcher=new f1({mapper:this.mapper,schema:i.schema}),this.downcastDispatcher.on("insert:$text",(a,d,u)=>{if(!u.consumable.consume(d.item,"insert"))return;const f=u.writer,g=u.mapper.toViewPosition(d.range.start),b=f.createText(d.item.data);f.insert(g,b)},{priority:"lowest"}),this.upcastDispatcher=new jd({schema:i.schema}),this.viewDocument=new Bc(o),this.stylesProcessor=o,this.htmlProcessor=new Tf(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new hr(this.viewDocument),this.upcastDispatcher.on("text",(a,d,{schema:u,consumable:f,writer:g})=>{let b=d.modelCursor;if(!f.test(d.viewItem))return;if(!u.checkChild(b,"$text")){if(!K0(b,"$text",u))return;b=Rd(b,g)}f.consume(d.viewItem);const _=g.createText(d.viewItem.data);g.insert(_,b),d.modelRange=g.createRange(b,b.getShiftedBy(_.offsetSize)),d.modelCursor=d.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,d,u)=>{if(!d.modelRange&&u.consumable.consume(d.viewItem,{name:!0})){const{modelRange:f,modelCursor:g}=u.convertChildren(d.viewItem,d.modelCursor);d.modelRange=f,d.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,d,u)=>{if(!d.modelRange&&u.consumable.consume(d.viewItem,{name:!0})){const{modelRange:f,modelCursor:g}=u.convertChildren(d.viewItem,d.modelCursor);d.modelRange=f,d.modelCursor=g}},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange("transparent",b1)},{priority:"lowest"})}get(i={}){const{rootName:o="main",trim:a="empty"}=i;if(!this._checkIfRootsExists([o]))throw new S.a("datacontroller-get-non-existent-root",this);const d=this.model.document.getRoot(o);return"empty"!==a||this.model.hasContent(d,{ignoreWhitespaces:!0})?this.stringify(d,i):""}stringify(i,o={}){const a=this.toView(i,o);return this.processor.toData(a)}toView(i,o={}){const a=this.viewDocument,d=this._viewWriter;this.mapper.clearBindings();const u=W._createIn(i),f=new zi(a);this.mapper.bindElements(i,f),this.downcastDispatcher.conversionApi.options=o,this.downcastDispatcher.convertInsert(u,d);const g=i.is("documentFragment")?Array.from(i.markers):function(b){const _=[],C=b.root.document;if(!C)return[];const w=W._createIn(b);for(const D of C.model.markers){const x=w.getIntersection(D.getRange());x&&_.push([D.name,x])}return _}(i);for(const[b,_]of g)this.downcastDispatcher.convertMarkerAdd(b,_,d);return delete this.downcastDispatcher.conversionApi.options,f}init(i){if(this.model.document.version)throw new S.a("datacontroller-init-document-not-empty",this);let o={};if("string"==typeof i?o.main=i:o=i,!this._checkIfRootsExists(Object.keys(o)))throw new S.a("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",a=>{for(const d of Object.keys(o)){const u=this.model.document.getRoot(d);a.insert(this.parse(o[d],u),u,0)}}),Promise.resolve()}set(i){let o={};if("string"==typeof i?o.main=i:o=i,!this._checkIfRootsExists(Object.keys(o)))throw new S.a("datacontroller-set-non-existent-root",this);this.model.enqueueChange("transparent",a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const d of Object.keys(o)){const u=this.model.document.getRoot(d);a.remove(a.createRangeIn(u)),a.insert(this.parse(o[d],u),u,0)}})}parse(i,o="$root"){const a=this.processor.toView(i);return this.toModel(a,o)}toModel(i,o="$root"){return this.model.change(a=>this.upcastDispatcher.convert(i,a,o))}addStyleProcessorRules(i){i(this.stylesProcessor)}registerRawContentMatcher(i){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(i),this.htmlProcessor.registerRawContentMatcher(i)}destroy(){this.stopListening()}_checkIfRootsExists(i){for(const o of i)if(!this.model.document.getRootNames().includes(o))return!1;return!0}}Ee(Gd,ln);class _i{constructor(i,o){this._helpers=new Map,this._downcast=vn(i),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=vn(o),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(i,o){const a=this._downcast.includes(o);if(!this._upcast.includes(o)&&!a)throw new S.a("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:i,dispatchers:[o],isDowncast:a})}for(i){if(!this._helpers.has(i))throw new S.a("conversion-for-unknown-group",this);return this._helpers.get(i)}elementToElement(i){this.for("downcast").elementToElement(i);for(const{model:o,view:a}of Oi(i))this.for("upcast").elementToElement({model:o,view:a,converterPriority:i.converterPriority})}attributeToElement(i){this.for("downcast").attributeToElement(i);for(const{model:o,view:a}of Oi(i))this.for("upcast").elementToAttribute({view:a,model:o,converterPriority:i.converterPriority})}attributeToAttribute(i){this.for("downcast").attributeToAttribute(i);for(const{model:o,view:a}of Oi(i))this.for("upcast").attributeToAttribute({view:a,model:o})}_createConversionHelpers({name:i,dispatchers:o,isDowncast:a}){if(this._helpers.has(i))throw new S.a("conversion-group-exists",this);const d=a?new g1(o):new yf(o);this._helpers.set(i,d)}}function*Oi(l){if(l.model.values)for(const i of l.model.values){const o={key:l.model.key,value:i},a=l.view[i],d=l.upcastAlso?l.upcastAlso[i]:void 0;yield*Q0(o,a,d)}else yield*Q0(l.model,l.view,l.upcastAlso)}function*Q0(l,i,o){if(yield{model:l,view:i},o)for(const a of vn(o))yield{model:l,view:a}}class d2{constructor(i="default"){this.operations=[],this.type=i}get baseVersion(){for(const i of this.operations)if(null!==i.baseVersion)return i.baseVersion;return null}addOperation(i){return i.batch=this,this.operations.push(i),i}}class Li{constructor(i){this.baseVersion=i,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const i=Object.assign({},this);return i.__className=this.constructor.className,delete i.batch,delete i.isDocumentOperation,i}static get className(){return"Operation"}static fromJSON(i){return new this(i.baseVersion)}}class Rr{constructor(i){this.markers=new Map,this._children=new h1,i&&this._insertChild(0,i)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(i){return"documentFragment"===i||"model:documentFragment"===i}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}getPath(){return[]}getNodeByPath(i){let o=this;for(const a of i)o=o.getChild(o.offsetToIndex(a));return o}offsetToIndex(i){return this._children.offsetToIndex(i)}toJSON(){const i=[];for(const o of this._children)i.push(o.toJSON());return i}static fromJSON(i){const o=[];for(const a of i)o.push(a.name?pt.fromJSON(a):ft.fromJSON(a));return new Rr(o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const a="string"==typeof(d=o)?[new ft(d)]:(Nn(d)||(d=[d]),Array.from(d).map(u=>"string"==typeof u?new ft(u):u instanceof Kn?new ft(u.data,u.getAttributes()):u));var d;for(const d of a)null!==d.parent&&d._remove(),d.parent=this;this._children._insertNodes(i,a)}_removeChildren(i,o=1){const a=this._children._removeNodes(i,o);for(const d of a)d.parent=null;return a}}function X0(l,i){const o=(i=$d(i)).reduce((u,f)=>u+f.offsetSize,0),a=l.parent;k1(l);const d=l.index;return a._insertChild(d,i),C1(a,d+i.length),C1(a,d),new W(l,l.getShiftedBy(o))}function Ud(l){if(!l.isFlat)throw new S.a("operation-utils-remove-range-not-flat",this);const i=l.start.parent;k1(l.start),k1(l.end);const o=i._removeChildren(l.start.index,l.end.index-l.start.index);return C1(i,l.start.index),o}function Js(l,i){if(!l.isFlat)throw new S.a("operation-utils-move-range-not-flat",this);const o=Ud(l);return X0(i=i._getTransformedByDeletion(l.start,l.end.offset-l.start.offset),o)}function $d(l){const i=[];l instanceof Array||(l=[l]);for(let o=0;o<l.length;o++)if("string"==typeof l[o])i.push(new ft(l[o]));else if(l[o]instanceof Kn)i.push(new ft(l[o].data,l[o].getAttributes()));else if(l[o]instanceof Rr||l[o]instanceof h1)for(const a of l[o])i.push(a);else l[o]instanceof gn&&i.push(l[o]);for(let o=1;o<i.length;o++){const a=i[o],d=i[o-1];a instanceof ft&&d instanceof ft&&Wd(a,d)&&(i.splice(o-1,2,new ft(d.data+a.data,d.getAttributes())),o--)}return i}function C1(l,i){const o=l.getChild(i-1),a=l.getChild(i);if(o&&a&&o.is("$text")&&a.is("$text")&&Wd(o,a)){const d=new ft(o.data+a.data,o.getAttributes());l._removeChildren(i-1,2),l._insertChild(i-1,d)}}function k1(l){const i=l.textNode,o=l.parent;if(i){const a=l.offset-i.startOffset,d=i.index;o._removeChildren(d,1);const u=new ft(i.data.substr(0,a),i.getAttributes()),f=new ft(i.data.substr(a),i.getAttributes());o._insertChild(d,[u,f])}}function Wd(l,i){const o=l.getAttributes(),a=i.getAttributes();for(const d of o){if(d[1]!==i.getAttribute(d[0]))return!1;a.next()}return a.next().done}var If=function(l,i){return xd(l,i)};class Kt extends Li{constructor(i,o,a,d,u){super(u),this.range=i.clone(),this.key=o,this.oldValue=void 0===a?null:a,this.newValue=void 0===d?null:d}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new Kt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Kt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const i=super.toJSON();return i.range=this.range.toJSON(),i}_validate(){if(!this.range.isFlat)throw new S.a("attribute-operation-range-not-flat",this);for(const i of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!If(i.getAttribute(this.key),this.oldValue))throw new S.a("attribute-operation-wrong-old-value",this,{item:i,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&i.hasAttribute(this.key))throw new S.a("attribute-operation-attribute-exists",this,{node:i,key:this.key})}}_execute(){If(this.oldValue,this.newValue)||function(i,o,a){k1(i.start),k1(i.end);for(const d of i.getItems({shallow:!0})){const u=d.is("$textProxy")?d.textNode:d;null!==a?u._setAttribute(o,a):u._removeAttribute(o),C1(u.parent,u.index)}C1(i.end.parent,i.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(i,o){return new Kt(W.fromJSON(i.range,o),i.key,i.oldValue,i.newValue,i.baseVersion)}}class w1 extends Li{constructor(i,o){super(null),this.sourcePosition=i.clone(),this.howMany=o}get type(){return"detach"}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i}_validate(){if(this.sourcePosition.root.document)throw new S.a("detach-operation-on-document-node",this)}_execute(){Ud(W._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class dt extends Li{constructor(i,o,a,d){super(d),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toNext",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const i=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,i,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent,a=this.sourcePosition.offset,d=this.targetPosition.offset;if(a+this.howMany>i.maxOffset)throw new S.a("move-operation-nodes-do-not-exist",this);if(i===o&&a<d&&d<a+this.howMany)throw new S.a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Tn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const u=this.sourcePosition.path.length-1;if(this.targetPosition.path[u]>=a&&this.targetPosition.path[u]<a+this.howMany)throw new S.a("move-operation-node-into-itself",this)}}_execute(){Js(W._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i.targetPosition=this.targetPosition.toJSON(),i}static get className(){return"MoveOperation"}static fromJSON(i,o){const a=Z.fromJSON(i.sourcePosition,o),d=Z.fromJSON(i.targetPosition,o);return new this(a,i.howMany,d,i.baseVersion)}}class Ct extends Li{constructor(i,o,a){super(a),this.position=i.clone(),this.position.stickiness="toNone",this.nodes=new h1($d(o)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const i=new h1([...this.nodes].map(a=>a._clone(!0))),o=new Ct(this.position,i,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}getReversed(){const o=new Z(this.position.root.document.graveyard,[0]);return new dt(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}_validate(){const i=this.position.parent;if(!i||i.maxOffset<this.position.offset)throw new S.a("insert-operation-position-invalid",this)}_execute(){const i=this.nodes;this.nodes=new h1([...i].map(o=>o._clone(!0))),X0(this.position,i)}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i.nodes=this.nodes.toJSON(),i}static get className(){return"InsertOperation"}static fromJSON(i,o){const a=[];for(const u of i.nodes)a.push(u.name?pt.fromJSON(u):ft.fromJSON(u));const d=new Ct(Z.fromJSON(i.position,o),a,i.baseVersion);return d.shouldReceiveAttributes=i.shouldReceiveAttributes,d}}class Cn extends Li{constructor(i,o,a,d,u,f){super(f),this.name=i,this.oldRange=o?o.clone():null,this.newRange=a?a.clone():null,this.affectsData=u,this._markers=d}get type(){return"marker"}clone(){return new Cn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Cn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}toJSON(){const i=super.toJSON();return this.oldRange&&(i.oldRange=this.oldRange.toJSON()),this.newRange&&(i.newRange=this.newRange.toJSON()),delete i._markers,i}static get className(){return"MarkerOperation"}static fromJSON(i,o){return new Cn(i.name,i.oldRange?W.fromJSON(i.oldRange,o):null,i.newRange?W.fromJSON(i.newRange,o):null,o.model.markers,i.affectsData,i.baseVersion)}}class Jn extends Li{constructor(i,o,a,d){super(d),this.position=i,this.position.stickiness="toNext",this.oldName=o,this.newName=a}get type(){return"rename"}clone(){return new Jn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Jn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const i=this.position.nodeAfter;if(!(i instanceof pt))throw new S.a("rename-operation-wrong-position",this);if(i.name!==this.oldName)throw new S.a("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i}static get className(){return"RenameOperation"}static fromJSON(i,o){return new Jn(Z.fromJSON(i.position,o),i.oldName,i.newName,i.baseVersion)}}class gr extends Li{constructor(i,o,a,d,u){super(u),this.root=i,this.key=o,this.oldValue=a,this.newValue=d}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new gr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new gr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new S.a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new S.a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new S.a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const i=super.toJSON();return i.root=this.root.toJSON(),i}static get className(){return"RootAttributeOperation"}static fromJSON(i,o){if(!o.getRoot(i.root))throw new S.a("rootattribute-operation-fromjson-no-root",this,{rootName:i.root});return new gr(o.getRoot(i.root),i.key,i.oldValue,i.newValue,i.baseVersion)}}class Jt extends Li{constructor(i,o,a,d,u){super(u),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=d.clone()}get type(){return"merge"}get deletionPosition(){return new Z(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const i=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new W(this.sourcePosition,i)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const i=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),a=new Z(this.sourcePosition.root,o)._getTransformedByMergeOperation(this);return new Tt(i,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent;if(!i.parent)throw new S.a("merge-operation-source-position-invalid",this);if(!o.parent)throw new S.a("merge-operation-target-position-invalid",this);if(this.howMany!=i.maxOffset)throw new S.a("merge-operation-how-many-invalid",this)}_execute(){const i=this.sourcePosition.parent;Js(W._createIn(i),this.targetPosition),Js(W._createOn(i),this.graveyardPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=i.sourcePosition.toJSON(),i.targetPosition=i.targetPosition.toJSON(),i.graveyardPosition=i.graveyardPosition.toJSON(),i}static get className(){return"MergeOperation"}static fromJSON(i,o){const a=Z.fromJSON(i.sourcePosition,o),d=Z.fromJSON(i.targetPosition,o),u=Z.fromJSON(i.graveyardPosition,o);return new this(a,i.howMany,d,u,i.baseVersion)}}class Tt extends Li{constructor(i,o,a,d,u){super(u),this.splitPosition=i.clone(),this.splitPosition.stickiness="toNext",this.howMany=o,this.insertionPosition=a,this.graveyardPosition=d?d.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const i=this.insertionPosition.path.slice();return i.push(0),new Z(this.insertionPosition.root,i)}get movedRange(){const i=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new W(this.splitPosition,i)}clone(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const o=new Z(this.splitPosition.root.document.graveyard,[0]);return new Jt(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}_validate(){const i=this.splitPosition.parent;if(!i||i.maxOffset<this.splitPosition.offset)throw new S.a("split-operation-position-invalid",this);if(!i.parent)throw new S.a("split-operation-split-in-root",this);if(this.howMany!=i.maxOffset-this.splitPosition.offset)throw new S.a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new S.a("split-operation-graveyard-position-invalid",this)}_execute(){const i=this.splitPosition.parent;if(this.graveyardPosition)Js(W._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const o=i._clone();X0(this.insertionPosition,o)}Js(new W(Z._createAt(i,this.splitPosition.offset),Z._createAt(i,i.maxOffset)),this.moveTargetPosition)}toJSON(){const i=super.toJSON();return i.splitPosition=this.splitPosition.toJSON(),i.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(i.graveyardPosition=this.graveyardPosition.toJSON()),i}static get className(){return"SplitOperation"}static getInsertionPosition(i){const o=i.path.slice(0,-1);return o[o.length-1]++,new Z(i.root,o,"toPrevious")}static fromJSON(i,o){const a=Z.fromJSON(i.splitPosition,o),d=Z.fromJSON(i.insertionPosition,o),u=i.graveyardPosition?Z.fromJSON(i.graveyardPosition,o):null;return new this(a,i.howMany,d,u,i.baseVersion)}}class qd extends pt{constructor(i,o,a="main"){super(o),this._document=i,this.rootName=a}get document(){return this._document}is(i,o){return o?o===this.name&&("rootElement"===i||"model:rootElement"===i||"element"===i||"model:element"===i):"rootElement"===i||"model:rootElement"===i||"element"===i||"model:element"===i||"node"===i||"model:node"===i}toJSON(){return this.rootName}}class gb{constructor(i,o){this.model=i,this.batch=o}createText(i,o){return new ft(i,o)}createElement(i,o){return new pt(i,o)}createDocumentFragment(){return new Rr}cloneElement(i,o=!0){return i._clone(o)}insert(i,o,a=0){if(this._assertWriterUsedCorrectly(),i instanceof ft&&""==i.data)return;const d=Z._createAt(o,a);if(i.parent){if(Pf(i.root,d.root))return void this.move(W._createOn(i),d);if(i.root.document)throw new S.a("model-writer-insert-forbidden-move",this);this.remove(i)}const f=new Ct(d,i,d.root.document?d.root.document.version:null);if(i instanceof ft&&(f.shouldReceiveAttributes=!0),this.batch.addOperation(f),this.model.applyOperation(f),i instanceof Rr)for(const[g,b]of i.markers){const _=Z._createAt(b.root,0),C={range:new W(b.start._getCombined(_,d),b.end._getCombined(_,d)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,C):this.addMarker(g,C)}}insertText(i,o,a,d){o instanceof Rr||o instanceof pt||o instanceof Z?this.insert(this.createText(i),o,a):this.insert(this.createText(i,o),a,d)}insertElement(i,o,a,d){o instanceof Rr||o instanceof pt||o instanceof Z?this.insert(this.createElement(i),o,a):this.insert(this.createElement(i,o),a,d)}append(i,o){this.insert(i,o,"end")}appendText(i,o,a){o instanceof Rr||o instanceof pt?this.insert(this.createText(i),o,"end"):this.insert(this.createText(i,o),a,"end")}appendElement(i,o,a){o instanceof Rr||o instanceof pt?this.insert(this.createElement(i),o,"end"):this.insert(this.createElement(i,o),a,"end")}setAttribute(i,o,a){if(this._assertWriterUsedCorrectly(),a instanceof W){const d=a.getMinimalFlatRanges();for(const u of d)u2(this,i,o,u)}else h2(this,i,o,a)}setAttributes(i,o){for(const[a,d]of ro(i))this.setAttribute(a,d,o)}removeAttribute(i,o){if(this._assertWriterUsedCorrectly(),o instanceof W){const a=o.getMinimalFlatRanges();for(const d of a)u2(this,i,null,d)}else h2(this,i,null,o)}clearAttributes(i){this._assertWriterUsedCorrectly();const o=a=>{for(const d of a.getAttributeKeys())this.removeAttribute(d,a)};if(i instanceof W)for(const a of i.getItems())o(a);else o(i)}move(i,o,a){if(this._assertWriterUsedCorrectly(),!(i instanceof W))throw new S.a("writer-move-invalid-range",this);if(!i.isFlat)throw new S.a("writer-move-range-not-flat",this);const d=Z._createAt(o,a);if(d.isEqual(i.start))return;if(this._addOperationForAffectedMarkers("move",i),!Pf(i.root,d.root))throw new S.a("writer-move-different-document",this);const f=new dt(i.start,i.end.offset-i.start.offset,d,i.root.document?i.root.document.version:null);this.batch.addOperation(f),this.model.applyOperation(f)}remove(i){this._assertWriterUsedCorrectly();const o=(i instanceof W?i:W._createOn(i)).getMinimalFlatRanges().reverse();for(const a of o)this._addOperationForAffectedMarkers("move",a),mb(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(i){this._assertWriterUsedCorrectly();const o=i.nodeBefore,a=i.nodeAfter;if(this._addOperationForAffectedMarkers("merge",i),!(o instanceof pt))throw new S.a("writer-merge-no-element-before",this);if(!(a instanceof pt))throw new S.a("writer-merge-no-element-after",this);i.root.document?this._merge(i):this._mergeDetached(i)}createPositionFromPath(i,o,a){return this.model.createPositionFromPath(i,o,a)}createPositionAt(i,o){return this.model.createPositionAt(i,o)}createPositionAfter(i){return this.model.createPositionAfter(i)}createPositionBefore(i){return this.model.createPositionBefore(i)}createRange(i,o){return this.model.createRange(i,o)}createRangeIn(i){return this.model.createRangeIn(i)}createRangeOn(i){return this.model.createRangeOn(i)}createSelection(i,o,a){return this.model.createSelection(i,o,a)}_mergeDetached(i){const o=i.nodeBefore,a=i.nodeAfter;this.move(W._createIn(a),Z._createAt(o,"end")),this.remove(a)}_merge(i){const o=Z._createAt(i.nodeBefore,"end"),a=Z._createAt(i.nodeAfter,0),u=new Z(i.root.document.graveyard,[0]),g=new Jt(a,i.nodeAfter.maxOffset,o,u,i.root.document.version);this.batch.addOperation(g),this.model.applyOperation(g)}rename(i,o){if(this._assertWriterUsedCorrectly(),!(i instanceof pt))throw new S.a("writer-rename-not-element-instance",this);const a=i.root.document?i.root.document.version:null,d=new Jn(Z._createBefore(i),i.name,o,a);this.batch.addOperation(d),this.model.applyOperation(d)}split(i,o){this._assertWriterUsedCorrectly();let a,d,u=i.parent;if(!u.parent)throw new S.a("writer-split-element-no-parent",this);if(o||(o=u.parent),!i.parent.getAncestors({includeSelf:!0}).includes(o))throw new S.a("writer-split-invalid-limit-element",this);do{const f=u.root.document?u.root.document.version:null,g=u.maxOffset-i.offset,b=Tt.getInsertionPosition(i),_=new Tt(i,g,b,null,f);this.batch.addOperation(_),this.model.applyOperation(_),a||d||(a=u,d=i.parent.nextSibling),u=(i=this.createPositionAfter(i.parent)).parent}while(u!==o);return{position:i,range:new W(Z._createAt(a,"end"),Z._createAt(d,0))}}wrap(i,o){if(this._assertWriterUsedCorrectly(),!i.isFlat)throw new S.a("writer-wrap-range-not-flat",this);const a=o instanceof pt?o:new pt(o);if(a.childCount>0)throw new S.a("writer-wrap-element-not-empty",this);if(null!==a.parent)throw new S.a("writer-wrap-element-attached",this);this.insert(a,i.start);const d=new W(i.start.getShiftedBy(1),i.end.getShiftedBy(1));this.move(d,Z._createAt(a,0))}unwrap(i){if(this._assertWriterUsedCorrectly(),null===i.parent)throw new S.a("writer-unwrap-element-no-parent",this);this.move(W._createIn(i),this.createPositionAfter(i)),this.remove(i)}addMarker(i,o){if(this._assertWriterUsedCorrectly(),!o||"boolean"!=typeof o.usingOperation)throw new S.a("writer-addmarker-no-usingoperation",this);const a=o.usingOperation,d=o.range,u=void 0!==o.affectsData&&o.affectsData;if(this.model.markers.has(i))throw new S.a("writer-addmarker-marker-exists",this);if(!d)throw new S.a("writer-addmarker-no-range",this);return a?(Zo(this,i,null,d,u),this.model.markers.get(i)):this.model.markers._set(i,d,a,u)}updateMarker(i,o){this._assertWriterUsedCorrectly();const a="string"==typeof i?i:i.name,d=this.model.markers.get(a);if(!d)throw new S.a("writer-updatemarker-marker-not-exists",this);if(!o)return void this.model.markers._refresh(d);const u="boolean"==typeof o.usingOperation,f="boolean"==typeof o.affectsData,g=f?o.affectsData:d.affectsData;if(!u&&!o.range&&!f)throw new S.a("writer-updatemarker-wrong-options",this);const b=d.getRange(),_=o.range?o.range:b;u&&o.usingOperation!==d.managedUsingOperations?o.usingOperation?Zo(this,a,null,_,g):(Zo(this,a,b,null,g),this.model.markers._set(a,_,void 0,g)):d.managedUsingOperations?Zo(this,a,b,_,g):this.model.markers._set(a,_,void 0,g)}removeMarker(i){this._assertWriterUsedCorrectly();const o="string"==typeof i?i:i.name;if(!this.model.markers.has(o))throw new S.a("writer-removemarker-no-marker",this);const a=this.model.markers.get(o);a.managedUsingOperations?Zo(this,o,a.getRange(),null,a.affectsData):this.model.markers._remove(o)}setSelection(i,o,a){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(i,o,a)}setSelectionFocus(i,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(i,o)}setSelectionAttribute(i,o){if(this._assertWriterUsedCorrectly(),"string"==typeof i)this._setSelectionAttribute(i,o);else for(const[a,d]of ro(i))this._setSelectionAttribute(a,d)}removeSelectionAttribute(i){if(this._assertWriterUsedCorrectly(),"string"==typeof i)this._removeSelectionAttribute(i);else for(const o of i)this._removeSelectionAttribute(o)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(i){this.model.document.selection._restoreGravity(i)}_setSelectionAttribute(i,o){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const d=vi._getStoreAttributeKey(i);this.setAttribute(d,o,a.anchor.parent)}a._setAttribute(i,o)}_removeSelectionAttribute(i){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const a=vi._getStoreAttributeKey(i);this.removeAttribute(a,o.anchor.parent)}o._removeAttribute(i)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new S.a("writer-incorrect-use",this)}_addOperationForAffectedMarkers(i,o){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const d=a.getRange();let u=!1;if("move"===i)u=o.containsPosition(d.start)||o.start.isEqual(d.start)||o.containsPosition(d.end)||o.end.isEqual(d.end);else{const g=o.nodeAfter,_=d.end.parent==g&&0==d.end.offset,C=d.end.nodeAfter==g,w=d.start.nodeAfter==g;u=d.start.parent==o.nodeBefore&&d.start.isAtEnd||_||C||w}u&&this.updateMarker(a.name,{range:d})}}}function u2(l,i,o,a){const d=l.model,u=d.document;let f,g,b,_=a.start;for(const w of a.getWalker({shallow:!0}))b=w.item.getAttribute(i),f&&g!=b&&(g!=o&&C(),_=f),f=w.nextPosition,g=b;function C(){const w=new W(_,f),x=new Kt(w,i,g,o,w.root.document?u.version:null);l.batch.addOperation(x),d.applyOperation(x)}f instanceof Z&&f!=_&&g!=o&&C()}function h2(l,i,o,a){const d=l.model,u=d.document,f=a.getAttribute(i);let g,b;f!=o&&(a.root===a?b=new gr(a,i,f,o,a.document?u.version:null):(g=new W(Z._createBefore(a),l.createPositionAfter(a)),b=new Kt(g,i,f,o,g.root.document?u.version:null)),l.batch.addOperation(b),d.applyOperation(b))}function Zo(l,i,o,a,d){const u=l.model,g=new Cn(i,o,a,u.markers,d,u.document.version);l.batch.addOperation(g),u.applyOperation(g)}function mb(l,i,o,a){let d;if(l.root.document){const u=a.document,f=new Z(u.graveyard,[0]);d=new dt(l,i,f,u.version)}else d=new w1(l,i);o.addOperation(d),a.applyOperation(d)}function Pf(l,i){return l===i||l instanceof qd&&i instanceof qd}class Kd{constructor(i){this._markerCollection=i,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(i){if(this._isInInsertedElement(i.parent))return;this._markRemove(i.parent,i.startOffset,i.offsetSize),this._markInsert(i.parent,i.startOffset,i.offsetSize);const o=W._createOn(i);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const d=a.getRange();this.bufferMarkerChange(a.name,d,d,a.affectsData)}this._cachedChanges=null}bufferOperation(i){switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const o of i.range.getItems({shallow:!0}))this._isInInsertedElement(o.parent)||this._markAttribute(o);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const o=this._isInInsertedElement(i.sourcePosition.parent),a=this._isInInsertedElement(i.targetPosition.parent);o||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),a||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const o=W._createFromPositionAndShift(i.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const d=a.getRange();this.bufferMarkerChange(a.name,d,d,a.affectsData)}break}case"split":{const o=i.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const o=i.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1),this._markInsert(i.graveyardPosition.parent,i.graveyardPosition.offset,1);const d=i.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,i.targetPosition.offset,o.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(i,o,a,d){const u=this._changedMarkers.get(i);u?(u.newRange=a,u.affectsData=d,null==u.oldRange&&null==u.newRange&&this._changedMarkers.delete(i)):this._changedMarkers.set(i,{oldRange:o,newRange:a,affectsData:d})}getMarkersToRemove(){const i=[];for(const[o,a]of this._changedMarkers)null!=a.oldRange&&i.push({name:o,range:a.oldRange});return i}getMarkersToAdd(){const i=[];for(const[o,a]of this._changedMarkers)null!=a.newRange&&i.push({name:o,range:a.newRange});return i}getChangedMarkers(){return Array.from(this._changedMarkers).map(i=>({name:i[0],data:{oldRange:i[1].oldRange,newRange:i[1].newRange}}))}hasDataChanges(){for(const[,i]of this._changedMarkers)if(i.affectsData)return!0;return this._changesInElement.size>0}getChanges(i={includeChangesInGraveyard:!1}){if(this._cachedChanges)return i.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let o=[];for(const a of this._changesInElement.keys()){const d=this._changesInElement.get(a).sort((C,w)=>C.offset===w.offset?C.type!=w.type?"remove"==C.type?-1:1:0:C.offset<w.offset?-1:1),u=this._elementSnapshots.get(a),f=Jd(a.getChildren()),g=zf(u.length,d);let b=0,_=0;for(const C of g)if("i"===C)o.push(this._getInsertDiff(a,b,f[b].name)),b++;else if("r"===C)o.push(this._getRemoveDiff(a,b,u[_].name)),_++;else if("a"===C){const w=f[b].attributes,D=u[_].attributes;let x;if("$text"==f[b].name)x=new W(Z._createAt(a,b),Z._createAt(a,b+1));else{const T=a.offsetToIndex(b);x=new W(Z._createAt(a,b),Z._createAt(a.getChild(T),0))}o.push(...this._getAttributesDiff(x,D,w)),b++,_++}else b++,_++}o.sort((a,d)=>a.position.root!=d.position.root?a.position.root.rootName<d.position.root.rootName?-1:1:a.position.isEqual(d.position)?a.changeCount-d.changeCount:a.position.isBefore(d.position)?-1:1);for(let a=1,d=0;a<o.length;a++){const u=o[d],f=o[a],g="remove"==u.type&&"remove"==f.type&&"$text"==u.name&&"$text"==f.name&&u.position.isEqual(f.position),b="insert"==u.type&&"insert"==f.type&&"$text"==u.name&&"$text"==f.name&&u.position.parent==f.position.parent&&u.position.offset+u.length==f.position.offset,_="attribute"==u.type&&"attribute"==f.type&&u.position.parent==f.position.parent&&u.range.isFlat&&f.range.isFlat&&u.position.offset+u.length==f.position.offset&&u.attributeKey==f.attributeKey&&u.attributeOldValue==f.attributeOldValue&&u.attributeNewValue==f.attributeNewValue;g||b||_?(u.length++,_&&(u.range.end=u.range.end.getShiftedBy(1)),o[a]=null):d=a}o=o.filter(a=>a);for(const a of o)delete a.changeCount,"attribute"==a.type&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=o.slice(),this._cachedChanges=o.filter(Of),i.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(i,o,a){const d={type:"insert",offset:o,howMany:a,count:this._changeCount++};this._markChange(i,d)}_markRemove(i,o,a){const d={type:"remove",offset:o,howMany:a,count:this._changeCount++};this._markChange(i,d),this._removeAllNestedChanges(i,o,a)}_markAttribute(i){const o={type:"attribute",offset:i.startOffset,howMany:i.offsetSize,count:this._changeCount++};this._markChange(i.parent,o)}_markChange(i,o){this._makeSnapshot(i);const a=this._getChangesForElement(i);this._handleChange(o,a),a.push(o);for(let d=0;d<a.length;d++)a[d].howMany<1&&(a.splice(d,1),d--)}_getChangesForElement(i){let o;return this._changesInElement.has(i)?o=this._changesInElement.get(i):(o=[],this._changesInElement.set(i,o)),o}_makeSnapshot(i){this._elementSnapshots.has(i)||this._elementSnapshots.set(i,Jd(i.getChildren()))}_handleChange(i,o){i.nodesToHandle=i.howMany;for(const a of o){const d=i.offset+i.howMany,u=a.offset+a.howMany;if("insert"==i.type&&("insert"==a.type&&(i.offset<=a.offset?a.offset+=i.howMany:i.offset<u&&(a.howMany+=i.nodesToHandle,i.nodesToHandle=0)),"remove"==a.type&&i.offset<a.offset&&(a.offset+=i.howMany),"attribute"==a.type))if(i.offset<=a.offset)a.offset+=i.howMany;else if(i.offset<u){const f=a.howMany;a.howMany=i.offset-a.offset,o.unshift({type:"attribute",offset:d,howMany:f-a.howMany,count:this._changeCount++})}if("remove"==i.type){if("insert"==a.type)if(d<=a.offset)a.offset-=i.howMany;else if(d<=u)if(i.offset<a.offset){const f=d-a.offset;a.offset=i.offset,a.howMany-=f,i.nodesToHandle-=f}else a.howMany-=i.nodesToHandle,i.nodesToHandle=0;else if(i.offset<=a.offset)i.nodesToHandle-=a.howMany,a.howMany=0;else if(i.offset<u){const f=u-i.offset;a.howMany-=f,i.nodesToHandle-=f}if("remove"==a.type&&(d<=a.offset?a.offset-=i.howMany:i.offset<a.offset&&(i.nodesToHandle+=a.howMany,a.howMany=0)),"attribute"==a.type)if(d<=a.offset)a.offset-=i.howMany;else if(i.offset<a.offset){const f=d-a.offset;a.offset=i.offset,a.howMany-=f}else if(i.offset<u)if(d<=u){const f=a.howMany;a.howMany=i.offset-a.offset,o.unshift({type:"attribute",offset:i.offset,howMany:f-a.howMany-i.nodesToHandle,count:this._changeCount++})}else a.howMany-=u-i.offset}if("attribute"==i.type){if("insert"==a.type)if(i.offset<a.offset&&d>a.offset){if(d>u){const f={type:"attribute",offset:u,howMany:d-u,count:this._changeCount++};this._handleChange(f,o),o.push(f)}i.nodesToHandle=a.offset-i.offset,i.howMany=i.nodesToHandle}else i.offset>=a.offset&&i.offset<u&&(d>u?(i.nodesToHandle=d-u,i.offset=u):i.nodesToHandle=0);if("remove"==a.type&&i.offset<a.offset&&d>a.offset){const f={type:"attribute",offset:a.offset,howMany:d-a.offset,count:this._changeCount++};this._handleChange(f,o),o.push(f),i.nodesToHandle=a.offset-i.offset,i.howMany=i.nodesToHandle}"attribute"==a.type&&(i.offset>=a.offset&&d<=u?(i.nodesToHandle=0,i.howMany=0,i.offset=0):i.offset<=a.offset&&d>=u&&(a.howMany=0))}}i.howMany=i.nodesToHandle,delete i.nodesToHandle}_getInsertDiff(i,o,a){return{type:"insert",position:Z._createAt(i,o),name:a,length:1,changeCount:this._changeCount++}}_getRemoveDiff(i,o,a){return{type:"remove",position:Z._createAt(i,o),name:a,length:1,changeCount:this._changeCount++}}_getAttributesDiff(i,o,a){const d=[];a=new Map(a);for(const[u,f]of o){const g=a.has(u)?a.get(u):null;g!==f&&d.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:u,attributeOldValue:f,attributeNewValue:g,changeCount:this._changeCount++}),a.delete(u)}for(const[u,f]of a)d.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:u,attributeOldValue:null,attributeNewValue:f,changeCount:this._changeCount++});return d}_isInInsertedElement(i){const o=i.parent;if(!o)return!1;const a=this._changesInElement.get(o),d=i.startOffset;if(a)for(const u of a)if("insert"==u.type&&d>=u.offset&&d<u.offset+u.howMany)return!0;return this._isInInsertedElement(o)}_removeAllNestedChanges(i,o,a){const d=new W(Z._createAt(i,o),Z._createAt(i,o+a));for(const u of d.getItems({shallow:!0}))u.is("element")&&(this._elementSnapshots.delete(u),this._changesInElement.delete(u),this._removeAllNestedChanges(u,0,u.maxOffset))}}function Jd(l){const i=[];for(const o of l)if(o.is("$text"))for(let a=0;a<o.data.length;a++)i.push({name:"$text",attributes:new Map(o.getAttributes())});else i.push({name:o.name,attributes:new Map(o.getAttributes())});return i}function zf(l,i){const o=[];let a=0,d=0;for(const u of i){if(u.offset>a){for(let f=0;f<u.offset-a;f++)o.push("e");d+=u.offset-a}if("insert"==u.type){for(let f=0;f<u.howMany;f++)o.push("i");a=u.offset+u.howMany}else if("remove"==u.type){for(let f=0;f<u.howMany;f++)o.push("r");a=u.offset,d+=u.howMany}else o.push(..."a".repeat(u.howMany).split("")),a=u.offset+u.howMany,d+=u.howMany}if(d<l)for(let u=0;u<l-d-a;u++)o.push("e");return o}function Of(l){return!(l.position&&"$graveyard"==l.position.root.rootName||l.range&&"$graveyard"==l.range.root.rootName)}class Lf{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(i){this._operations.includes(i)||this._operations.push(i)}getOperations(i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY){const a=[];for(const d of this._operations)d.baseVersion>=i&&d.baseVersion<o&&a.push(d);return a}getOperation(i){for(const o of this._operations)if(o.baseVersion==i)return o}setOperationAsUndone(i,o){this._undoPairs.set(o,i),this._undoneOperations.add(i)}isUndoingOperation(i){return this._undoPairs.has(i)}isUndoneOperation(i){return this._undoneOperations.has(i)}getUndoneOperation(i){return this._undoPairs.get(i)}}function e4(l,i){return!!(o=l.charAt(i-1))&&1==o.length&&/[\ud800-\udbff]/.test(o)&&!!(a=l.charAt(i))&&1==a.length&&/[\udc00-\udfff]/.test(a);var a,o}function y1(l,i){return!!(o=l.charAt(i))&&1==o.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}const f2="$graveyard";class p2{constructor(i){this.model=i,this.version=0,this.history=new Lf(this),this.selection=new vi(this),this.roots=new Nt({idProperty:"rootName"}),this.differ=new Kd(i.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",f2),this.listenTo(i,"applyOperation",(o,a)=>{const d=a[0];if(d.isDocumentOperation&&d.baseVersion!==this.version)throw new S.a("model-document-applyoperation-wrong-version",this,{operation:d})},{priority:"highest"}),this.listenTo(i,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&this.differ.bufferOperation(d)},{priority:"high"}),this.listenTo(i,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&(this.version++,this.history.addOperation(d))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(i.markers,"update",(o,a,d,u)=>{this.differ.bufferMarkerChange(a.name,d,u,a.affectsData),null===d&&a.on("change",(f,g)=>{this.differ.bufferMarkerChange(a.name,g,a.getRange(),a.affectsData)})})}get graveyard(){return this.getRoot(f2)}createRoot(i="$root",o="main"){if(this.roots.get(o))throw new S.a("model-document-createroot-name-exists",this,{name:o});const a=new qd(this,i,o);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(i="main"){return this.roots.get(i)}getRootNames(){return Array.from(this.roots,i=>i.rootName).filter(i=>i!=f2)}registerPostFixer(i){this._postFixers.add(i)}toJSON(){const i=Ka(this);return i.selection="[engine.model.DocumentSelection]",i.model="[engine.model.Model]",i}_handleChangeBlock(i){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(i),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",i.batch):this.fire("change",i.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const i of this.roots)if(i!==this.graveyard)return i;return this.graveyard}_getDefaultRange(){const i=this._getDefaultRoot(),o=this.model,a=o.schema,d=o.createPositionFromPath(i,[0]);return a.getNearestSelectionRange(d)||o.createRange(d)}_validateSelectionRange(i){return Zd(i.start)&&Zd(i.end)}_callPostFixers(i){let o=!1;do{for(const a of this._postFixers)if(this.selection.refresh(),o=a(i),o)break}while(o)}}function Zd(l){const i=l.textNode;if(i){const o=i.data,a=l.offset-i.startOffset;return!e4(o,a)&&!y1(o,a)}return!0}Ee(p2,Oe);class kt{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(i){return this._markers.has(i)}get(i){return this._markers.get(i)||null}_set(i,o,a=!1,d=!1){const u=i instanceof Yo?i.name:i;if(u.includes(","))throw new S.a("markercollection-incorrect-marker-name",this);const f=this._markers.get(u);if(f){const _=f.getRange();let C=!1;return _.isEqual(o)||(f._attachLiveRange(zr.fromRange(o)),C=!0),a!=f.managedUsingOperations&&(f._managedUsingOperations=a,C=!0),"boolean"==typeof d&&d!=f.affectsData&&(f._affectsData=d,C=!0),C&&this.fire("update:"+u,f,_,o),f}const g=zr.fromRange(o),b=new Yo(u,g,a,d);return this._markers.set(u,b),this.fire("update:"+u,b,null,o),b}_remove(i){const o=i instanceof Yo?i.name:i,a=this._markers.get(o);return!!a&&(this._markers.delete(o),this.fire("update:"+o,a,a.getRange(),null),this._destroyMarker(a),!0)}_refresh(i){const o=i instanceof Yo?i.name:i,a=this._markers.get(o);if(!a)throw new S.a("markercollection-refresh-marker-not-exists",this);const d=a.getRange();this.fire("update:"+o,a,d,d,a.managedUsingOperations,a.affectsData)}*getMarkersAtPosition(i){for(const o of this)o.getRange().containsPosition(i)&&(yield o)}*getMarkersIntersectingRange(i){for(const o of this)null!==o.getRange().getIntersection(i)&&(yield o)}destroy(){for(const i of this._markers.values())this._destroyMarker(i);this._markers=null,this.stopListening()}*getMarkersGroup(i){for(const o of this._markers.values())o.name.startsWith(i+":")&&(yield o)}_destroyMarker(i){i.stopListening(),i._detachLiveRange()}}Ee(kt,Oe);class Yo{constructor(i,o,a,d){this.name=i,this._liveRange=this._attachLiveRange(o),this._managedUsingOperations=a,this._affectsData=d}get managedUsingOperations(){if(!this._liveRange)throw new S.a("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new S.a("marker-destroyed",this);return this._affectsData}getStart(){if(!this._liveRange)throw new S.a("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new S.a("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new S.a("marker-destroyed",this);return this._liveRange.toRange()}is(i){return"marker"===i||"model:marker"===i}_attachLiveRange(i){return this._liveRange&&this._detachLiveRange(),i.delegate("change:range").to(this),i.delegate("change:content").to(this),this._liveRange=i,i}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ee(Yo,Oe);class kn extends Li{get type(){return"noop"}clone(){return new kn(this.baseVersion)}getReversed(){return new kn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const Ci={};Ci[Kt.className]=Kt,Ci[Ct.className]=Ct,Ci[Cn.className]=Cn,Ci[dt.className]=dt,Ci[kn.className]=kn,Ci[Li.className]=Li,Ci[Jn.className]=Jn,Ci[gr.className]=gr,Ci[Tt.className]=Tt,Ci[Jt.className]=Jt;class Zn extends Z{constructor(i,o,a="toNone"){if(super(i,o,a),!this.root.is("rootElement"))throw new S.a("model-liveposition-root-not-rootelement",i);Rf.call(this)}detach(){this.stopListening()}is(i){return"livePosition"===i||"model:livePosition"===i||"position"==i||"model:position"===i}toPosition(){return new Z(this.root,this.path.slice(),this.stickiness)}static fromPosition(i,o){return new this(i.root,i.path.slice(),o||i.stickiness)}}function Rf(){this.listenTo(this.root.document.model,"applyOperation",(l,i)=>{const o=i[0];o.isDocumentOperation&&Vf.call(this,o)},{priority:"low"})}function Vf(l){const i=this.getTransformedByOperation(l);if(!this.isEqual(i)){const o=this.toPosition();this.path=i.path,this.root=i.root,this.fire("change",o)}}Ee(Zn,Oe);class Ff{constructor(i,o,a){this.model=i,this.writer=o,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=i.schema,this._documentFragment=o.createDocumentFragment(),this._documentFragmentPosition=o.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(i){for(const o of Array.from(i))this._handleNode(o);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(i){const o=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(i);if(a.isAfter(o)){if(this._lastNode=i,this.position.parent!=i||!this.position.isAtEnd)throw new S.a("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this.nodeToSelect?W._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new W(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(i){if(this.schema.isObject(i))return void this._handleObject(i);let o=this._checkAndAutoParagraphToAllowedPosition(i);o||(o=this._checkAndSplitToAllowedPosition(i),o)?(this._appendToFragment(i),this._firstNode||(this._firstNode=i),this._lastNode=i):this._handleDisallowedNode(i)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const i=Zn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=i.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=i.toPosition(),i.detach()}_handleObject(i){this._checkAndSplitToAllowedPosition(i)?this._appendToFragment(i):this._tryAutoparagraphing(i)}_handleDisallowedNode(i){i.is("element")?this.handleNodes(i.getChildren()):this._tryAutoparagraphing(i)}_appendToFragment(i){if(!this.schema.checkChild(this.position,i))throw new S.a("insertcontent-wrong-position",this,{node:i,position:this.position});this.writer.insert(i,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(i.offsetSize),this.nodeToSelect=this.schema.isObject(i)&&!this.schema.checkChild(this.position,"$text")?i:null,this._filterAttributesOf.push(i)}_setAffectedBoundaries(i){this._affectedStart||(this._affectedStart=Zn.fromPosition(i,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(i)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Zn.fromPosition(i,"toNext"))}_mergeOnLeft(){const i=this._firstNode;if(!(i instanceof pt&&this._canMergeLeft(i)))return;const o=Zn._createBefore(i);o.stickiness="toNext";const a=Zn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Zn._createAt(o.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Zn._createAt(o.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_mergeOnRight(){const i=this._lastNode;if(!(i instanceof pt&&this._canMergeRight(i)))return;const o=Zn._createAfter(i);if(o.stickiness="toNext",!this.position.isEqual(o))throw new S.a("insertcontent-invalid-insertion-position",this);this.position=Z._createAt(o.nodeBefore,"end");const a=Zn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=Zn._createAt(o.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Zn._createAt(o.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_canMergeLeft(i){const o=i.previousSibling;return o instanceof pt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,i)}_canMergeRight(i){const o=i.nextSibling;return o instanceof pt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(i,o)}_tryAutoparagraphing(i){const o=this.writer.createElement("paragraph");this._getAllowedIn(o,this.position.parent)&&this.schema.checkChild(o,i)&&(o._appendChild(i),this._handleNode(o))}_checkAndAutoParagraphToAllowedPosition(i){if(this.schema.checkChild(this.position.parent,i))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",i))return!1;this._insertPartialFragment();const o=this.writer.createElement("paragraph");return this.writer.insert(o,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=o,this.position=this.writer.createPositionAt(o,0),!0}_checkAndSplitToAllowedPosition(i){const o=this._getAllowedIn(i,this.position.parent);if(!o)return!1;for(o!=this.position.parent&&this._insertPartialFragment();o!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===o&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(i,o){return this.schema.checkChild(o,i)?o:o.parent?this._getAllowedIn(i,o.parent):null}}function Hf(l,i,o={}){if(i.isCollapsed)return;const a=i.getFirstRange();if("$graveyard"==a.root.rootName)return;const d=l.schema;l.change(u=>{if(!o.doNotResetEntireContent&&function(b,_){const C=b.getLimitElement(_);if(!_.containsEntireContent(C))return!1;const w=_.getFirstRange();return w.start.parent!=w.end.parent&&b.checkChild(C,"paragraph")}(d,i))return void function(b,_){const C=b.model.schema.getLimitElement(_);b.remove(b.createRangeIn(C)),Zs(b,b.createPositionAt(C,0),_)}(u,i);const[f,g]=function(b){const _=b.root.document.model,C=b.start;let w=b.end;if(_.hasContent(b,{ignoreMarkers:!0})){const D=function(x){const T=x.parent,R=T.root.document.model.schema,L=T.getAncestors({parentFirst:!0,includeSelf:!0});for(const $ of L){if(R.isLimit($))return null;if(R.isBlock($))return $}}(w);if(D&&w.isTouching(_.createPositionAt(D,0))){const x=_.createSelection(b);_.modifySelection(x,{direction:"backward"}),w=x.getLastPosition()}}return[Zn.fromPosition(C,"toPrevious"),Zn.fromPosition(w,"toNext")]}(a);f.isTouching(g)||u.remove(u.createRange(f,g)),o.leaveUnmerged||(function(b,_,C){const w=b.model;if(!Qd(b.model.schema,_,C))return;const[D,x]=function(T,R){const L=T.getAncestors(),$=R.getAncestors();let Y=0;for(;L[Y]&&L[Y]==$[Y];)Y++;return[L[Y],$[Y]]}(_,C);!D||!x||(!w.hasContent(D,{ignoreMarkers:!0})&&w.hasContent(x,{ignoreMarkers:!0})?Bf(b,_,C,D.parent):Yd(b,_,C,D.parent))}(u,f,g),d.removeDisallowedAttributes(f.parent.getChildren(),u)),Hn(u,i,f),!o.doNotAutoparagraph&&function(b,_){const C=b.checkChild(_,"$text"),w=b.checkChild(_,"paragraph");return!C&&w}(d,f)&&Zs(u,f,i),f.detach(),g.detach()})}function Yd(l,i,o,a){const d=i.parent,u=o.parent;if(d!=a&&u!=a){for(i=l.createPositionAfter(d),(o=l.createPositionBefore(u)).isEqual(i)||l.insert(u,i),l.merge(i);o.parent.isEmpty;){const f=o.parent;o=l.createPositionBefore(f),l.remove(f)}Qd(l.model.schema,i,o)&&Yd(l,i,o,a)}}function Bf(l,i,o,a){const d=i.parent,u=o.parent;if(d!=a&&u!=a){for(i=l.createPositionAfter(d),(o=l.createPositionBefore(u)).isEqual(i)||l.insert(d,o);i.parent.isEmpty;){const f=i.parent;i=l.createPositionBefore(f),l.remove(f)}o=l.createPositionBefore(u),function(f,g){const b=g.nodeBefore,_=g.nodeAfter;b.name!=_.name&&f.rename(b,_.name),f.clearAttributes(b),f.setAttributes(Object.fromEntries(_.getAttributes()),b),f.merge(g)}(l,o),Qd(l.model.schema,i,o)&&Bf(l,i,o,a)}}function Qd(l,i,o){const a=i.parent,d=o.parent;return a!=d&&!l.isLimit(a)&&!l.isLimit(d)&&function(u,f,g){const b=new W(u,f);for(const _ of b.getWalker())if(g.isLimit(_.item))return!1;return!0}(i,o,l)}function Zs(l,i,o){const a=l.createElement("paragraph");l.insert(a,i),Hn(l,o,l.createPositionAt(a,0))}function Hn(l,i,o){i instanceof vi?l.setSelection(o):i.setTo(o)}const g2=' ,.?!:;"-()';function Xd(l,i){const{isForward:o,walker:a,unit:d,schema:u}=l,{type:f,item:g,nextPosition:b}=i;if("text"==f)return"word"===l.unit?function(_,C){let w=_.position.textNode;if(w){let D=_.position.offset-w.startOffset;for(;!Bn(w.data,D,C)&&!A1(w,D,C);){_.next();const x=C?_.position.nodeAfter:_.position.nodeBefore;if(x&&x.is("$text")){const T=x.data.charAt(C?0:x.data.length-1);g2.includes(T)||(_.next(),w=_.position.textNode)}D=_.position.offset-w.startOffset}}return _.position}(a,o):function(_,C){const w=_.position.textNode;if(w){const D=w.data;let x=_.position.offset-w.startOffset;for(;e4(D,x)||"character"==C&&y1(D,x);)_.next(),x=_.position.offset-w.startOffset}return _.position}(a,d);if(f==(o?"elementStart":"elementEnd")){if(u.isSelectable(g))return Z._createAt(g,o?"after":"before");if(u.checkChild(b,"$text"))return b}else{if(u.isLimit(g))return void a.skip(()=>!0);if(u.checkChild(b,"$text"))return b}}function eu(l,i){const a=Z._createAt(l.root,i?"end":0);return i?new W(l,a):new W(a,l)}function Bn(l,i,o){return g2.includes(l.charAt(i+(o?0:-1)))}function A1(l,i,o){return i===(o?l.endOffset:0)}function m2(l,i){const o=[];Array.from(l.getItems({direction:"backward"})).map(a=>i.createRangeOn(a)).filter(a=>(a.start.isAfter(l.start)||a.start.isEqual(l.start))&&(a.end.isBefore(l.end)||a.end.isEqual(l.end))).forEach(a=>{o.push(a.start.parent),i.remove(a)}),o.forEach(a=>{let d=a;for(;d.parent&&d.isEmpty;){const u=i.createRangeOn(d);d=d.parent,i.remove(u)}})}function Gf(l,i){return l.isCollapsed?function(o,a){const d=o.start,u=a.getNearestSelectionRange(d);if(!u)return null;if(!u.isCollapsed)return u;const f=u.start;return d.isEqual(f)?null:new W(f)}(l,i):function(o,a){const{start:d,end:u}=o,f=a.checkChild(d,"$text"),g=a.checkChild(u,"$text"),b=a.getLimitElement(d),_=a.getLimitElement(u);if(b===_){if(f&&g)return null;if(function(D,x,T){const R=D.nodeAfter&&!T.isLimit(D.nodeAfter)||T.checkChild(D,"$text"),L=x.nodeBefore&&!T.isLimit(x.nodeBefore)||T.checkChild(x,"$text");return R||L}(d,u,a)){const D=d.nodeAfter&&a.isSelectable(d.nodeAfter)?null:a.getNearestSelectionRange(d,"forward"),x=u.nodeBefore&&a.isSelectable(u.nodeBefore)?null:a.getNearestSelectionRange(u,"backward");return new W(D?D.start:d,x?x.end:u)}}const C=b&&!b.is("rootElement"),w=_&&!_.is("rootElement");if(C||w){const D=d.nodeAfter&&u.nodeBefore&&d.nodeAfter.parent===u.nodeBefore.parent,x=C&&(!D||!tu(d.nodeAfter,a)),T=w&&(!D||!tu(u.nodeBefore,a));let R=d,L=u;return x&&(R=Z._createBefore(t4(b,a))),T&&(L=Z._createAfter(t4(_,a))),new W(R,L)}return null}(l,i)}function t4(l,i){let o=l,a=o;for(;i.isLimit(a)&&a.parent;)o=a,a=a.parent;return o}function tu(l,i){return l&&i.isSelectable(l)}class n4{constructor(){this.markers=new kt,this.document=new p2(this),this.schema=new _1,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(i=>this.decorate(i)),this.on("applyOperation",(i,o)=>{o[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$documentFragment",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$documentFragment"}),this.schema.register("$marker"),this.schema.addChildCheck((i,o)=>{if("$marker"===o.name)return!0}),function(l){l.document.registerPostFixer(i=>function(o,a){const d=a.document.selection,u=a.schema,f=[];let g=!1;for(const b of d.getRanges()){const _=Gf(b,u);_&&!_.isEqual(b)?(f.push(_),g=!0):f.push(b)}g&&o.setSelection(function(b){const _=[];_.push(b.shift());for(const C of b){const w=_.pop();if(C.isEqual(w))_.push(w);else if(C.isIntersecting(w)){const D=w.start.isAfter(C.start)?C.start:w.start,x=w.end.isAfter(C.end)?w.end:C.end,T=new W(D,x);_.push(T)}else _.push(w),_.push(C)}return _}(f),{backward:d.isBackward})}(i,l))}(this),this.document.registerPostFixer(b1)}change(i){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new d2,callback:i}),this._runPendingChanges()[0]):i(this._currentWriter)}catch(o){S.a.rethrowUnexpectedError(o,this)}}enqueueChange(i,o){try{"string"==typeof i?i=new d2(i):"function"==typeof i&&(o=i,i=new d2),this._pendingChanges.push({batch:i,callback:o}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(a){S.a.rethrowUnexpectedError(a,this)}}applyOperation(i){i._execute()}insertContent(i,o,a){return u=i,f=o,g=a,(d=this).change(b=>{let _;_=f?f instanceof Pr||f instanceof vi?f:b.createSelection(f,g):d.document.selection,_.isCollapsed||d.deleteContent(_,{doNotAutoparagraph:!0});const C=new Ff(d,b,_.anchor);let w;w=u.is("documentFragment")?u.getChildren():[u],C.handleNodes(w);const D=C.getSelectionRange();D&&(_ instanceof vi?b.setSelection(D):_.setTo(D));const x=C.getAffectedRange()||d.createRange(_.anchor);return C.destroy(),x});var d,u,f,g}deleteContent(i,o){Hf(this,i,o)}modifySelection(i,o){!function(a,d,u={}){const f=a.schema,g="backward"!=u.direction,b=u.unit?u.unit:"character",C=new Ir({boundaries:eu(d.focus,g),singleCharacters:!0,direction:g?"forward":"backward"}),w={walker:C,schema:f,isForward:g,unit:b};let D;for(;D=C.next();){if(D.done)return;const x=Xd(w,D.value);if(x)return void(d instanceof vi?a.change(T=>{T.setSelectionFocus(x)}):d.setFocus(x))}}(this,i,o)}getSelectedContent(i){return function(o,a){return o.change(d=>{const u=d.createDocumentFragment(),f=a.getFirstRange();if(!f||f.isCollapsed)return u;const g=f.start.root,b=f.start.getCommonPath(f.end),_=g.getNodeByPath(b);let C;C=f.start.parent==f.end.parent?f:d.createRange(d.createPositionAt(_,f.start.path[b.length]),d.createPositionAt(_,f.end.path[b.length]+1));const w=C.end.offset-C.start.offset;for(const D of C.getItems({shallow:!0}))D.is("$textProxy")?d.appendText(D.data,D.getAttributes(),u):d.append(d.cloneElement(D,!0),u);if(C!=f){const D=f._getTransformedByMove(C.start,d.createPositionAt(u,0),w)[0],x=d.createRange(d.createPositionAt(u,0),D.start);m2(d.createRange(D.end,d.createPositionAt(u,"end")),d),m2(x,d)}return u})}(this,i)}hasContent(i,o={}){const a=i instanceof pt?W._createIn(i):i;if(a.isCollapsed)return!1;const{ignoreWhitespaces:d=!1,ignoreMarkers:u=!1}=o;if(!u)for(const f of this.markers.getMarkersIntersectingRange(a))if(f.affectsData)return!0;for(const f of a.getItems())if(this.schema.isContent(f)&&(!f.is("$textProxy")||!d||-1!==f.data.search(/\S/)))return!0;return!1}createPositionFromPath(i,o,a){return new Z(i,o,a)}createPositionAt(i,o){return Z._createAt(i,o)}createPositionAfter(i){return Z._createAfter(i)}createPositionBefore(i){return Z._createBefore(i)}createRange(i,o){return new W(i,o)}createRangeIn(i){return W._createIn(i)}createRangeOn(i){return W._createOn(i)}createSelection(i,o,a){return new Pr(i,o,a)}createBatch(i){return new d2(i)}createOperationFromJSON(i){return class{static fromJSON(o,a){return Ci[o.__className].fromJSON(o,a)}}.fromJSON(i,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const i=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new gb(this,this._pendingChanges[0].batch);const a=this._pendingChanges[0].callback(this._currentWriter);i.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),i}}Ee(n4,ln);class Uf extends Gs{constructor(i){super(),this.editor=i}set(i,o,a={}){if("string"==typeof o){const d=o;o=(u,f)=>{this.editor.execute(d),f()}}super.set(i,o,a)}}class i4{constructor(i={}){this._context=i.context||new ar({language:i.language}),this._context._addEditor(this,!i.context);const o=Array.from(this.constructor.builtinPlugins||[]);this.config=new qa(i,this.constructor.defaultConfig),this.config.define("plugins",o),this.config.define(this._context._getEditorConfig()),this.plugins=new Ho(this,o,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new xf,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new n4;const a=new ef;this.data=new Gd(this.model,a),this.editing=new Df(this.model,a),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new _i([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Uf(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const i=this.config,o=i.get("plugins"),a=i.get("removePlugins")||[],d=i.get("extraPlugins")||[],u=i.get("substitutePlugins")||[];return this.plugins.init(o.concat(d),a,u)}destroy(){let i=Promise.resolve();return"initializing"==this.state&&(i=new Promise(o=>this.once("ready",o))),i.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...i){try{return this.commands.execute(...i)}catch(o){S.a.rethrowUnexpectedError(o,this)}}focus(){this.editing.view.focus()}}Ee(i4,ln);class $f{constructor(i){this.editor=i,this._components=new Map}*names(){for(const i of this._components.values())yield i.originalName}add(i,o){this._components.set(r4(i),{callback:o,originalName:i})}create(i){if(!this.has(i))throw new S.a("componentfactory-item-missing",this,{name:i});return this._components.get(r4(i)).callback(this.editor.locale)}has(i){return this._components.has(r4(i))}}function r4(l){return String(l).toLowerCase()}class nu{constructor(i){this.editor=i,this.componentFactory=new $f(i),this.focusTracker=new Xn,this._editableElementsMap=new Map,this.listenTo(i.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const i of this._editableElementsMap.values())i.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(i,o){this._editableElementsMap.set(i,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor)}getEditableElement(i="main"){return this._editableElementsMap.get(i)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}Ee(nu,Oe);var o4={setData(l){this.data.set(l)},getData(l){return this.data.get(l)}},Wf={updateSourceElement(){if(!this.sourceElement)throw new S.a("editor-missing-sourceelement",this);var l,i;l=this.sourceElement,i=this.data.get(),l instanceof HTMLTextAreaElement&&(l.value=i),l.innerHTML=i}};Symbol;function iu({emitter:l,activator:i,callback:o,contextElements:a}){l.listenTo(document,"mousedown",(d,u)=>{if(!i())return;const f="function"==typeof u.composedPath?u.composedPath():[];for(const g of a)if(g.contains(u.target)||f.includes(g))return;o()})}class Qs extends Nt{constructor(i=[]){super(i,{idProperty:"viewUid"}),this.on("add",(o,a,d)=>{this._renderViewIntoCollectionParent(a,d)}),this.on("remove",(o,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(i=>i.destroy())}setParent(i){this._parentElement=i;for(const o of this)this._renderViewIntoCollectionParent(o)}delegate(...i){if(!i.length||!i.every(o=>"string"==typeof o))throw new S.a("ui-viewcollection-delegate-wrong-events",this);return{to:o=>{for(const a of this)for(const d of i)a.delegate(d).to(o);this.on("add",(a,d)=>{for(const u of i)d.delegate(u).to(o)}),this.on("remove",(a,d)=>{for(const u of i)d.stopDelegating(u,o)})}}}_renderViewIntoCollectionParent(i,o){i.isRendered||i.render(),i.element&&this._parentElement&&this._parentElement.insertBefore(i.element,this._parentElement.children[o])}}var ep=E(1),Ze=E.n(ep),ru=E(12);Ze()(ru.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Xe{constructor(i){this.element=null,this.isRendered=!1,this.locale=i,this.t=i&&i.t,this._viewCollections=new Nt,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(o,a)=>{a.locale=i}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Ri.bind(this,this)}createCollection(i){const o=new Qs(i);return this._viewCollections.add(o),o}registerChild(i){Nn(i)||(i=[i]);for(const o of i)this._unboundChildren.add(o)}deregisterChild(i){Nn(i)||(i=[i]);for(const o of i)this._unboundChildren.remove(o)}setTemplate(i){this.template=new Ri(i)}extendTemplate(i){Ri.extend(this.template,i)}render(){if(this.isRendered)throw new S.a("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(i=>i.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}Ee(Xe,Zc),Ee(Xe,ln);class Ri{constructor(i){Object.assign(this,b2(ei(i))),this._isRendered=!1,this._revertData=null}render(){const i=this._renderNode({intoFragment:!0});return this._isRendered=!0,i}apply(i){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:i,isApplying:!0,revertData:this._revertData}),i}revert(i){if(!this._revertData)throw new S.a("ui-template-revert-not-applied",[this,i]);this._revertTemplateFromNode(i,this._revertData)}*getViews(){yield*function*i(o){if(o.children)for(const a of o.children)x1(a)?yield a:M1(a)&&(yield*i(a))}(this)}static bind(i,o){return{to:(a,d)=>new np({eventNameOrFunction:a,attribute:a,observable:i,emitter:o,callback:d}),if:(a,d,u)=>new Qo({observable:i,emitter:o,attribute:a,valueIfTrue:d,callback:u})}}static extend(i,o){if(i._isRendered)throw new S.a("template-extend-render",[this,i]);Xs(i,b2(ei(o)))}_renderNode(i){let o;if(o=i.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new S.a("ui-template-wrong-syntax",this);return this.text?this._renderText(i):this._renderElement(i)}_renderElement(i){let o=i.node;return o||(o=i.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(i),this._renderElementChildren(i),this._setUpListeners(i),o}_renderText(i){let o=i.node;return o?i.revertData.text=o.textContent:o=i.node=document.createTextNode(""),ki(this.text)?this._bindToObservable({schema:this.text,updater:vb(o),data:i}):o.textContent=this.text.join(""),o}_renderAttributes(i){let o,a,d,u;if(!this.attributes)return;const f=i.node,g=i.revertData;for(o in this.attributes)if(d=f.getAttribute(o),a=this.attributes[o],g&&(g.attributes[o]=d),u=pe(a[0])&&a[0].ns?a[0].ns:null,ki(a)){const b=u?a[0].value:a;g&&c4(o)&&b.unshift(d),this._bindToObservable({schema:b,updater:ou(f,o,u),data:i})}else"style"==o&&"string"!=typeof a[0]?this._renderStyleAttribute(a[0],i):(g&&d&&c4(o)&&a.unshift(d),a=a.map(b=>b&&b.value||b).reduce((b,_)=>b.concat(_),[]).reduce(su,""),Xo(a)||f.setAttributeNS(u,o,a))}_renderStyleAttribute(i,o){const a=o.node;for(const d in i){const u=i[d];ki(u)?this._bindToObservable({schema:[u],updater:_b(a,d),data:o}):a.style[d]=u}}_renderElementChildren(i){const o=i.node,a=i.intoFragment?document.createDocumentFragment():o,d=i.isApplying;let u=0;for(const f of this.children)if(E1(f)){if(!d){f.setParent(o);for(const g of f)a.appendChild(g.element)}}else if(x1(f))d||(f.isRendered||f.render(),a.appendChild(f.element));else if(Os(f))a.appendChild(f);else if(d){const g={children:[],bindings:[],attributes:{}};i.revertData.children.push(g),f._renderNode({node:a.childNodes[u++],isApplying:!0,revertData:g})}else a.appendChild(f.render());i.intoFragment&&o.appendChild(a)}_setUpListeners(i){if(this.eventListeners)for(const o in this.eventListeners){const a=this.eventListeners[o].map(d=>{const[u,f]=o.split("@");return d.activateDomEventListener(u,f,i)});i.revertData&&i.revertData.bindings.push(a)}}_bindToObservable({schema:i,updater:o,data:a}){const d=a.revertData;ip(i,o,a);const u=i.filter(f=>!Xo(f)).filter(f=>f.observable).map(f=>f.activateAttributeListener(i,o,a));d&&d.bindings.push(u)}_revertTemplateFromNode(i,o){for(const a of o.bindings)for(const d of a)d();if(o.text)i.textContent=o.text;else{for(const a in o.attributes){const d=o.attributes[a];null===d?i.removeAttribute(a):i.setAttribute(a,d)}for(let a=0;a<o.children.length;++a)this._revertTemplateFromNode(i.childNodes[a],o.children[a])}}}Ee(Ri,Oe);class D1{constructor(i){Object.assign(this,i)}getValue(i){const o=this.observable[this.attribute];return this.callback?this.callback(o,i):o}activateAttributeListener(i,o,a){const d=()=>ip(i,o,a);return this.emitter.listenTo(this.observable,"change:"+this.attribute,d),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,d)}}}class np extends D1{activateDomEventListener(i,o,a){const d=(u,f)=>{o&&!f.target.matches(o)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(f):this.observable.fire(this.eventNameOrFunction,f))};return this.emitter.listenTo(a.node,i,d),()=>{this.emitter.stopListening(a.node,i,d)}}}class Qo extends D1{getValue(i){return!Xo(super.getValue(i))&&(this.valueIfTrue||!0)}}function ki(l){return!!l&&(l.value&&(l=l.value),Array.isArray(l)?l.some(ki):l instanceof D1)}function ip(l,i,{node:o}){let a=(u=o,l.map(f=>f instanceof D1?f.getValue(u):f));var u;a=1==l.length&&l[0]instanceof Qo?a[0]:a.reduce(su,""),Xo(a)?i.remove():i.set(a)}function vb(l){return{set(i){l.textContent=i},remove(){l.textContent=""}}}function ou(l,i,o){return{set(a){l.setAttributeNS(o,i,a)},remove(){l.removeAttributeNS(o,i)}}}function _b(l,i){return{set(o){l.style[i]=o},remove(){l.style[i]=null}}}function ei(l){return Vo(l,i=>{if(i&&(i instanceof D1||M1(i)||x1(i)||E1(i)))return i})}function b2(l){if("string"==typeof l?l=function(i){return{text:[i]}}(l):l.text&&function(i){i.text=vn(i.text)}(l),l.on&&(l.eventListeners=function(i){for(const o in i)v2(i,o);return i}(l.on),delete l.on),!l.text){l.attributes&&function(o){for(const a in o)o[a].value&&(o[a].value=vn(o[a].value)),v2(o,a)}(l.attributes);const i=[];if(l.children)if(E1(l.children))i.push(l.children);else for(const o of l.children)M1(o)||x1(o)||Os(o)?i.push(o):i.push(new Ri(o));l.children=i}return l}function v2(l,i){l[i]=vn(l[i])}function su(l,i){return Xo(i)?l:Xo(l)?i:`${l} ${i}`}function a4(l,i){for(const o in i)l[o]?l[o].push(...i[o]):l[o]=i[o]}function Xs(l,i){if(i.attributes&&(l.attributes||(l.attributes={}),a4(l.attributes,i.attributes)),i.eventListeners&&(l.eventListeners||(l.eventListeners={}),a4(l.eventListeners,i.eventListeners)),i.text&&l.text.push(...i.text),i.children&&i.children.length){if(l.children.length!=i.children.length)throw new S.a("ui-template-extend-children-mismatch",l);let o=0;for(const a of i.children)Xs(l.children[o++],a)}}function Xo(l){return!l&&0!==l}function x1(l){return l instanceof Xe}function M1(l){return l instanceof Ri}function E1(l){return l instanceof Qs}function c4(l){return"class"==l||"style"==l}class Cb extends Qs{constructor(i,o=[]){super(o),this.locale=i}attachToDom(){this._bodyCollectionContainer=new Ri({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let i=document.querySelector(".ck-body-wrapper");i||(i=function(o,a,d={},u=[]){const f=d&&d.xmlns,g=f?o.createElementNS(f,a):o.createElement(a);for(const b in d)g.setAttribute(b,d[b]);!Td(u)&&Nn(u)||(u=[u]);for(let b of u)Td(b)&&(b=o.createTextNode(b)),g.appendChild(b);return g}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(i)),i.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const i=document.querySelector(".ck-body-wrapper");i&&0==i.childElementCount&&i.remove()}}var es=E(13);Ze()(es.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class d4 extends Xe{constructor(){super();const i=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:i.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const i=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),o=i.getAttribute("viewBox");for(o&&(this.viewBox=o),this.element.innerHTML="";i.childNodes.length>0;)this.element.appendChild(i.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(i=>{i.style.fill=this.fillColor})}}var au=E(14);Ze()(au.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class rp extends Xe{constructor(i){super(i),this.set("text",""),this.set("position","s");const o=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",o.to("position",a=>"ck-tooltip_"+a),o.if("text","ck-hidden",a=>!a.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:o.to("text")}]}]})}}var cu=E(15);Ze()(cu.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $t extends Xe{constructor(i){super(i);const o=this.bindTemplate,a=V();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(a),this.iconView=new d4,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",d=>!d),o.if("isVisible","ck-hidden",d=>!d),o.to("isOn",d=>d?"ck-on":"ck-off"),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],type:o.to("type",d=>d||"button"),tabindex:o.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${a}`,"aria-disabled":o.if("isEnabled",!0,d=>!d),"aria-pressed":o.to("isOn",d=>!!this.isToggleable&&String(d))},children:this.children,on:{mousedown:o.to(d=>{d.preventDefault()}),click:o.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const i=new rp;return i.bind("text").to(this,"_tooltipString"),i.bind("position").to(this,"tooltipPosition"),i}_createLabelView(i){const o=new Xe;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${i}`},children:[{text:this.bindTemplate.to("label")}]}),o}_createKeystrokeView(){const i=new Xe;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",o=>rf(o))}]}),i}_getTooltipString(i,o,a){return i?"string"==typeof i?i:(a&&(a=rf(a)),i instanceof Function?i(o,a):`${o}${a?` (${a})`:""}`):""}}var lu=E(16);Ze()(lu.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _2 extends $t{constructor(i){super(i),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const i=new Xe;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),i}}class ea{constructor(i){if(Object.assign(this,i),i.actions&&i.keystrokeHandler)for(const o in i.actions){let a=i.actions[o];"string"==typeof a&&(a=[a]);for(const d of a)i.keystrokeHandler.set(d,(u,f)=>{this[o](),f()})}}get first(){return this.focusables.find(C2)||null}get last(){return this.focusables.filter(C2).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let i=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((o,a)=>{const d=o.element===this.focusTracker.focusedElement;return d&&(i=a),d}),i)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(i){i&&i.focus()}_getFocusableItem(i){const o=this.current,a=this.focusables.length;if(!a)return null;if(null===o)return this[1===i?"first":"last"];let d=(o+a+i)%a;do{const u=this.focusables.get(d);if(C2(u))return u;d=(d+a+i)%a}while(d!==o);return null}}function C2(l){return!(!l.focus||"none"==nn.window.getComputedStyle(l.element).display)}var k2=E(17);Ze()(k2.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var du='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class h4 extends $t{constructor(i){super(i),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new d4;return i.content=du,i.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),i}}var f4=E(18);Ze()(f4.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class p4 extends Xe{constructor(i){super(i);const o=this.bindTemplate;this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Gs,this.focusTracker=new Xn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",o.if("isVisible","ck-hidden",a=>!a),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(i,o)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",(i,o)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),o())})}focus(){this.actionView.focus()}_createActionView(){const i=new $t;return i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const i=new $t,o=i.bindTemplate;return i.icon=du,i.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":o.to("isOn",a=>String(a))}}),i.bind("isEnabled").to(this),i.delegate("execute").to(this,"open"),i}}class uu extends Xe{constructor(i){super(i);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",a=>`ck-dropdown__panel_${a}`),o.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:o.to(a=>a.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const i=this.children.last;"function"==typeof i.focusLast?i.focusLast():i.focus()}}}var hu=E(19);function fu({element:l,target:i,positions:o,limiter:a,fitInViewport:d}){To(i)&&(i=i()),To(a)&&(a=a());const u=(w=l)&&w.parentNode?w.offsetParent===nn.document.body?null:w.offsetParent:null,f=new Bt(l),g=new Bt(i);var w;let b,_;[_,b]=(a||d)&&function(D,x){const{elementRect:T,viewportRect:R}=x,L=T.getArea(),$=function(Y,{targetRect:te,elementRect:He,limiterRect:ni,viewportRect:Br}){const _r=[],Cr=He.getArea();for(const K1 of Y){const Hi=y2(K1,te,He);if(!Hi)continue;const[b6,J1]=Hi;let ce=0,wo=0;if(ni)if(Br){const fl=ni.getIntersection(Br);fl&&(ce=fl.getIntersectionArea(J1))}else ce=ni.getIntersectionArea(J1);Br&&(wo=Br.getIntersectionArea(J1));const ii={positionName:b6,positionRect:J1,limiterIntersectArea:ce,viewportIntersectArea:wo};if(ce===Cr)return[ii];_r.push(ii)}return _r}(D,x);if(R){const Y=g4($.filter(({viewportIntersectArea:te})=>te===L),L);if(Y)return Y}return g4($,L)}(o,{targetRect:g,elementRect:f,limiterRect:a&&new Bt(a).getVisible(),viewportRect:d&&new Bt(nn.window)})||y2(o[0],g,f);let C=m4(b);return u&&(C=function({left:w,top:D},x){const T=m4(new Bt(x)),R=pf(x);return w-=T.left,D-=T.top,w+=x.scrollLeft,D+=x.scrollTop,{left:w-=R.left,top:D-=R.top}}(C,u)),{left:C.left,top:C.top,name:_}}function y2(l,i,o){const a=l(i,o);if(!a)return null;const{left:d,top:u,name:f}=a;return[f,o.clone().moveTo(d,u)]}function g4(l,i){let o,a,d=0;for(const{positionName:u,positionRect:f,limiterIntersectArea:g,viewportIntersectArea:b}of l){if(g===i)return[u,f];const _=b**2+g**2;_>d&&(d=_,o=f,a=u)}return o?[a,o]:null}function m4({left:l,top:i}){const{scrollX:o,scrollY:a}=nn.window;return{left:l+o,top:i+a}}Ze()(hu.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ho extends Xe{constructor(i,o,a){super(i);const d=this.bindTemplate;this.buttonView=o,this.panelView=a,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new Gs,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",d.to("class"),d.if("isEnabled","ck-disabled",u=>!u)],id:d.to("id"),"aria-describedby":d.to("ariaDescribedById")},children:[o,a]}),o.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelView.position="auto"===this.panelPosition?ho._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const i=(o,a)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,a())};this.keystrokes.set("arrowdown",(o,a)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,a())}),this.keystrokes.set("arrowright",(o,a)=>{this.isOpen&&a()}),this.keystrokes.set("arrowleft",i),this.keystrokes.set("esc",i)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:i,north:o,southEast:a,southWest:d,northEast:u,northWest:f,southMiddleEast:g,southMiddleWest:b,northMiddleEast:_,northMiddleWest:C}=ho.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[a,d,g,b,i,u,f,_,C,o]:[d,a,b,g,i,f,u,C,_,o]}}ho.defaultPanelPositions={south:(l,i)=>({top:l.bottom,left:l.left-(i.width-l.width)/2,name:"s"}),southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,i)=>({top:l.bottom,left:l.left-i.width+l.width,name:"sw"}),southMiddleEast:(l,i)=>({top:l.bottom,left:l.left-(i.width-l.width)/4,name:"sme"}),southMiddleWest:(l,i)=>({top:l.bottom,left:l.left-3*(i.width-l.width)/4,name:"smw"}),north:(l,i)=>({top:l.top-i.height,left:l.left-(i.width-l.width)/2,name:"n"}),northEast:(l,i)=>({top:l.top-i.height,left:l.left,name:"ne"}),northWest:(l,i)=>({top:l.top-i.height,left:l.left-i.width+l.width,name:"nw"}),northMiddleEast:(l,i)=>({top:l.top-i.height,left:l.left-(i.width-l.width)/4,name:"nme"}),northMiddleWest:(l,i)=>({top:l.top-i.height,left:l.left-3*(i.width-l.width)/4,name:"nmw"})},ho._getOptimalPosition=fu;class A2 extends Xe{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class D2 extends Xe{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function S1(l){return Array.isArray(l)?{items:l,removeItems:[]}:l?Object.assign({items:[],removeItems:[]},l):{items:[],removeItems:[]}}var b4=E(20);Ze()(b4.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _4 extends Xe{constructor(i,o){super(i);const a=this.bindTemplate,d=this.t;this.options=o||{},this.set("ariaLabel",d("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Xn,this.keystrokes=new Gs,this.set("class"),this.set("isCompact",!1),this.itemsView=new C4(i),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new ea({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}});const u=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var f;this.options.shouldGroupWhenFull&&this.options.isFloating&&u.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:u,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")}},children:this.children,on:{mousedown:(f=this,f.bindTemplate.to(g=>{g.target===f.element&&g.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new cp(this):new N1(this)}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(i,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(i,o){const a=S1(i),d=a.items.filter((f,g,b)=>"|"===f||-1===a.removeItems.indexOf(f)&&("-"===f?!this.options.shouldGroupWhenFull||(Object(S.b)("toolbarview-line-break-ignored-when-grouping-items",b),!1):!!o.has(f)||(Object(S.b)("toolbarview-item-unavailable",{name:f}),!1))),u=this._cleanSeparators(d).map(f=>"|"===f?new A2:"-"===f?new D2:o.create(f));this.items.addMany(u)}_cleanSeparators(i){const o=f=>"-"!==f&&"|"!==f,a=i.length,d=i.findIndex(o),u=a-i.slice().reverse().findIndex(o);return i.slice(d,u).filter((f,g,b)=>!!o(f)||!(g>0&&b[g-1]===f))}}class C4 extends Xe{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class N1{constructor(i){const o=i.bindTemplate;i.set("isVertical",!1),i.itemsView.children.bindTo(i.items).using(a=>a),i.focusables.bindTo(i.items).using(a=>a),i.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class cp{constructor(i){this.view=i,this.viewChildren=i.children,this.viewFocusables=i.focusables,this.viewItemsView=i.itemsView,this.viewFocusTracker=i.focusTracker,this.viewLocale=i.locale,this.ungroupedItems=i.createCollection(),this.groupedItems=i.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,i.itemsView.children.bindTo(this.ungroupedItems).using(o=>o),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),i.children.on("add",this._updateFocusCycleableItems.bind(this)),i.children.on("remove",this._updateFocusCycleableItems.bind(this)),i.items.on("change",(o,a)=>{const d=a.index;for(const u of a.removed)d>=this.ungroupedItems.length?this.groupedItems.remove(u):this.ungroupedItems.remove(u);for(let u=d;u<d+a.added.length;u++){const f=a.added[u-d];u>this.ungroupedItems.length?this.groupedItems.add(f,u-this.ungroupedItems.length):this.ungroupedItems.add(f,u)}this._updateGrouping()}),i.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(i){this.viewElement=i.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(i)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!this.viewElement.offsetParent)return void(this.shouldUpdateGroupingOnNextResize=!0);const i=this.groupedItems.length;let o;for(;this._areItemsOverflowing;)this._groupLastItem(),o=!0;if(!o&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==i&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const i=this.viewElement,o=this.viewLocale.uiLanguageDirection,a=new Bt(i.lastChild),d=new Bt(i);if(!this.cachedPadding){const u=nn.window.getComputedStyle(i);this.cachedPadding=Number.parseInt(u["ltr"===o?"paddingRight":"paddingLeft"])}return"ltr"===o?a.right>d.right-this.cachedPadding:a.left<d.left+this.cachedPadding}_enableGroupingOnResize(){let i;this.resizeObserver=new vt(this.viewElement,o=>{i&&i===o.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),i=o.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(i){i.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new A2),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const i=this.viewLocale,o=i.t,a=ns(i);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition="ltr"===i.uiLanguageDirection?"sw":"se",D4(a,[]),a.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:"rtl"===i.uiLanguageDirection?"se":"sw",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),a.toolbarView.items.bindTo(this.groupedItems).using(d=>d),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(i=>{this.viewFocusables.add(i)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var k4=E(21);Ze()(k4.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class dp extends Xe{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Xn,this.keystrokes=new Gs,this._focusCycler=new ea({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(i,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class pu extends Xe{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class w4 extends Xe{constructor(i){super(i),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var y4=E(22),A4=(Ze()(y4.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),E(23));function ns(l,i=h4){const o=new i(l),a=new uu(l),d=new ho(l,o,a);return o.bind("isEnabled").to(d),o instanceof h4?o.bind("isOn").to(d,"isOpen"):o.arrowView.bind("isOn").to(d,"isOpen"),(f=u=d).on("render",()=>{iu({emitter:f,activator:()=>f.isOpen,callback:()=>{f.isOpen=!1},contextElements:[f.element]})}),function(f){f.on("execute",g=>{g.source instanceof _2||(f.isOpen=!1)})}(u),function(f){f.keystrokes.set("arrowdown",(g,b)=>{f.isOpen&&(f.panelView.focus(),b())}),f.keystrokes.set("arrowup",(g,b)=>{f.isOpen&&(f.panelView.focusLast(),b())})}(u),d;var u,f}function D4(l,i){const o=l.locale,a=o.t,d=l.toolbarView=new _4(o);d.set("ariaLabel",a("Dropdown toolbar")),l.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),i.map(u=>d.items.add(u)),l.panelView.children.add(d),d.items.delegate("execute").to(l)}function x4(l,i){const o=l.locale,a=l.listView=new dp(o);a.items.bindTo(i).using(({type:d,model:u})=>{if("separator"===d)return new w4(o);if("button"===d||"switchbutton"===d){const f=new pu(o);let g;return g="button"===d?new $t(o):new _2(o),g.bind(...Object.keys(u)).to(u),g.delegate("execute").to(f),f.children.add(g),f}}),l.panelView.children.add(a),a.items.delegate("execute").to(l)}Ze()(A4.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Vi=E(24);Ze()(Vi.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class gu extends Xe{constructor(i){super(i),this.body=new Cb(i)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var mu=E(25);Ze()(mu.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class bu extends Xe{constructor(i){super(i),this.set("text"),this.set("for"),this.id=`ck-editor__label_${V()}`;const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}class pp extends gu{constructor(i){super(i),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:i.uiLanguageDirection,lang:i.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const i=this.t,o=new bu;return o.text=i("Rich Text Editor"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}class vu extends Xe{constructor(i,o,a){super(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:i.contentLanguage,dir:i.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const i=this._editingView;function o(a){i.change(d=>{const u=i.document.getRoot(a.name);d.addClass(a.isFocused?"ck-focused":"ck-blurred",u),d.removeClass(a.isFocused?"ck-blurred":"ck-focused",u)})}i.isRenderingInProgress?function a(d){i.once("change:isRenderingInProgress",(u,f,g)=>{g?a(d):o(d)})}(this):o(this)}}class gp extends vu{constructor(i,o,a){super(i,o,a),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const i=this._editingView,o=this.t;i.change(a=>{const d=i.document.getRoot(this.name);a.setAttribute("aria-label",o("Rich Text Editor, %0",this.name),d)})}}var _u=E(26);Ze()(_u.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Me=E(27);Ze()(Me.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Cu extends Xe{constructor(i){super(i),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById"),this.focusTracker=new Xn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",o.if("isFocused","ck-input_focused"),o.if("isEmpty","ck-input-text_empty"),o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),readonly:o.to("isReadOnly"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById")},on:{input:o.to("input"),change:o.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(i,o,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(i){this.element.value=i||0===i?i:""}}var M4=E(28);Ze()(M4.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Yi extends Xe{constructor(i,o){super(i);const a=`ck-labeled-field-view-${V()}`,d=`ck-labeled-field-view-status-${V()}`;this.fieldView=o(this,a,d),this.set("label"),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.set("placeholder"),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(d),this.bind("_statusText").to(this,"errorText",this,"infoText",(f,g)=>f||g);const u=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",f=>!f),u.if("isEmpty","ck-labeled-field-view_empty"),u.if("isFocused","ck-labeled-field-view_focused"),u.if("placeholder","ck-labeled-field-view_placeholder"),u.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[this.fieldView,this.labelView]},this.statusView]})}_createLabelView(i){const o=new bu(this.locale);return o.for=i,o.bind("text").to(this,"label"),o}_createStatusView(i){const o=new Xe(this.locale),a=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",d=>!d)],id:i,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),o}focus(){this.fieldView.focus()}}function ku(l,i,o){const a=new Cu(l.locale);return a.set({id:i,ariaDescribedById:o}),a.bind("isReadOnly").to(l,"isEnabled",d=>!d),a.bind("hasError").to(l,"errorText",d=>!!d),a.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused","placeholder").to(a),a}class M2{constructor(i,o){o&&Va(this,o),i&&this.set(i)}}Ee(M2,ln);var E2=E(29);Ze()(E2.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const S2=Ot("px"),E4=nn.document.body;class Ye extends Xe{constructor(i){super(i);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",o.to("position",a=>`ck-balloon-panel_${a}`),o.if("isVisible","ck-balloon-panel_visible"),o.if("withArrow","ck-balloon-panel_with-arrow"),o.to("class")],style:{top:o.to("top",S2),left:o.to("left",S2)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(i){this.show();const o=Ye.defaultPositions,a=Object.assign({},{element:this.element,positions:[o.southArrowNorth,o.southArrowNorthMiddleWest,o.southArrowNorthMiddleEast,o.southArrowNorthWest,o.southArrowNorthEast,o.northArrowSouth,o.northArrowSouthMiddleWest,o.northArrowSouthMiddleEast,o.northArrowSouthWest,o.northArrowSouthEast],limiter:E4,fitInViewport:!0},i),d=Ye._getOptimalPosition(a),u=parseInt(d.left),f=parseInt(d.top);Object.assign(this,{top:f,left:u,position:d.name})}pin(i){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(i):this._stopPinning()},this._startPinning(i),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(i){this.attachTo(i);const o=wu(i.target),a=i.limiter?wu(i.limiter):E4;this.listenTo(nn.document,"scroll",(d,u)=>{const f=u.target,g=o&&f.contains(o),b=a&&f.contains(a);!g&&!b&&o&&a||this.attachTo(i)},{useCapture:!0}),this.listenTo(nn.window,"resize",()=>{this.attachTo(i)})}_stopPinning(){this.stopListening(nn.document,"scroll"),this.stopListening(nn.window,"resize")}}function wu(l){return ve(l)?l:L0(l)?l.commonAncestorContainer:"function"==typeof l?wu(l()):null}function jn(l,i){return l.top-i.height-Ye.arrowVerticalOffset}function ti(l){return l.bottom+Ye.arrowVerticalOffset}Ye.arrowHorizontalOffset=25,Ye.arrowVerticalOffset=10,Ye._getOptimalPosition=fu,Ye.defaultPositions={northWestArrowSouthWest:(l,i)=>({top:jn(l,i),left:l.left-Ye.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(l,i)=>({top:jn(l,i),left:l.left-.25*i.width-Ye.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(l,i)=>({top:jn(l,i),left:l.left-i.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(l,i)=>({top:jn(l,i),left:l.left-.75*i.width+Ye.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(l,i)=>({top:jn(l,i),left:l.left-i.width+Ye.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(l,i)=>({top:jn(l,i),left:l.left+l.width/2-Ye.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(l,i)=>({top:jn(l,i),left:l.left+l.width/2-.25*i.width-Ye.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(l,i)=>({top:jn(l,i),left:l.left+l.width/2-i.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(l,i)=>({top:jn(l,i),left:l.left+l.width/2-.75*i.width+Ye.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(l,i)=>({top:jn(l,i),left:l.left+l.width/2-i.width+Ye.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(l,i)=>({top:jn(l,i),left:l.right-Ye.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(l,i)=>({top:jn(l,i),left:l.right-.25*i.width-Ye.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(l,i)=>({top:jn(l,i),left:l.right-i.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(l,i)=>({top:jn(l,i),left:l.right-.75*i.width+Ye.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(l,i)=>({top:jn(l,i),left:l.right-i.width+Ye.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(l,i)=>({top:ti(l),left:l.left-Ye.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(l,i)=>({top:ti(l),left:l.left-.25*i.width-Ye.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(l,i)=>({top:ti(l),left:l.left-i.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(l,i)=>({top:ti(l),left:l.left-.75*i.width+Ye.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(l,i)=>({top:ti(l),left:l.left-i.width+Ye.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(l,i)=>({top:ti(l),left:l.left+l.width/2-Ye.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(l,i)=>({top:ti(l),left:l.left+l.width/2-.25*i.width-Ye.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(l,i)=>({top:ti(l),left:l.left+l.width/2-i.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(l,i)=>({top:ti(l),left:l.left+l.width/2-.75*i.width+Ye.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(l,i)=>({top:ti(l),left:l.left+l.width/2-i.width+Ye.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(l,i)=>({top:ti(l),left:l.right-Ye.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(l,i)=>({top:ti(l),left:l.right-.25*i.width-Ye.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(l,i)=>({top:ti(l),left:l.right-i.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(l,i)=>({top:ti(l),left:l.right-.75*i.width+Ye.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(l,i)=>({top:ti(l),left:l.right-i.width+Ye.arrowHorizontalOffset,name:"arrow_ne"})};var T1=E(30),T2=(Ze()(T1.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),E(31));Ze()(T2.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const ta=Ot("px");class bp extends le{static get pluginName(){return"ContextualBalloon"}constructor(i){super(i),this.positionLimiter=()=>{const o=this.editor.editing.view,a=o.document.selection.editableElement;return a?o.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.view=new Ye(i.locale),i.ui.view.body.add(this.view),i.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(i){return Array.from(this._viewToStack.keys()).includes(i)}add(i){if(this.hasView(i.view))throw new S.a("contextualballoon-add-view-exist",[this,i]);const o=i.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[i.view,i]])),this._viewToStack.set(i.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!i.singleViewMode||this.showStack(o));const a=this._idToStack.get(o);i.singleViewMode&&this.showStack(o),a.set(i.view,i),this._viewToStack.set(i.view,a),a===this._visibleStack&&this._showView(i)}remove(i){if(!this.hasView(i))throw new S.a("contextualballoon-remove-view-not-exist",[this,i]);const o=this._viewToStack.get(i);this._singleViewMode&&this.visibleView===i&&(this._singleViewMode=!1),this.visibleView===i&&(1===o.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),1===o.size?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(i),this._viewToStack.delete(i)}updatePosition(i){i&&(this._visibleStack.get(this.visibleView).position=i),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(i){this.visibleStack=i;const o=this._idToStack.get(i);if(!o)throw new S.a("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(i){return Array.from(this._idToStack.entries()).find(o=>o[1]===i)[0]}_showNextStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)+1;i[o]||(o=0),this.showStack(this._getStackId(i[o]))}_showPrevStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)-1;i[o]||(o=i.length-1),this.showStack(this._getStackId(i[o]))}_createRotatorView(){const i=new vp(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,d)=>!d&&a>1),i.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,d)=>{if(d<2)return"";const u=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("%0 of %1",[u,d])}),i.buttonNextView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),i.buttonPrevView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),i}_createFakePanelsView(){const i=new _p(this.editor.locale,this.view);return i.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(o,a)=>!a&&o>=2?Math.min(o-1,2):0),i.listenTo(this.view,"change:top",()=>i.updatePosition()),i.listenTo(this.view,"change:left",()=>i.updatePosition()),this.editor.ui.view.body.add(i),i}_showView({view:i,balloonClassName:o="",withArrow:a=!0,singleViewMode:d=!1}){this.view.class=o,this.view.withArrow=a,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}_getBalloonPosition(){let i=Array.from(this._visibleStack.values()).pop().position;return i&&!i.limiter&&(i=Object.assign({},i,{limiter:this.positionLimiter})),i}}class vp extends Xe{constructor(i){super(i);const o=i.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Xn,this.buttonPrevView=this._createButtonView(o("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(o("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",d=>d?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(i){this.hideView(),this.content.add(i)}hideView(){this.content.clear()}_createButtonView(i,o){const a=new $t(this.locale);return a.set({label:i,icon:o,tooltip:!0}),a}}class _p extends Xe{constructor(i,o){super(i);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",d=>d?"":"ck-hidden")],style:{top:a.to("top",ta),left:a.to("left",ta),width:a.to("width",ta),height:a.to("height",ta)}},children:this.content}),this.on("change:numberOfPanels",(d,u,f,g)=>{f>g?this._addPanels(f-g):this._removePanels(g-f),this.updatePosition()})}_addPanels(i){for(;i--;){const o=new Xe;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(i){for(;i--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:i,left:o}=this._balloonPanelView,{width:a,height:d}=new Bt(this._balloonPanelView.element);Object.assign(this,{top:i,left:o,width:a,height:d})}}}var yu=E(32);Ze()(yu.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const na=Ot("px");class wb extends Xe{constructor(i){super(i);const o=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Ri({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",a=>a?"block":"none"),height:o.to("isSticky",a=>a?na(this._panelRect.height):null)}}}).render(),this._contentPanel=new Ri({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",a=>a?na(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:o.to("_hasViewportTopOffset",a=>a?na(this.viewportTopOffset):null),bottom:o.to("_isStickyToTheLimiter",a=>a?na(this.limiterBottomOffset):null),marginLeft:o.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(nn.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const i=this._panelRect=this._contentPanel.getBoundingClientRect();let o;this.limiterElement?(o=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&o.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<o.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=o.bottom<i.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:na(-nn.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}Ot("px");var Au=E(33);Ze()(Au.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ot("px"),Ot("px");var N4=E(34);Ze()(N4.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const I2=new WeakMap;function kp(l,i){const o=I2.get(l),a=[];let d=!1;for(const[u,f]of o)f.isDirectHost&&(a.push(u),wp(i,u,f)&&(d=!0));for(const[u,f]of o){if(f.isDirectHost)continue;const g=Ab(u);g&&(a.includes(g)||(f.hostElement=g,wp(i,u,f)&&(d=!0)))}return d}function wp(l,i,o){const{text:a,isDirectHost:d,hostElement:u}=o;let f=!1;return u.getAttribute("data-placeholder")!==a&&(l.setAttribute("data-placeholder",a,u),f=!0),(d||1==i.childCount)&&function(g,b){if(!g.isAttached()||Array.from(g.getChildren()).some(w=>!w.is("uiElement")))return!1;if(b)return!0;const _=g.document;if(!_.isFocused)return!0;const C=_.selection.anchor;return C&&C.parent!==g}(u,o.keepOnFocus)?(g=l,!(b=u).hasClass("ck-placeholder")&&(g.addClass("ck-placeholder",b),!0)&&(f=!0)):function(l,i){return!!i.hasClass("ck-placeholder")&&(l.removeClass("ck-placeholder",i),!0)}(l,u)&&(f=!0),f;var g,b}function Ab(l){if(l.childCount){const i=l.getChild(0);if(i.is("element")&&!i.is("uiElement"))return i}return null}const xu=new Map;function ct(l,i,o){let a=xu.get(l);a||(a=new Map,xu.set(l,a)),a.set(i,o)}function Db(l){return[l]}function yp(l,i,o={}){const a=function(d,u){const f=xu.get(d);return f&&f.has(u)?f.get(u):Db}(l.constructor,i.constructor);try{return a(l=l.clone(),i,o)}catch(d){throw d}}function xb(l,i,o){l=l.slice(),i=i.slice();const a=new Mb(o.document,o.useRelations,o.forceWeakRemove);a.setOriginalOperations(l),a.setOriginalOperations(i);const d=a.originalOperations;if(0==l.length||0==i.length)return{operationsA:l,operationsB:i,originalOperations:d};const u=new WeakMap;for(const b of l)u.set(b,0);const f={nextBaseVersionA:l[l.length-1].baseVersion+1,nextBaseVersionB:i[i.length-1].baseVersion+1,originalOperationsACount:l.length,originalOperationsBCount:i.length};let g=0;for(;g<l.length;){const b=l[g],_=u.get(b);if(_==i.length){g++;continue}const C=i[_],w=yp(b,C,a.getContext(b,C,!0)),D=yp(C,b,a.getContext(C,b,!1));a.updateRelation(b,C),a.setOriginalOperations(w,b),a.setOriginalOperations(D,C);for(const x of w)u.set(x,_+D.length);l.splice(g,1,...w),i.splice(_,1,...D)}if(o.padWithNoOps){const b=l.length-f.originalOperationsACount,_=i.length-f.originalOperationsBCount;Fr(l,_-b),Fr(i,b-_)}return Ap(l,f.nextBaseVersionB),Ap(i,f.nextBaseVersionA),{operationsA:l,operationsB:i,originalOperations:d}}class Mb{constructor(i,o,a=!1){this.originalOperations=new Map,this._history=i.history,this._useRelations=o,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(i,o=null){const a=o?this.originalOperations.get(o):null;for(const d of i)this.originalOperations.set(d,a||d)}updateRelation(i,o){switch(i.constructor){case dt:switch(o.constructor){case Jt:i.targetPosition.isEqual(o.sourcePosition)||o.movedRange.containsPosition(i.targetPosition)?this._setRelation(i,o,"insertAtSource"):i.targetPosition.isEqual(o.deletionPosition)?this._setRelation(i,o,"insertBetween"):i.targetPosition.isAfter(o.sourcePosition)&&this._setRelation(i,o,"moveTargetAfter");break;case dt:i.targetPosition.isEqual(o.sourcePosition)||i.targetPosition.isBefore(o.sourcePosition)?this._setRelation(i,o,"insertBefore"):this._setRelation(i,o,"insertAfter")}break;case Tt:switch(o.constructor){case Jt:i.splitPosition.isBefore(o.sourcePosition)&&this._setRelation(i,o,"splitBefore");break;case dt:if(i.splitPosition.isEqual(o.sourcePosition)||i.splitPosition.isBefore(o.sourcePosition))this._setRelation(i,o,"splitBefore");else{const a=W._createFromPositionAndShift(o.sourcePosition,o.howMany);i.splitPosition.hasSameParentAs(o.sourcePosition)&&a.containsPosition(i.splitPosition)&&this._setRelation(i,o,{howMany:a.end.offset-i.splitPosition.offset,offset:i.splitPosition.offset-a.start.offset})}}break;case Jt:switch(o.constructor){case Jt:i.targetPosition.isEqual(o.sourcePosition)||this._setRelation(i,o,"mergeTargetNotMoved"),i.sourcePosition.isEqual(o.targetPosition)&&this._setRelation(i,o,"mergeSourceNotMoved"),i.sourcePosition.isEqual(o.sourcePosition)&&this._setRelation(i,o,"mergeSameElement");break;case Tt:i.sourcePosition.isEqual(o.splitPosition)&&this._setRelation(i,o,"splitAtSource")}break;case Cn:{const a=i.newRange;if(!a)return;switch(o.constructor){case dt:{const d=W._createFromPositionAndShift(o.sourcePosition,o.howMany),u=d.containsPosition(a.start)||d.start.isEqual(a.start),f=d.containsPosition(a.end)||d.end.isEqual(a.end);!u&&!f||d.containsRange(a)||this._setRelation(i,o,{side:u?"left":"right",path:u?a.start.path.slice():a.end.path.slice()});break}case Jt:{const d=a.start.isEqual(o.targetPosition),u=a.start.isEqual(o.deletionPosition),f=a.end.isEqual(o.deletionPosition),g=a.end.isEqual(o.sourcePosition);(d||u||f||g)&&this._setRelation(i,o,{wasInLeftElement:d,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:f,wasInRightElement:g});break}}break}}}getContext(i,o,a){return{aIsStrong:a,aWasUndone:this._wasUndone(i),bWasUndone:this._wasUndone(o),abRelation:this._useRelations?this._getRelation(i,o):null,baRelation:this._useRelations?this._getRelation(o,i):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(i){const o=this.originalOperations.get(i);return o.wasUndone||this._history.isUndoneOperation(o)}_getRelation(i,o){const a=this.originalOperations.get(o),d=this._history.getUndoneOperation(a);if(!d)return null;const u=this.originalOperations.get(i),f=this._relations.get(u);return f&&f.get(d)||null}_setRelation(i,o,a){const d=this.originalOperations.get(i),u=this.originalOperations.get(o);let f=this._relations.get(d);f||(f=new Map,this._relations.set(d,f)),f.set(u,a)}}function Ap(l,i){for(const o of l)o.baseVersion=i++}function Fr(l,i){for(let o=0;o<i;o++)l.push(new kn(0))}function P2(l,i,o){const a=l.nodes.getNode(0).getAttribute(i);if(a==o)return null;const d=new W(l.position,l.position.getShiftedBy(l.howMany));return new Kt(d,i,a,o,0)}function Mu(l,i){return null===l.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany)}function is(l,i){const o=[];for(let a=0;a<l.length;a++){const d=l[a],u=new dt(d.start,d.end.offset-d.start.offset,i,0);o.push(u);for(let f=a+1;f<l.length;f++)l[f]=l[f]._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)[0];i=i._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)}return o}ct(Kt,Kt,(l,i,o)=>{if(l.key===i.key&&l.range.start.hasSameParentAs(i.range.start)){const a=l.range.getDifference(i.range).map(u=>new Kt(u,l.key,l.oldValue,l.newValue,0)),d=l.range.getIntersection(i.range);return d&&o.aIsStrong&&a.push(new Kt(d,i.key,i.newValue,l.newValue,0)),0==a.length?[new kn(0)]:a}return[l]}),ct(Kt,Ct,(l,i)=>{if(l.range.start.hasSameParentAs(i.position)&&l.range.containsPosition(i.position)){const o=l.range._getTransformedByInsertion(i.position,i.howMany,!i.shouldReceiveAttributes).map(a=>new Kt(a,l.key,l.oldValue,l.newValue,l.baseVersion));if(i.shouldReceiveAttributes){const a=P2(i,l.key,l.oldValue);a&&o.unshift(a)}return o}return l.range=l.range._getTransformedByInsertion(i.position,i.howMany,!1)[0],[l]}),ct(Kt,Jt,(l,i)=>{const o=[];l.range.start.hasSameParentAs(i.deletionPosition)&&(l.range.containsPosition(i.deletionPosition)||l.range.start.isEqual(i.deletionPosition))&&o.push(W._createFromPositionAndShift(i.graveyardPosition,1));const a=l.range._getTransformedByMergeOperation(i);return a.isCollapsed||o.push(a),o.map(d=>new Kt(d,l.key,l.oldValue,l.newValue,l.baseVersion))}),ct(Kt,dt,(l,i)=>function(o,a){const d=W._createFromPositionAndShift(a.sourcePosition,a.howMany);let u=null,f=[];d.containsRange(o,!0)?u=o:o.start.hasSameParentAs(d.start)?(f=o.getDifference(d),u=o.getIntersection(d)):f=[o];const g=[];for(let b of f){b=b._getTransformedByDeletion(a.sourcePosition,a.howMany);const _=a.getMovedRangeStart(),C=b.start.hasSameParentAs(_);b=b._getTransformedByInsertion(_,a.howMany,C),g.push(...b)}return u&&g.push(u._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),g}(l.range,i).map(o=>new Kt(o,l.key,l.oldValue,l.newValue,l.baseVersion))),ct(Kt,Tt,(l,i)=>{if(l.range.end.isEqual(i.insertionPosition))return i.graveyardPosition||l.range.end.offset++,[l];if(l.range.start.hasSameParentAs(i.splitPosition)&&l.range.containsPosition(i.splitPosition)){const o=l.clone();return o.range=new W(i.moveTargetPosition.clone(),l.range.end._getCombined(i.splitPosition,i.moveTargetPosition)),l.range.end=i.splitPosition.clone(),l.range.end.stickiness="toPrevious",[l,o]}return l.range=l.range._getTransformedBySplitOperation(i),[l]}),ct(Ct,Kt,(l,i)=>{const o=[l];if(l.shouldReceiveAttributes&&l.position.hasSameParentAs(i.range.start)&&i.range.containsPosition(l.position)){const a=P2(l,i.key,i.newValue);a&&o.push(a)}return o}),ct(Ct,Ct,(l,i,o)=>(l.position.isEqual(i.position)&&o.aIsStrong||(l.position=l.position._getTransformedByInsertOperation(i)),[l])),ct(Ct,dt,(l,i)=>(l.position=l.position._getTransformedByMoveOperation(i),[l])),ct(Ct,Tt,(l,i)=>(l.position=l.position._getTransformedBySplitOperation(i),[l])),ct(Ct,Jt,(l,i)=>(l.position=l.position._getTransformedByMergeOperation(i),[l])),ct(Cn,Ct,(l,i)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByInsertOperation(i)[0]),l.newRange&&(l.newRange=l.newRange._getTransformedByInsertOperation(i)[0]),[l])),ct(Cn,Cn,(l,i,o)=>{if(l.name==i.name){if(!o.aIsStrong)return[new kn(0)];l.oldRange=i.newRange?i.newRange.clone():null}return[l]}),ct(Cn,Jt,(l,i)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByMergeOperation(i)),l.newRange&&(l.newRange=l.newRange._getTransformedByMergeOperation(i)),[l])),ct(Cn,dt,(l,i,o)=>{if(l.oldRange&&(l.oldRange=W._createFromRanges(l.oldRange._getTransformedByMoveOperation(i))),l.newRange){if(o.abRelation){const a=W._createFromRanges(l.newRange._getTransformedByMoveOperation(i));if("left"==o.abRelation.side&&i.targetPosition.isEqual(l.newRange.start))return l.newRange.start.path=o.abRelation.path,l.newRange.end=a.end,[l];if("right"==o.abRelation.side&&i.targetPosition.isEqual(l.newRange.end))return l.newRange.start=a.start,l.newRange.end.path=o.abRelation.path,[l]}l.newRange=W._createFromRanges(l.newRange._getTransformedByMoveOperation(i))}return[l]}),ct(Cn,Tt,(l,i,o)=>{if(l.oldRange&&(l.oldRange=l.oldRange._getTransformedBySplitOperation(i)),l.newRange){if(o.abRelation){const a=l.newRange._getTransformedBySplitOperation(i);return l.newRange.start.isEqual(i.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?l.newRange.start=Z._createAt(i.insertionPosition):l.newRange.start.isEqual(i.splitPosition)&&!o.abRelation.wasInLeftElement&&(l.newRange.start=Z._createAt(i.moveTargetPosition)),l.newRange.end=l.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasInRightElement?Z._createAt(i.moveTargetPosition):l.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?Z._createAt(i.insertionPosition):a.end,[l]}l.newRange=l.newRange._getTransformedBySplitOperation(i)}return[l]}),ct(Jt,Ct,(l,i)=>(l.sourcePosition.hasSameParentAs(i.position)&&(l.howMany+=i.howMany),l.sourcePosition=l.sourcePosition._getTransformedByInsertOperation(i),l.targetPosition=l.targetPosition._getTransformedByInsertOperation(i),[l])),ct(Jt,Jt,(l,i,o)=>{if(l.sourcePosition.isEqual(i.sourcePosition)&&l.targetPosition.isEqual(i.targetPosition)){if(o.bWasUndone){const a=i.graveyardPosition.path.slice();return a.push(0),l.sourcePosition=new Z(i.graveyardPosition.root,a),l.howMany=0,[l]}return[new kn(0)]}if(l.sourcePosition.isEqual(i.sourcePosition)&&!l.targetPosition.isEqual(i.targetPosition)&&!o.bWasUndone&&"splitAtSource"!=o.abRelation){const a="$graveyard"==l.targetPosition.root.rootName,d="$graveyard"==i.targetPosition.root.rootName;if(d&&!a||(!a||d)&&o.aIsStrong){const f=i.targetPosition._getTransformedByMergeOperation(i),g=l.targetPosition._getTransformedByMergeOperation(i);return[new dt(f,l.howMany,g,0)]}return[new kn(0)]}return l.sourcePosition.hasSameParentAs(i.targetPosition)&&(l.howMany+=i.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMergeOperation(i),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(i),l.graveyardPosition.isEqual(i.graveyardPosition)&&o.aIsStrong||(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(i)),[l]}),ct(Jt,dt,(l,i,o)=>{const a=W._createFromPositionAndShift(i.sourcePosition,i.howMany);return"remove"==i.type&&!o.bWasUndone&&!o.forceWeakRemove&&l.deletionPosition.hasSameParentAs(i.sourcePosition)&&a.containsPosition(l.sourcePosition)?[new kn(0)]:(l.sourcePosition.hasSameParentAs(i.targetPosition)&&(l.howMany+=i.howMany),l.sourcePosition.hasSameParentAs(i.sourcePosition)&&(l.howMany-=i.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMoveOperation(i),l.targetPosition=l.targetPosition._getTransformedByMoveOperation(i),l.graveyardPosition.isEqual(i.targetPosition)||(l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(i)),[l])}),ct(Jt,Tt,(l,i,o)=>{if(i.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByDeletion(i.graveyardPosition,1),l.deletionPosition.isEqual(i.graveyardPosition)&&(l.howMany=i.howMany)),l.targetPosition.isEqual(i.splitPosition)){const a=0!=i.howMany,d=i.graveyardPosition&&l.deletionPosition.isEqual(i.graveyardPosition);if(a||d||"mergeTargetNotMoved"==o.abRelation)return l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(i),[l]}if(l.sourcePosition.isEqual(i.splitPosition)){if("mergeSourceNotMoved"==o.abRelation)return l.howMany=0,l.targetPosition=l.targetPosition._getTransformedBySplitOperation(i),[l];if("mergeSameElement"==o.abRelation||l.sourcePosition.offset>0)return l.sourcePosition=i.moveTargetPosition.clone(),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(i),[l]}return l.sourcePosition.hasSameParentAs(i.splitPosition)&&(l.howMany=i.splitPosition.offset),l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(i),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(i),[l]}),ct(dt,Ct,(l,i)=>{const o=W._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByInsertOperation(i,!1)[0];return l.sourcePosition=o.start,l.howMany=o.end.offset-o.start.offset,l.targetPosition.isEqual(i.position)||(l.targetPosition=l.targetPosition._getTransformedByInsertOperation(i)),[l]}),ct(dt,dt,(l,i,o)=>{const a=W._createFromPositionAndShift(l.sourcePosition,l.howMany),d=W._createFromPositionAndShift(i.sourcePosition,i.howMany);let u,f=o.aIsStrong,g=!o.aIsStrong;if("insertBefore"==o.abRelation||"insertAfter"==o.baRelation?g=!0:"insertAfter"!=o.abRelation&&"insertBefore"!=o.baRelation||(g=!1),u=l.targetPosition.isEqual(i.targetPosition)&&g?l.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany):l.targetPosition._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),Mu(l,i)&&Mu(i,l))return[i.getReversed()];if(a.containsPosition(i.targetPosition)&&a.containsRange(d,!0))return a.start=a.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),a.end=a.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),is([a],u);if(d.containsPosition(l.targetPosition)&&d.containsRange(a,!0))return a.start=a.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),a.end=a.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),is([a],u);const b=Tn(l.sourcePosition.getParentPath(),i.sourcePosition.getParentPath());if("prefix"==b||"extension"==b)return a.start=a.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),a.end=a.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),is([a],u);"remove"!=l.type||"remove"==i.type||o.aWasUndone||o.forceWeakRemove?"remove"==l.type||"remove"!=i.type||o.bWasUndone||o.forceWeakRemove||(f=!1):f=!0;const _=[],C=a.getDifference(d);for(const D of C){D.start=D.start._getTransformedByDeletion(i.sourcePosition,i.howMany),D.end=D.end._getTransformedByDeletion(i.sourcePosition,i.howMany);const x="same"==Tn(D.start.getParentPath(),i.getMovedRangeStart().getParentPath()),T=D._getTransformedByInsertion(i.getMovedRangeStart(),i.howMany,x);_.push(...T)}const w=a.getIntersection(d);return null!==w&&f&&(w.start=w.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),w.end=w.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),0===_.length?_.push(w):1==_.length?d.start.isBefore(a.start)||d.start.isEqual(a.start)?_.unshift(w):_.push(w):_.splice(1,0,w)),0===_.length?[new kn(l.baseVersion)]:is(_,u)}),ct(dt,Tt,(l,i,o)=>{let a=l.targetPosition.clone();l.targetPosition.isEqual(i.insertionPosition)&&i.graveyardPosition&&"moveTargetAfter"!=o.abRelation||(a=l.targetPosition._getTransformedBySplitOperation(i));const d=W._createFromPositionAndShift(l.sourcePosition,l.howMany);if(d.end.isEqual(i.insertionPosition))return i.graveyardPosition||l.howMany++,l.targetPosition=a,[l];if(d.start.hasSameParentAs(i.splitPosition)&&d.containsPosition(i.splitPosition)){let f=new W(i.splitPosition,d.end);return f=f._getTransformedBySplitOperation(i),is([new W(d.start,i.splitPosition),f],a)}l.targetPosition.isEqual(i.splitPosition)&&"insertAtSource"==o.abRelation&&(a=i.moveTargetPosition),l.targetPosition.isEqual(i.insertionPosition)&&"insertBetween"==o.abRelation&&(a=l.targetPosition);const u=[d._getTransformedBySplitOperation(i)];if(i.graveyardPosition){const f=d.start.isEqual(i.graveyardPosition)||d.containsPosition(i.graveyardPosition);l.howMany>1&&f&&!o.aWasUndone&&u.push(W._createFromPositionAndShift(i.insertionPosition,1))}return is(u,a)}),ct(dt,Jt,(l,i,o)=>{const a=W._createFromPositionAndShift(l.sourcePosition,l.howMany);if(i.deletionPosition.hasSameParentAs(l.sourcePosition)&&a.containsPosition(i.sourcePosition))if("remove"!=l.type||o.forceWeakRemove){if(1==l.howMany)return o.bWasUndone?(l.sourcePosition=i.graveyardPosition.clone(),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(i),[l]):[new kn(0)]}else if(!o.aWasUndone){const u=[];let f=i.graveyardPosition.clone(),g=i.targetPosition._getTransformedByMergeOperation(i);l.howMany>1&&(u.push(new dt(l.sourcePosition,l.howMany-1,l.targetPosition,0)),f=f._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1),g=g._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1));const b=i.deletionPosition._getCombined(l.sourcePosition,l.targetPosition),_=new dt(f,1,b,0),C=_.getMovedRangeStart().path.slice();C.push(0);const w=new Z(_.targetPosition.root,C);g=g._getTransformedByMove(f,b,1);const D=new dt(g,i.howMany,w,0);return u.push(_),u.push(D),u}const d=W._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByMergeOperation(i);return l.sourcePosition=d.start,l.howMany=d.end.offset-d.start.offset,l.targetPosition=l.targetPosition._getTransformedByMergeOperation(i),[l]}),ct(Jn,Ct,(l,i)=>(l.position=l.position._getTransformedByInsertOperation(i),[l])),ct(Jn,Jt,(l,i)=>l.position.isEqual(i.deletionPosition)?(l.position=i.graveyardPosition.clone(),l.position.stickiness="toNext",[l]):(l.position=l.position._getTransformedByMergeOperation(i),[l])),ct(Jn,dt,(l,i)=>(l.position=l.position._getTransformedByMoveOperation(i),[l])),ct(Jn,Jn,(l,i,o)=>{if(l.position.isEqual(i.position)){if(!o.aIsStrong)return[new kn(0)];l.oldName=i.newName}return[l]}),ct(Jn,Tt,(l,i)=>{if("same"==Tn(l.position.path,i.splitPosition.getParentPath())&&!i.graveyardPosition){const o=new Jn(l.position.getShiftedBy(1),l.oldName,l.newName,0);return[l,o]}return l.position=l.position._getTransformedBySplitOperation(i),[l]}),ct(gr,gr,(l,i,o)=>{if(l.root===i.root&&l.key===i.key){if(!o.aIsStrong||l.newValue===i.newValue)return[new kn(0)];l.oldValue=i.newValue}return[l]}),ct(Tt,Ct,(l,i)=>(l.splitPosition.hasSameParentAs(i.position)&&l.splitPosition.offset<i.position.offset&&(l.howMany+=i.howMany),l.splitPosition=l.splitPosition._getTransformedByInsertOperation(i),l.insertionPosition=l.insertionPosition._getTransformedByInsertOperation(i),[l])),ct(Tt,Jt,(l,i,o)=>{if(!l.graveyardPosition&&!o.bWasUndone&&l.splitPosition.hasSameParentAs(i.sourcePosition)){const a=i.graveyardPosition.path.slice();a.push(0);const d=new Z(i.graveyardPosition.root,a),u=Tt.getInsertionPosition(new Z(i.graveyardPosition.root,a)),f=new Tt(d,0,u,null,0);return l.splitPosition=l.splitPosition._getTransformedByMergeOperation(i),l.insertionPosition=Tt.getInsertionPosition(l.splitPosition),l.graveyardPosition=f.insertionPosition.clone(),l.graveyardPosition.stickiness="toNext",[f,l]}return l.splitPosition.hasSameParentAs(i.deletionPosition)&&!l.splitPosition.isAfter(i.deletionPosition)&&l.howMany--,l.splitPosition.hasSameParentAs(i.targetPosition)&&(l.howMany+=i.howMany),l.splitPosition=l.splitPosition._getTransformedByMergeOperation(i),l.insertionPosition=Tt.getInsertionPosition(l.splitPosition),l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(i)),[l]}),ct(Tt,dt,(l,i,o)=>{const a=W._createFromPositionAndShift(i.sourcePosition,i.howMany);if(l.graveyardPosition){const u=a.start.isEqual(l.graveyardPosition)||a.containsPosition(l.graveyardPosition);if(!o.bWasUndone&&u){const f=l.splitPosition._getTransformedByMoveOperation(i),g=l.graveyardPosition._getTransformedByMoveOperation(i),b=g.path.slice();b.push(0);const _=new Z(g.root,b);return[new dt(f,l.howMany,_,0)]}l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(i)}const d=l.splitPosition.isEqual(i.targetPosition);if(d&&("insertAtSource"==o.baRelation||"splitBefore"==o.abRelation))return l.howMany+=i.howMany,l.splitPosition=l.splitPosition._getTransformedByDeletion(i.sourcePosition,i.howMany),l.insertionPosition=Tt.getInsertionPosition(l.splitPosition),[l];if(d&&o.abRelation&&o.abRelation.howMany){const{howMany:u,offset:f}=o.abRelation;return l.howMany+=u,l.splitPosition=l.splitPosition.getShiftedBy(f),[l]}return l.splitPosition.hasSameParentAs(i.sourcePosition)&&a.containsPosition(l.splitPosition)?(l.howMany-=i.howMany-(l.splitPosition.offset-i.sourcePosition.offset),l.splitPosition.hasSameParentAs(i.targetPosition)&&l.splitPosition.offset<i.targetPosition.offset&&(l.howMany+=i.howMany),l.splitPosition=i.sourcePosition.clone(),l.insertionPosition=Tt.getInsertionPosition(l.splitPosition),[l]):(i.sourcePosition.isEqual(i.targetPosition)||(l.splitPosition.hasSameParentAs(i.sourcePosition)&&l.splitPosition.offset<=i.sourcePosition.offset&&(l.howMany-=i.howMany),l.splitPosition.hasSameParentAs(i.targetPosition)&&l.splitPosition.offset<i.targetPosition.offset&&(l.howMany+=i.howMany)),l.splitPosition.stickiness="toNone",l.splitPosition=l.splitPosition._getTransformedByMoveOperation(i),l.splitPosition.stickiness="toNext",l.insertionPosition=l.graveyardPosition?l.insertionPosition._getTransformedByMoveOperation(i):Tt.getInsertionPosition(l.splitPosition),[l])}),ct(Tt,Tt,(l,i,o)=>{if(l.splitPosition.isEqual(i.splitPosition)){if(!l.graveyardPosition&&!i.graveyardPosition)return[new kn(0)];if(l.graveyardPosition&&i.graveyardPosition&&l.graveyardPosition.isEqual(i.graveyardPosition))return[new kn(0)];if("splitBefore"==o.abRelation)return l.howMany=0,l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(i),[l]}if(l.graveyardPosition&&i.graveyardPosition&&l.graveyardPosition.isEqual(i.graveyardPosition)){const a="$graveyard"==l.splitPosition.root.rootName,d="$graveyard"==i.splitPosition.root.rootName;if(d&&!a||(!a||d)&&o.aIsStrong){const f=[];return i.howMany&&f.push(new dt(i.moveTargetPosition,i.howMany,i.splitPosition,0)),l.howMany&&f.push(new dt(l.splitPosition,l.howMany,l.moveTargetPosition,0)),f}return[new kn(0)]}if(l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(i)),l.splitPosition.isEqual(i.insertionPosition)&&"splitBefore"==o.abRelation)return l.howMany++,[l];if(i.splitPosition.isEqual(l.insertionPosition)&&"splitBefore"==o.baRelation){const a=i.insertionPosition.path.slice();a.push(0);const d=new Z(i.insertionPosition.root,a);return[l,new dt(l.insertionPosition,1,d,0)]}return l.splitPosition.hasSameParentAs(i.splitPosition)&&l.splitPosition.offset<i.splitPosition.offset&&(l.howMany-=i.howMany),l.splitPosition=l.splitPosition._getTransformedBySplitOperation(i),l.insertionPosition=Tt.getInsertionPosition(l.splitPosition),[l]});class I4 extends ao{constructor(i){super(i),this.domEventType="click"}onDomEvent(i){this.fire(i.type,i)}}class z2 extends ao{constructor(i){super(i),this.domEventType=["mousedown","mouseup"]}onDomEvent(i){this.fire(i.type,i)}}class P4{constructor(i){this.document=i}createDocumentFragment(i){return new zi(this.document,i)}createElement(i,o,a){return new at(this.document,i,o,a)}createText(i){return new Je(this.document,i)}clone(i,o=!1){return i._clone(o)}appendChild(i,o){return o._appendChild(i)}insertChild(i,o,a){return a._insertChild(i,o)}removeChildren(i,o,a){return a._removeChildren(i,o)}remove(i){const o=i.parent;return o?this.removeChildren(o.getChildIndex(i),1,o):[]}replace(i,o){const a=i.parent;if(a){const d=a.getChildIndex(i);return this.removeChildren(d,1,a),this.insertChild(d,o,a),!0}return!1}unwrapElement(i){const o=i.parent;if(o){const a=o.getChildIndex(i);this.remove(i),this.insertChild(a,i.getChildren(),o)}}rename(i,o){const a=new at(this.document,i,o.getAttributes(),o.getChildren());return this.replace(o,a)?a:null}setAttribute(i,o,a){a._setAttribute(i,o)}removeAttribute(i,o){o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,a){we(i)&&void 0===a&&(a=o),a._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,a){a._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}createPositionAt(i,o){return ne._createAt(i,o)}createPositionAfter(i){return ne._createAfter(i)}createPositionBefore(i){return ne._createBefore(i)}createRange(i,o){return new _e(i,o)}createRangeOn(i){return _e._createOn(i)}createRangeIn(i){return _e._createIn(i)}createSelection(i,o,a){return new Ii(i,o,a)}}const Dp=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;const Eu=/^[+-]?[0-9]*([.][0-9]+)?%$/;class xp extends nu{constructor(i,o){super(i),this.view=o,this._toolbarConfig=S1(i.config.get("toolbar")),this._elementReplacer=new ze}get element(){return this.view.element}init(i){const a=this.view,d=this.editor.editing.view,u=a.editable,f=d.document.getRoot();u.name=f.rootName,a.render();const g=u.element;this.setEditableElement(u.name,g),this.focusTracker.add(g),a.editable.bind("isFocused").to(this.focusTracker),d.attachDomRoot(g),i&&this._elementReplacer.replace(i,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const i=this.view,o=this.editor.editing.view;this._elementReplacer.restore(),o.detachDomRoot(i.editable.name),i.destroy(),super.destroy()}_initToolbar(){const i=this.editor,o=this.view,a=i.editing.view;o.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),o.stickyPanel.limiterElement=o.element,this._toolbarConfig.viewportTopOffset&&(o.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),o.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),function({origin:d,originKeystrokeHandler:u,originFocusTracker:f,toolbar:g,beforeFocus:b,afterBlur:_}){f.add(g.element),u.set("Alt+F10",(C,w)=>{f.isFocused&&!g.focusTracker.isFocused&&(b&&b(),g.focus(),w())}),g.keystrokes.set("Esc",(C,w)=>{g.focusTracker.isFocused&&(d.focus(),_&&_(),w())})}({origin:a,originFocusTracker:this.focusTracker,originKeystrokeHandler:i.keystrokes,toolbar:o.toolbar})}_initPlaceholder(){const i=this.editor,o=i.editing.view,a=o.document.getRoot(),d=i.sourceElement,u=i.config.get("placeholder")||d&&"textarea"===d.tagName.toLowerCase()&&d.getAttribute("placeholder");u&&function(f){const{view:g,element:b,text:_,isDirectHost:C=!0,keepOnFocus:w=!1}=f,D=g.document;I2.has(D)||(I2.set(D,new Map),D.registerPostFixer(x=>kp(D,x))),I2.get(D).set(b,{text:_,isDirectHost:C,keepOnFocus:w,hostElement:C?b:null}),g.change(x=>kp(D,x))}({view:o,element:a,text:u,isDirectHost:!1,keepOnFocus:!0})}}var O2=E(35);Ze()(O2.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Su extends pp{constructor(i,o,a={}){super(i),this.stickyPanel=new wb(i),this.toolbar=new _4(i,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new gp(i,o)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class z4 extends i4{constructor(i,o){super(o),ve(i)&&(this.sourceElement=i),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),d=new Su(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a});this.ui=new xp(this,d),function(u){if(!To(u.updateSourceElement))throw new S.a("attachtoform-missing-elementapi-interface",u);const f=u.sourceElement;if(f&&"textarea"===f.tagName.toLowerCase()&&f.form){let g;const b=f.form,_=()=>u.updateSourceElement();To(b.submit)&&(g=b.submit,b.submit=()=>{_(),g.apply(b)}),b.addEventListener("submit",_),u.on("destroy",()=>{b.removeEventListener("submit",_),g&&(b.submit=g)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(i,o={}){return new Promise(a=>{const d=new this(i,o);a(d.initPlugins().then(()=>d.ui.init(ve(i)?i:null)).then(()=>{if(!ve(i)&&o.initialData)throw new S.a("editor-create-initial-data",null);const u=void 0!==o.initialData?o.initialData:ve(f=i)?(g=f)instanceof HTMLTextAreaElement?g.value:g.innerHTML:f;var f,g;return d.data.init(u)}).then(()=>d.fire("ready")).then(()=>d))})}}Ee(z4,o4),Ee(z4,Wf);const O4=["left","right","center","justify"];function ia(l){return O4.includes(l)}function rs(l,i){return"rtl"==i.contentLanguageDirection?"right"===l:"left"===l}function L2(l){const i=l.map(a=>{let d;return d="string"==typeof a?{name:a}:a,d}).filter(a=>{const d=!!O4.includes(a.name);return d||Object(S.b)("alignment-config-name-not-recognized",{option:a}),d}),o=i.filter(a=>!!a.className).length;if(o&&o<i.length)throw new S.a("alignment-config-classnames-are-missing",{configuredOptions:l});return i.forEach((a,d,u)=>{const f=u.slice(d+1);if(f.some(g=>g.name==a.name))throw new S.a("alignment-config-name-already-defined",{option:a,configuredOptions:l});if(a.className&&f.some(g=>g.className==a.className))throw new S.a("alignment-config-classname-already-defined",{option:a,configuredOptions:l})}),i}const po="alignment";class I1 extends zt{refresh(){const i=this.editor.locale,o=pn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!o&&this._canBeAligned(o),this.value=this.isEnabled&&o.hasAttribute("alignment")?o.getAttribute("alignment"):"rtl"===i.contentLanguageDirection?"right":"left"}execute(i={}){const o=this.editor,a=o.locale,d=o.model,u=d.document,f=i.value;d.change(g=>{const b=Array.from(u.selection.getSelectedBlocks()).filter(C=>this._canBeAligned(C)),_=b[0].getAttribute("alignment");rs(f,a)||_===f||!f?function(C,w){for(const D of C)w.removeAttribute(po,D)}(b,g):function(C,w,D){for(const x of C)w.setAttribute(po,D,x)}(b,g,f)})}_canBeAligned(i){return this.editor.model.schema.checkAttribute(i,po)}}class ra extends le{static get pluginName(){return"AlignmentEditing"}constructor(i){super(i),i.config.define("alignment",{options:[...O4.map(o=>({name:o}))]})}init(){const i=this.editor,o=i.locale,a=i.model.schema,d=L2(i.config.get("alignment.options")).filter(b=>ia(b.name)&&!rs(b.name,o)),u=d.some(b=>!!b.className);a.extend("$block",{allowAttributes:"alignment"}),i.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),u?i.conversion.attributeToAttribute(function(b){const _={model:{key:"alignment",values:b.map(C=>C.name)},view:{}};for(const C of b)_.view[C.name]={key:"class",value:C.className};return _}(d)):i.conversion.for("downcast").attributeToAttribute(function(b){const _={model:{key:"alignment",values:b.map(C=>C.name)},view:{}};for(const{name:C}of b)_.view[C]={key:"style",value:{"text-align":C}};return _}(d));const f=function(b){const _=[];for(const{name:C}of b)_.push({view:{key:"style",value:{"text-align":C}},model:{key:"alignment",value:C}});return _}(d);for(const b of f)i.conversion.for("upcast").attributeToAttribute(b);const g=function(b){const _=[];for(const{name:C}of b)_.push({view:{key:"align",value:C},model:{key:"alignment",value:C}});return _}(d);for(const b of g)i.conversion.for("upcast").attributeToAttribute(b);i.commands.add("alignment",new I1(i))}}const L4=new Map([["left",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'],["right",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>'],["center",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'],["justify",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>']]);class Nu extends le{get localizedOptionTitles(){const i=this.editor.t;return{left:i("Align left"),right:i("Align right"),center:i("Align center"),justify:i("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const i=this.editor,o=i.ui.componentFactory,a=i.t,d=L2(i.config.get("alignment.options"));d.map(u=>u.name).filter(ia).forEach(u=>this._addButton(u)),o.add("alignment",u=>{const f=ns(u),g=d.map(_=>o.create(`alignment:${_.name}`));D4(f,g),f.buttonView.set({label:a("Text alignment"),tooltip:!0}),f.toolbarView.isVertical=!0,f.toolbarView.ariaLabel=a("Text alignment toolbar"),f.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const b=L4.get("rtl"===u.contentLanguageDirection?"right":"left");return f.buttonView.bind("icon").toMany(g,"isOn",(..._)=>{const C=_.findIndex(w=>w);return C<0?b:g[C].icon}),f.bind("isEnabled").toMany(g,"isEnabled",(..._)=>_.some(C=>C)),f})}_addButton(i){const o=this.editor;o.ui.componentFactory.add(`alignment:${i}`,a=>{const d=o.commands.get("alignment"),u=new $t(a);return u.set({label:this.localizedOptionTitles[i],icon:L4.get(i),tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(d),u.bind("isOn").to(d,"value",f=>f===i),this.listenTo(u,"execute",()=>{o.execute("alignment",{value:i}),o.editing.view.focus()}),u})}}function Hr(l,i,o,a){let d,u=null;"function"==typeof a?d=a:(u=l.commands.get(a),d=()=>{l.execute(a)}),l.model.document.on("change:data",(f,g)=>{if(u&&!u.isEnabled||!i.isEnabled)return;const b=pn(l.model.document.selection.getRanges());if(!b.isCollapsed||"transparent"==g.type)return;const _=Array.from(l.model.document.differ.getChanges()),C=_[0];if(1!=_.length||"insert"!==C.type||"$text"!=C.name||1!=C.length)return;const w=C.position.parent;if(w.is("element","codeBlock")||w.is("element","listItem")&&"function"!=typeof a&&!["numberedList","bulletedList","todoList"].includes(a)||u&&!0===u.value)return;const D=w.getChild(0),x=l.model.createRangeOn(D);if(!x.containsRange(b)&&!b.end.isEqual(x.end))return;const T=o.exec(D.data.substr(0,b.end.offset));T&&l.model.enqueueChange(R=>{const L=R.createPositionAt(w,0),$=R.createPositionAt(w,T[0].length),Y=new zr(L,$);if(!1!==d({match:T})){R.remove(Y);const te=l.model.document.selection.getFirstRange(),He=R.createRangeIn(w);!w.isEmpty||He.isEqual(te)||He.containsRange(te,!0)||R.remove(w)}Y.detach()})})}function go(l,i,o,a){let d,u;o instanceof RegExp?d=o:u=o,u=u||(f=>{let g;const b=[],_=[];for(;null!==(g=d.exec(f))&&!(g&&g.length<4);){let{index:C,1:w,2:D,3:x}=g;C+=g[0].length-(w+D+x).length;const L=[C+w.length+D.length,C+w.length+D.length+x.length];b.push([C,C+w.length]),b.push(L),_.push([C+w.length,C+w.length+D.length])}return{remove:b,format:_}}),l.model.document.on("change:data",(f,g)=>{if("transparent"==g.type||!i.isEnabled)return;const b=l.model,_=b.document.selection;if(!_.isCollapsed)return;const C=Array.from(b.document.differ.getChanges()),w=C[0];if(1!=C.length||"insert"!==w.type||"$text"!=w.name||1!=w.length)return;const D=_.focus,x=D.parent,{text:T,range:R}=function(te,He){let ni=te.start;return{text:Array.from(te.getItems()).reduce((Br,_r)=>!_r.is("$text")&&!_r.is("$textProxy")||_r.getAttribute("code")?(ni=He.createPositionAfter(_r),""):Br+_r.data,""),range:He.createRange(ni,te.end)}}(b.createRange(b.createPositionAt(x,0),D),b),L=u(T),$=R2(R.start,L.format,b),Y=R2(R.start,L.remove,b);$.length&&Y.length&&b.enqueueChange(te=>{if(!1!==a(te,$))for(const He of Y.reverse())te.remove(He)})})}function R2(l,i,o){return i.filter(a=>void 0!==a[0]&&void 0!==a[1]).map(a=>o.createRange(l.getShiftedBy(a[0]),l.getShiftedBy(a[1])))}function P1(l,i){return(o,a)=>{if(!l.commands.get(i).isEnabled)return!1;const d=l.model.schema.getValidRanges(a,i);for(const u of d)o.setAttribute(i,!0,u);o.removeSelectionAttribute(i)}}function*z1(l,i){for(const o of i)o&&l.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}class Ep extends zt{execute(){const i=this.editor.model,o=i.document;i.change(a=>{(function(d,u,f,g){const b=f.isCollapsed,_=f.getFirstRange(),C=_.start.parent,w=_.end.parent;if(g.isLimit(C)||g.isLimit(w))b||C!=w||d.deleteContent(f);else if(b){const D=z1(u.model.schema,f.getAttributes());R4(u,_.start),u.setSelectionAttribute(D)}else{const D=!(_.start.isAtStart&&_.end.isAtEnd),x=C==w;d.deleteContent(f,{leaveUnmerged:D}),D&&(x?R4(u,f.focus):u.setSelection(w,0))}})(this.editor.model,a,o.selection,i.schema),this.fire("afterExecute",{writer:a})})}}function R4(l,i){l.split(i),l.setSelection(i.parent.nextSibling,0)}class Sp extends Tr{constructor(i){super(i);const o=this.document;o.on("keydown",(a,d)=>{if(this.isEnabled&&d.keyCode==Le.enter){const u=new Hc(o,"enter",o.selection.getFirstRange());o.fire(u,new n2(o,d.domEvent,{isSoft:d.shiftKey})),u.stop.called&&a.stop()}})}observe(){}}class O1 extends le{static get pluginName(){return"Enter"}init(){const i=this.editor,o=i.editing.view,a=o.document;o.addObserver(Sp),i.commands.add("enter",new Ep(i)),this.listenTo(a,"enter",(d,u)=>{u.preventDefault(),u.isSoft||(i.execute("enter"),o.scrollToTheSelection())},{priority:"low"})}}class Tu extends zt{execute(){const i=this.editor.model,o=i.document;i.change(a=>{(function(d,u,f){const g=f.isCollapsed,b=f.getFirstRange(),C=b.end.parent,w=b.start.parent==C;if(g){const D=z1(d.schema,f.getAttributes());Iu(d,u,b.end),u.removeSelectionAttribute(f.getAttributeKeys()),u.setSelectionAttribute(D)}else{const D=!(b.start.isAtStart&&b.end.isAtEnd);d.deleteContent(f,{leaveUnmerged:D}),w?Iu(d,u,f.focus):D&&u.setSelection(C,0)}})(i,a,o.selection),this.fire("afterExecute",{writer:a})})}refresh(){const i=this.editor.model;this.isEnabled=function(a,d){if(d.rangeCount>1)return!1;const u=d.anchor;if(!u||!a.checkChild(u,"softBreak"))return!1;const f=d.getFirstRange(),g=f.start.parent,b=f.end.parent;return!((V2(g,a)||V2(b,a))&&g!==b)}(i.schema,i.document.selection)}}function Iu(l,i,o){const a=i.createElement("softBreak");l.insertContent(a,o),i.setSelection(a,"after")}function V2(l,i){return!l.is("rootElement")&&(i.isLimit(l)||V2(l.parent,i))}class Pu extends le{static get pluginName(){return"ShiftEnter"}init(){const i=this.editor,a=i.conversion,d=i.editing.view,u=d.document;i.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(f,{writer:g})=>g.createEmptyElement("br")}),d.addObserver(Sp),i.commands.add("shiftEnter",new Tu(i)),this.listenTo(u,"enter",(f,g)=>{g.preventDefault(),g.isSoft&&(i.execute("shiftEnter"),d.scrollToTheSelection())},{priority:"low"})}}class zu{constructor(i,o=20){this.model=i,this.size=0,this.limit=o,this.isLocked=!1,this._changeCallback=(a,d)=>{"transparent"!=d.type&&d!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(i){this.size+=i,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(i){this.isLocked&&!i||(this._batch=null,this.size=0)}}class wi extends zt{constructor(i,o){super(i),this._buffer=new zu(i.model,o),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(i={}){const o=this.editor.model,a=o.document,d=i.text||"",u=d.length,f=i.range?o.createSelection(i.range):a.selection,g=i.resultRange;o.enqueueChange(this._buffer.batch,b=>{this._buffer.lock(),this._batches.add(this._buffer.batch),o.deleteContent(f),d&&o.insertContent(b.createText(d,a.selection.getAttributes()),f),g?b.setSelection(g):f.is("documentSelection")||b.setSelection(f),this._buffer.unlock(),this._buffer.input(u)})}}const Ou=[Pi("arrowUp"),Pi("arrowRight"),Pi("arrowDown"),Pi("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let l=112;l<=135;l++)Ou.push(l);function Lu(l){return!(!l.ctrlKey&&!l.metaKey)||Ou.includes(l.keyCode)}function Np(l){if(l.newChildren.length-l.oldChildren.length!=1)return;const i=function(a,d){const u=[];let f,g=0;return a.forEach(C=>{"equal"==C?(b(),g++):"insert"==C?(_("insert")?f.values.push(d[g]):(b(),f={type:"insert",index:g,values:[d[g]]}),g++):_("delete")?f.howMany++:(b(),f={type:"delete",index:g,howMany:1})}),b(),u;function b(){f&&(u.push(f),f=null)}function _(C){return f&&f.type==C}}(oo(l.oldChildren,l.newChildren,Eb),l.newChildren);if(i.length>1)return;const o=i[0];return o.values[0]&&o.values[0].is("$text")?o:void 0}function Eb(l,i){return l&&l.is("$text")&&i&&i.is("$text")?l.data===i.data:l===i}class Ru{constructor(i){this.editor=i,this.editing=this.editor.editing}handle(i,o){if(function(a){if(0==a.length)return!1;for(const d of a)if("children"===d.type&&!Np(d))return!0;return!1}(i))this._handleContainerChildrenMutations(i,o);else for(const a of i)this._handleTextMutation(a,o),this._handleTextNodeInsertion(a)}_handleContainerChildrenMutations(i,o){const a=function(Cr){const K1=Cr.map(Hi=>Hi.node).reduce((Hi,b6)=>Hi.getCommonAncestor(b6,{includeSelf:!0}));if(K1)return K1.getAncestors({includeSelf:!0,parentFirst:!0}).find(Hi=>Hi.is("containerElement")||Hi.is("rootElement"))}(i);if(!a)return;const d=this.editor.editing.view.domConverter.mapViewToDom(a),u=new S0(this.editor.editing.view.document),f=this.editor.data.toModel(u.domToView(d)).getChild(0),g=this.editor.editing.mapper.toModelElement(a);if(!g)return;const b=Array.from(f.getChildren()),_=Array.from(g.getChildren()),C=b[b.length-1],w=_[_.length-1],D=C&&C.is("element","softBreak"),x=w&&!w.is("element","softBreak");D&&x&&b.pop();const T=this.editor.model.schema;if(!Tp(b,T)||!Tp(_,T))return;const R=b.map(Cr=>Cr.is("$text")?Cr.data:"@").join("").replace(/\u00A0/g," "),L=_.map(Cr=>Cr.is("$text")?Cr.data:"@").join("").replace(/\u00A0/g," ");if(L===R)return;const $=oo(L,R),{firstChangeAt:Y,insertions:te,deletions:He}=Vu($);let ni=null;o&&(ni=this.editing.mapper.toModelRange(o.getFirstRange()));const Br=R.substr(Y,te),_r=this.editor.model.createRange(this.editor.model.createPositionAt(g,Y),this.editor.model.createPositionAt(g,Y+He));this.editor.execute("input",{text:Br,range:_r,resultRange:ni})}_handleTextMutation(i,o){if("text"!=i.type)return;const a=i.newText.replace(/\u00A0/g," "),d=i.oldText.replace(/\u00A0/g," ");if(d===a)return;const u=oo(d,a),{firstChangeAt:f,insertions:g,deletions:b}=Vu(u);let _=null;o&&(_=this.editing.mapper.toModelRange(o.getFirstRange()));const C=this.editing.view.createPositionAt(i.node,f),w=this.editing.mapper.toModelPosition(C),D=this.editor.model.createRange(w,w.getShiftedBy(b)),x=a.substr(f,g);this.editor.execute("input",{text:x,range:D,resultRange:_})}_handleTextNodeInsertion(i){if("children"!=i.type)return;const o=Np(i),a=this.editing.view.createPositionAt(i.node,o.index),d=this.editing.mapper.toModelPosition(a);this.editor.execute("input",{text:o.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(d)})}}function Tp(l,i){return l.every(o=>i.isInline(o))}function Vu(l){let i=null,o=null;for(let u=0;u<l.length;u++)"equal"!=l[u]&&(i=null===i?u:i,o=u);let a=0,d=0;for(let u=i;u<=o;u++)"insert"!=l[u]&&a++,"delete"!=l[u]&&d++;return{insertions:d,deletions:a,firstChangeAt:i}}class F2 extends le{static get pluginName(){return"Input"}init(){const i=this.editor,o=new wi(i,i.config.get("typing.undoStep")||20);var a;i.commands.add("input",o),function(a){let d=null;const u=a.model,f=a.editing.view,g=a.commands.get("input");function _(){const C=g.buffer;C.lock();const w=C.batch;g._batches.add(w),u.enqueueChange(w,()=>{u.deleteContent(u.document.selection)}),C.unlock()}f.document.on(Ge_isAndroid?"beforeinput":"keydown",(C,w)=>function(C){const w=u.document,D=f.document.isComposing,x=d&&d.isEqual(w.selection);d=null,g.isEnabled&&(Lu(C)||w.selection.isCollapsed||D&&229===C.keyCode||!D&&229===C.keyCode&&x||_())}(w),{priority:"lowest"}),f.document.on("compositionstart",function(){const C=u.document,w=1!==C.selection.rangeCount||C.selection.getFirstRange().isFlat;C.selection.isCollapsed||w||_()},{priority:"lowest"}),f.document.on("compositionend",()=>{d=u.createSelection(u.document.selection)},{priority:"lowest"})}(i),(a=i).editing.view.document.on("mutations",(d,u,f)=>{new Ru(a).handle(u,f)})}isInput(i){return this.editor.commands.get("input")._batches.has(i)}}class V4 extends zt{constructor(i,o){super(i),this.direction=o,this._buffer=new zu(i.model,i.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(i={}){const o=this.editor.model,a=o.document;o.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const u=d.createSelection(i.selection||a.selection),f=i.sequence||1,g=u.isCollapsed;if(u.isCollapsed&&o.modifySelection(u,{direction:this.direction,unit:i.unit}),this._shouldEntireContentBeReplacedWithParagraph(f))return void this._replaceEntireContentWithParagraph(d);if(this._shouldReplaceFirstBlockWithParagraph(u,f))return void this.editor.execute("paragraph",{selection:u});if(u.isCollapsed)return;let b=0;u.getFirstRange().getMinimalFlatRanges().forEach(_=>{b+=$n(_.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(u,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(b),d.setSelection(u),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(i){if(i>1)return!1;const o=this.editor.model,a=o.document.selection,d=o.schema.getLimitElement(a);if(!a.isCollapsed||!a.containsEntireContent(d)||!o.schema.checkChild(d,"paragraph"))return!1;const u=d.getChild(0);return!u||"paragraph"!==u.name}_replaceEntireContentWithParagraph(i){const o=this.editor.model,d=o.schema.getLimitElement(o.document.selection),u=i.createElement("paragraph");i.remove(i.createRangeIn(d)),i.insert(u,d),i.setSelection(u,0)}_shouldReplaceFirstBlockWithParagraph(i,o){const a=this.editor.model;if(o>1||"backward"!=this.direction||!i.isCollapsed)return!1;const d=i.getFirstPosition(),u=a.schema.getLimitElement(d),f=u.getChild(0);return d.parent==f&&!!i.containsEntireContent(f)&&!!a.schema.checkChild(u,"paragraph")&&"paragraph"!=f.name}}class Ip extends Tr{constructor(i){super(i);const o=i.document;let a=0;function d(u,f,g){const b=new Hc(o,"delete",o.selection.getFirstRange());o.fire(b,new n2(o,f,g)),b.stop.called&&u.stop()}o.on("keyup",(u,f)=>{f.keyCode!=Le.delete&&f.keyCode!=Le.backspace||(a=0)}),o.on("keydown",(u,f)=>{const g={};if(f.keyCode==Le.delete)g.direction="forward",g.unit="character";else{if(f.keyCode!=Le.backspace)return;g.direction="backward",g.unit="codePoint"}g.unit=(Ge_isMac?f.altKey:f.ctrlKey)?"word":g.unit,g.sequence=++a,d(u,f.domEvent,g)}),Ge_isAndroid&&o.on("beforeinput",(u,f)=>{if("deleteContentBackward"!=f.domEvent.inputType)return;const g={unit:"codepoint",direction:"backward",sequence:1},b=f.domTarget.ownerDocument.defaultView.getSelection();b.anchorNode==b.focusNode&&b.anchorOffset+1!=b.focusOffset&&(g.selectionToRemove=i.domConverter.domSelectionToView(b)),d(u,f.domEvent,g)})}observe(){}}class L1 extends le{static get pluginName(){return"Delete"}init(){const i=this.editor,o=i.editing.view,a=o.document;o.addObserver(Ip);const d=new V4(i,"forward");if(i.commands.add("deleteForward",d),i.commands.add("forwardDelete",d),i.commands.add("delete",new V4(i,"backward")),this.listenTo(a,"delete",(u,f)=>{const g={unit:f.unit,sequence:f.sequence};if(f.selectionToRemove){const b=i.model.createSelection(),_=[];for(const C of f.selectionToRemove.getRanges())_.push(i.editing.mapper.toModelRange(C));b.setTo(_),g.selection=b}i.execute("forward"==f.direction?"deleteForward":"delete",g),f.preventDefault(),o.scrollToTheSelection()},{priority:"low"}),Ge_isAndroid){let u=null;this.listenTo(a,"delete",(f,g)=>{const b=g.domTarget.ownerDocument.defaultView.getSelection();u={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}},{priority:"lowest"}),this.listenTo(a,"keyup",(f,g)=>{if(u){const b=g.domTarget.ownerDocument.defaultView.getSelection();b.collapse(u.anchorNode,u.anchorOffset),b.extend(u.focusNode,u.focusOffset),u=null}})}}}class Pp extends le{static get requires(){return[F2,L1]}static get pluginName(){return"Typing"}}function F4(l,i){let o=l.start;return{text:Array.from(l.getItems()).reduce((a,d)=>d.is("$text")||d.is("$textProxy")?a+d.data:(o=i.createPositionAfter(d),""),""),range:i.createRange(o,l.end)}}class H4{constructor(i,o){this.model=i,this.testCallback=o,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(i.document.selection),this.stopListening(i.document))}),this._startListening()}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",(o,{directChange:a})=>{a&&(i.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(i,"change:data",(o,a)=>{"transparent"!=a.type&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(i,o={}){const a=this.model,d=a.document.selection,u=a.createRange(a.createPositionAt(d.focus.parent,0),d.focus),{text:f,range:g}=F4(u,a),b=this.testCallback(f);if(!b&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!b,b){const _=Object.assign(o,{text:f,range:g});"object"==typeof b&&Object.assign(_,b),this.fire(`matched:${i}`,_)}}}Ee(H4,ln);class B4 extends le{static get pluginName(){return"TwoStepCaretMovement"}constructor(i){super(i),this.attributes=new Set,this._overrideUid=null}init(){const i=this.editor,d=i.locale,u=i.model.document.selection;this.listenTo(i.editing.view.document,"arrowKey",(f,g)=>{if(!u.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const b=g.keyCode==Le.arrowright,_=g.keyCode==Le.arrowleft;if(!b&&!_)return;const C=d.contentLanguageDirection;let w=!1;w="ltr"===C&&b||"rtl"===C&&_?this._handleForwardMovement(g):this._handleBackwardMovement(g),!0===w&&f.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(u,"change:range",(f,g)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!g.directChange&&V1(u.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(i){this.attributes.add(i)}_handleForwardMovement(i){const o=this.attributes,a=this.editor.model.document.selection,d=a.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!j4(a,o))&&(V1(d,o)?(R1(i),this._overrideGravity(),!0):void 0)}_handleBackwardMovement(i){const o=this.attributes,a=this.editor.model,d=a.document.selection,u=d.getFirstPosition();return this._isGravityOverridden?(R1(i),this._restoreGravity(),G4(a,o,u),!0):u.isAtStart?!!j4(d,o)&&(R1(i),G4(a,o,u),!0):(g=o,V1(u.getShiftedBy(-1),g)?u.isAtEnd&&!j4(d,o)&&V1(u,o)?(R1(i),G4(a,o,u),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0);var g}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(i=>i.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(i=>{i.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function j4(l,i){for(const o of i)if(l.hasAttribute(o))return!0;return!1}function G4(l,i,o){const a=o.nodeBefore;l.change(d=>{a?d.setSelectionAttribute(a.getAttributes()):d.removeSelectionAttribute(i)})}function R1(l){l.preventDefault()}function V1(l,i){const{nodeBefore:o,nodeAfter:a}=l;for(const d of i){const u=o?o.getAttribute(d):void 0;if((a?a.getAttribute(d):void 0)!==u)return!0}return!1}var Fu=/[\\^$.*+?()[\]{}|]/g,mr=RegExp(Fu.source);const zp={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xbd"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xbc"},threeQuarters:{from:"3/4",to:"\xbe"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:oa('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:oa("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:oa("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:oa('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:oa('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:oa("'"),to:[null,"\u201a",null,"\u2019"]}},Hu={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Sb=["symbols","mathematical","typography","quotes"];function Bu(l){return"string"==typeof l?new RegExp(`(${function(l){return(l=id(l))&&mr.test(l)?l.replace(Fu,"\\$&"):l}(l)})$`):l}function Op(l){return"string"==typeof l?()=>[l]:l instanceof Array?()=>l:l}function Lp(l){return(l.textNode?l.textNode:l.nodeAfter).getAttributes()}function oa(l){return new RegExp(`(^|\\s)(${l})([^${l}]*)(${l})$`)}function mo(l,i,o,a){return a.createRange(ju(l,i,o,!0,a),ju(l,i,o,!1,a))}function ju(l,i,o,a,d){let u=l.textNode||(a?l.nodeBefore:l.nodeAfter),f=null;for(;u&&u.getAttribute(i)==o;)f=u,u=a?u.previousSibling:u.nextSibling;return f?d.createPositionAt(f,a?"before":"after"):l}class Rp extends zt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor.model,a=o.schema,u=Array.from(o.document.selection.getSelectedBlocks()),f=void 0===i.forceValue?!this.value:i.forceValue;o.change(g=>{if(f){const b=u.filter(_=>os(_)||Gu(a,_));this._applyQuote(g,b)}else this._removeQuote(g,u.filter(os))})}_getValue(){const i=pn(this.editor.model.document.selection.getSelectedBlocks());return!(!i||!os(i))}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,a=pn(this.editor.model.document.selection.getSelectedBlocks());return!!a&&Gu(o,a)}_removeQuote(i,o){H2(i,o).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void i.unwrap(a.start.parent);if(a.start.isAtStart){const u=i.createPositionBefore(a.start.parent);return void i.move(a,u)}a.end.isAtEnd||i.split(a.end);const d=i.createPositionAfter(a.end.parent);i.move(a,d)})}_applyQuote(i,o){const a=[];H2(i,o).reverse().forEach(d=>{let u=os(d.start);u||(u=i.createElement("blockQuote"),i.wrap(d,u)),a.push(u)}),a.reverse().reduce((d,u)=>d.nextSibling==u?(i.merge(i.createPositionAfter(d)),d):u)}}function os(l){return"blockQuote"==l.parent.name?l.parent:null}function H2(l,i){let o,a=0;const d=[];for(;a<i.length;){const u=i[a],f=i[a+1];o||(o=l.createPositionBefore(u)),f&&u.nextSibling==f||(d.push(l.createRange(o,l.createPositionAfter(u))),o=null),a++}return d}function Gu(l,i){const o=l.checkChild(i.parent,"blockQuote"),a=l.checkChild(["$root","blockQuote"],i);return o&&a}class $4 extends le{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[O1,L1]}init(){const i=this.editor,o=i.model.schema;i.commands.add("blockQuote",new Rp(i)),o.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),i.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),i.model.document.registerPostFixer(f=>{const g=i.model.document.differ.getChanges();for(const b of g)if("insert"==b.type){const _=b.position.nodeAfter;if(!_)continue;if(_.is("element","blockQuote")&&_.isEmpty)return f.remove(_),!0;if(_.is("element","blockQuote")&&!o.checkChild(b.position,_))return f.unwrap(_),!0;if(_.is("element")){const C=f.createRangeIn(_);for(const w of C.getItems())if(w.is("element","blockQuote")&&!o.checkChild(f.createPositionBefore(w),w))return f.unwrap(w),!0}}else if("remove"==b.type){const _=b.position.parent;if(_.is("element","blockQuote")&&_.isEmpty)return f.remove(_),!0}return!1});const a=this.editor.editing.view.document,d=i.model.document.selection,u=i.commands.get("blockQuote");this.listenTo(a,"enter",(f,g)=>{!d.isCollapsed||!u.value||d.getLastPosition().parent.isEmpty&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(f,g)=>{if("backward"!=g.direction||!d.isCollapsed||!u.value)return;const b=d.getLastPosition().parent;b.isEmpty&&!b.previousSibling&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),g.preventDefault(),f.stop())},{context:"blockquote"})}}var B2=E(36);Ze()(B2.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Vp extends le{static get pluginName(){return"BlockQuoteUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("blockQuote",a=>{const d=i.commands.get("blockQuote"),u=new $t(a);return u.set({label:o("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(u,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),u})}}class j2 extends zt{constructor(i,o){super(i),this.attributeKey=o}refresh(){const i=this.editor.model,o=i.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=i.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(i={}){const o=this.editor.model,a=o.document.selection,d=void 0===i.forceValue?!this.value:i.forceValue;o.change(u=>{if(a.isCollapsed)d?u.setSelectionAttribute(this.attributeKey,!0):u.removeSelectionAttribute(this.attributeKey);else{const f=o.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const g of f)d?u.setAttribute(this.attributeKey,d,g):u.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const i=this.editor.model,o=i.schema,a=i.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const d of a.getRanges())for(const u of d.getItems())if(o.checkAttribute(u,this.attributeKey))return u.hasAttribute(this.attributeKey);return!1}}const bo="bold";class Nb extends le{static get pluginName(){return"BoldEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:bo}),i.model.schema.setAttributeProperties(bo,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:bo,view:"strong",upcastAlso:["b",o=>{const a=o.getStyle("font-weight");return a?"bold"==a||Number(a)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),i.commands.add(bo,new j2(i,bo)),i.keystrokes.set("CTRL+B",bo)}}const W4="bold";class $u extends le{static get pluginName(){return"BoldUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add(W4,a=>{const d=i.commands.get(W4),u=new $t(a);return u.set({label:o("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(u,"execute",()=>{i.execute(W4),i.editing.view.focus()}),u})}}function G2(l){const i=l.t,o=l.config.get("codeBlock.languages");for(const a of o)"Plain text"===a.label&&(a.label=i("Plain text")),void 0===a.class&&(a.class=`language-${a.language}`);return o}function U2(l,i,o){const a={};for(const d of l)"class"===i?a[d[i].split(" ").shift()]=d[o]:a[d[i]]=d[o];return a}function $2(l){return l.data.match(/^(\s*)/)[0]}function W2(l){const i=l.document.selection,o=[];if(i.isCollapsed)o.push(i.anchor);else{const a=i.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:d}of a)if(d.is("$textProxy")&&d.parent.is("element","codeBlock")){const u=$2(d.textNode),{parent:f,startOffset:g}=d.textNode,b=l.createPositionAt(f,g+u.length);o.push(b)}}return o}function br(l){const i=pn(l.getSelectedBlocks());return i&&i.is("element","codeBlock")}class q2 extends zt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor,a=o.model,d=a.document.selection,u=G2(o)[0],f=Array.from(d.getSelectedBlocks()),g=void 0===i.forceValue?!this.value:i.forceValue,b=i.language||u.language;a.change(_=>{g?this._applyCodeBlock(_,f,b):this._removeCodeBlock(_,f)})}_getValue(){const i=pn(this.editor.model.document.selection.getSelectedBlocks());return!(!i||!i.is("element","codeBlock"))&&i.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,a=pn(this.editor.model.document.selection.getSelectedBlocks());return!!a&&Wu(o,a)}_applyCodeBlock(i,o,a){const d=this.editor.model.schema,u=o.filter(f=>Wu(d,f));for(const f of u)i.rename(f,"codeBlock"),i.setAttribute("language",a,f),d.removeDisallowedAttributes([f],i);u.reverse().forEach((f,g)=>{const b=u[g+1];f.previousSibling===b&&(i.appendElement("softBreak",b),i.merge(i.createPositionBefore(f)))})}_removeCodeBlock(i,o){const a=o.filter(d=>d.is("element","codeBlock"));for(const d of a){const u=i.createRangeOn(d);for(const f of Array.from(u.getItems()).reverse())if(f.is("element","softBreak")&&f.parent.is("element","codeBlock")){const{position:g}=i.split(i.createPositionBefore(f));i.rename(g.nodeAfter,"paragraph"),i.removeAttribute("language",g.nodeAfter),i.remove(f)}i.rename(d,"paragraph"),i.removeAttribute("language",d)}}}function Wu(l,i){return!i.is("rootElement")&&!l.isLimit(i)&&l.checkChild(i.parent,"codeBlock")}class Fp extends zt{constructor(i){super(i),this._indentSequence=i.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(o=>{const a=W2(i);for(const d of a)o.insertText(this._indentSequence,d)})}_checkEnabled(){return!!this._indentSequence&&br(this.editor.model.document.selection)}}class Tb extends zt{constructor(i){super(i),this._indentSequence=i.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;i.change(o=>{const a=W2(i);for(const d of a){const u=K2(this.editor.model,d,this._indentSequence);u&&o.remove(u)}})}_checkEnabled(){if(!this._indentSequence)return!1;const i=this.editor.model;return!!br(i.document.selection)&&W2(i).some(o=>K2(i,o,this._indentSequence))}}function K2(l,i,o){const a=function(b){let _=b.parent.getChild(b.index);return _&&!_.is("element","softBreak")||(_=b.nodeBefore),!_||_.is("element","softBreak")?null:_}(i);if(!a)return null;const d=$2(a),u=d.lastIndexOf(o);if(u+o.length!==d.length||-1===u)return null;const{parent:f,startOffset:g}=a;return l.createRange(l.createPositionAt(f,g+u),l.createPositionAt(f,g+u+o.length))}function q4(l,i,o=!1){const a=U2(i,"language","class"),d=U2(i,"language","label");return(u,f,g)=>{const{writer:b,mapper:_,consumable:C}=g;if(!C.consume(f.item,"insert"))return;const w=f.item.getAttribute("language"),D=_.toViewPosition(l.createPositionBefore(f.item)),x={};o&&(x["data-language"]=d[w],x.spellcheck="false");const T=b.createContainerElement("pre",x),R=b.createContainerElement("code",{class:a[w]||null});b.insert(b.createPositionAt(T,0),R),b.insert(D,T),_.bindElements(f.item,R)}}const J2="paragraph";class F1 extends le{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[Pu]}constructor(i){super(i),i.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"\t"})}init(){const i=this.editor,o=i.model.schema,a=i.model,d=G2(i);i.commands.add("codeBlock",new q2(i)),i.commands.add("indentCodeBlock",new Fp(i)),i.commands.add("outdentCodeBlock",new Tb(i));const u=f=>(g,b)=>{this.editor.commands.get(f).isEnabled&&(this.editor.execute(f),b())};var f;i.keystrokes.set("Tab",u("indentCodeBlock")),i.keystrokes.set("Shift+Tab",u("outdentCodeBlock")),o.register("codeBlock",{allowWhere:"$block",isBlock:!0,allowAttributes:["language"]}),o.extend("$text",{allowIn:"codeBlock"}),o.addAttributeCheck(f=>{if(f.endsWith("codeBlock $text"))return!1}),i.editing.downcastDispatcher.on("insert:codeBlock",q4(a,d,!0)),i.data.downcastDispatcher.on("insert:codeBlock",q4(a,d)),i.data.downcastDispatcher.on("insert:softBreak",(f=a,(g,b,_)=>{if("codeBlock"!==b.item.parent.name)return;const{writer:C,mapper:w,consumable:D}=_;if(!D.consume(b.item,"insert"))return;const x=w.toViewPosition(f.createPositionBefore(b.item));C.insert(x,C.createText("\n"))}),{priority:"high"}),i.data.upcastDispatcher.on("element:code",function(f,g){const b=U2(g,"class","language"),_=g[0].language;return(C,w,D)=>{const x=w.viewItem,T=x.parent;if(!T||!T.is("element","pre")||w.modelCursor.findAncestor("codeBlock"))return;const{consumable:R,writer:L}=D;if(!R.test(x,{name:!0}))return;const $=L.createElement("codeBlock"),Y=[...x.getClassNames()];Y.length||Y.push("");for(const te of Y){const He=b[te];if(He){L.setAttribute("language",He,$);break}}$.hasAttribute("language")||L.setAttribute("language",_,$),D.convertChildren(x,$),D.safeInsert($,w.modelCursor)&&(R.consume(x,{name:!0}),D.updateConversionResult($,w))}}(0,d)),i.data.upcastDispatcher.on("text",(f,g,{consumable:b,writer:_})=>{let C=g.modelCursor;if(!b.test(g.viewItem)||!C.findAncestor("codeBlock"))return;b.consume(g.viewItem);const w=g.viewItem.data.split("\n").map(x=>_.createText(x)),D=w[w.length-1];for(const x of w)if(_.insert(x,C),C=C.getShiftedBy(x.offsetSize),x!==D){const T=_.createElement("softBreak");_.insert(T,C),C=_.createPositionAfter(T)}g.modelRange=_.createRange(g.modelCursor,C),g.modelCursor=C}),this.listenTo(i.editing.view.document,"clipboardInput",(f,g)=>{let b=a.createRange(a.document.selection.anchor);if(g.targetRanges&&(b=i.editing.mapper.toModelRange(g.targetRanges[0])),!b.start.parent.is("element","codeBlock"))return;const _=g.dataTransfer.getData("text/plain"),C=new P4(i.editing.view.document);g.content=function(w,D){const x=w.createDocumentFragment(),T=D.split("\n"),R=T.reduce((L,$,Y)=>(L.push($),Y<T.length-1&&L.push(w.createElement("br")),L),[]);return w.appendChild(R,x),x}(C,_)}),this.listenTo(a,"getSelectedContent",(f,[g])=>{const b=g.anchor;!g.isCollapsed&&b.parent.is("element","codeBlock")&&b.hasSameParentAs(g.focus)&&a.change(_=>{const C=f.return;if(C.childCount>1||g.containsEntireContent(b.parent)){const w=_.createElement("codeBlock",b.parent.getAttributes());_.append(C,w);const D=_.createDocumentFragment();_.append(w,D),f.return=D}else{const w=C.getChild(0);o.checkAttribute(w,"code")&&_.setAttribute("code",!0,w)}})})}afterInit(){const i=this.editor,o=i.commands,a=o.get("indent"),d=o.get("outdent");a&&a.registerChildCommand(o.get("indentCodeBlock")),d&&d.registerChildCommand(o.get("outdentCodeBlock")),this.listenTo(i.editing.view.document,"enter",(u,f)=>{i.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(g,b){const _=g.model.document,C=g.editing.view,w=_.selection.getLastPosition(),D=w.nodeAfter;return!!(!b&&_.selection.isCollapsed&&w.isAtStart&&D&&D.is("element","softBreak"))&&(g.model.change(x=>{g.execute("enter");const T=_.selection.anchor.parent.previousSibling;x.rename(T,J2),x.setSelection(T,"in"),g.model.schema.removeDisallowedAttributes([T],x),x.remove(D)}),C.scrollToTheSelection(),!0)}(i,f.isSoft)||function(g,b){const _=g.model,C=_.document,w=g.editing.view,D=C.selection.getLastPosition(),x=D.nodeBefore;let T;if(b||!C.selection.isCollapsed||!D.isAtEnd||!x)return!1;if(x.is("element","softBreak"))T=_.createRangeOn(x);else{if(!x.is("$text")||x.data.match(/\S/)||!x.previousSibling||!x.previousSibling.is("element","softBreak"))return!1;T=_.createRange(_.createPositionBefore(x.previousSibling),_.createPositionAfter(x))}return g.model.change(R=>{R.remove(T),g.execute("enter");const L=C.selection.anchor.parent;R.rename(L,J2),g.model.schema.removeDisallowedAttributes([L],R)}),w.scrollToTheSelection(),!0}(i,f.isSoft)||function(g){const b=g.model.document,_=b.selection.getLastPosition(),C=_.nodeBefore||_.textNode;let w;C&&C.is("$text")&&(w=$2(C)),g.model.change(D=>{g.execute("shiftEnter"),w&&D.insertText(w,b.selection.anchor)})}(i),f.preventDefault(),u.stop())},{context:"pre"})}}var qu=E(37);Ze()(qu.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ku extends le{static get pluginName(){return"CodeBlockUI"}init(){const i=this.editor,o=i.t,a=i.ui.componentFactory,d=G2(i),u=d[0];a.add("codeBlock",f=>{const g=i.commands.get("codeBlock"),b=ns(f,p4),_=b.buttonView;return _.set({label:o("Insert code block"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),_.bind("isOn").to(g,"value",C=>!!C),_.on("execute",()=>{i.execute("codeBlock",{language:u.language}),i.editing.view.focus()}),b.on("execute",C=>{i.execute("codeBlock",{language:C.source._codeBlockLanguage,forceValue:!0}),i.editing.view.focus()}),b.class="ck-code-block-dropdown",b.bind("isEnabled").to(g),x4(b,this._getLanguageListItemDefinitions(d)),b})}_getLanguageListItemDefinitions(i){const o=this.editor.commands.get("codeBlock"),a=new Nt;for(const d of i){const u={type:"button",model:new M2({_codeBlockLanguage:d.language,label:d.label,withText:!0})};u.model.bind("isOn").to(o,"value",f=>f===u.model._codeBlockLanguage),a.add(u)}return a}}class Ju{constructor(i){this.files=function(o){const a=o.files?Array.from(o.files):[],d=o.items?Array.from(o.items):[];return a.length?a:d.filter(u=>"file"===u.kind).map(u=>u.getAsFile())}(i),this._native=i}get types(){return this._native.types}getData(i){return this._native.getData(i)}setData(i,o){this._native.setData(i,o)}set effectAllowed(i){this._native.effectAllowed=i}get effectAllowed(){return this._native.effectAllowed}set dropEffect(i){this._native.dropEffect=i}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}class Z2 extends ao{constructor(i){super(i);const o=this.document;function a(d){return(u,f)=>{f.preventDefault();const g=f.dropRange?[f.dropRange]:null,b=new q(o,d);o.fire(b,{dataTransfer:f.dataTransfer,method:u.name,targetRanges:g,target:f.target}),b.stop.called&&f.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(o,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(o,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(o,"dragover",a("dragging"),{priority:"low"})}onDomEvent(i){const o={dataTransfer:new Ju(i.clipboardData?i.clipboardData:i.dataTransfer)};"drop"!=i.type&&"dragover"!=i.type||(o.dropRange=function(a,d){const u=d.target.ownerDocument,f=d.clientX,g=d.clientY;let b;return u.caretRangeFromPoint&&u.caretRangeFromPoint(f,g)?b=u.caretRangeFromPoint(f,g):d.rangeParent&&(b=u.createRange(),b.setStart(d.rangeParent,d.rangeOffset),b.collapse(!0)),b?a.domConverter.domRangeToView(b):null}(this.view,i)),this.fire(i.type,i,o)}}const Zu=["figcaption","li"];function Y2(l){let i="";if(l.is("$text")||l.is("$textProxy"))i=l.data;else if(l.is("element","img")&&l.hasAttribute("alt"))i=l.getAttribute("alt");else if(l.is("element","br"))i="\n";else{let o=null;for(const a of l.getChildren()){const d=Y2(a);o&&(o.is("containerElement")||a.is("containerElement"))&&(Zu.includes(o.name)||Zu.includes(a.name)?i+="\n":i+="\n\n"),i+=d,o=a}}return i}class sa extends le{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Z2),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const i=this.editor,o=i.model,a=i.editing.view,d=a.document;this.listenTo(d,"clipboardInput",u=>{i.isReadOnly&&u.stop()},{priority:"highest"}),this.listenTo(d,"clipboardInput",(u,f)=>{const g=f.dataTransfer;let b=f.content||"";var _;b||(g.getData("text/html")?b=g.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(D,x)=>1==x.length?" ":x):g.getData("text/plain")&&(((_=(_=g.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||_.includes("<br>"))&&(_=`<p>${_}</p>`),b=_),b=this.editor.data.htmlProcessor.toView(b));const C=new q(this,"inputTransformation");this.fire(C,{content:b,dataTransfer:g,targetRanges:f.targetRanges,method:f.method}),C.stop.called&&u.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(u,f)=>{if(f.content.isEmpty)return;const g=this.editor.data.toModel(f.content,"$clipboardHolder");0!=g.childCount&&(u.stop(),o.change(()=>{this.fire("contentInsertion",{content:g,method:f.method,dataTransfer:f.dataTransfer,targetRanges:f.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(u,f)=>{f.resultRange=o.insertContent(f.content)},{priority:"low"})}_setupCopyCut(){const i=this.editor,o=i.model.document,a=i.editing.view.document;function d(u,f){const g=f.dataTransfer;f.preventDefault();const b=i.data.toView(i.model.getSelectedContent(o.selection));a.fire("clipboardOutput",{dataTransfer:g,content:b,method:u.name})}this.listenTo(a,"copy",d,{priority:"low"}),this.listenTo(a,"cut",(u,f)=>{i.isReadOnly?f.preventDefault():d(u,f)},{priority:"low"}),this.listenTo(a,"clipboardOutput",(u,f)=>{f.content.isEmpty||(f.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(f.content)),f.dataTransfer.setData("text/plain",Y2(f.content))),"cut"==f.method&&i.model.deleteContent(o.selection)},{priority:"low"})}}function Q2(l,i){return l&&i&&l.priority==i.priority&&H1(l.classes)==H1(i.classes)}function aa(l,i){return l.priority>i.priority||!(l.priority<i.priority)&&H1(l.classes)>H1(i.classes)}function H1(l){return Array.isArray(l)?l.sort().join(","):l}Ee(class{constructor(){this._stack=[]}add(i,o){const a=this._stack,d=a[0];this._insertDescriptor(i);const u=a[0];d===u||Q2(d,u)||this.fire("change:top",{oldDescriptor:d,newDescriptor:u,writer:o})}remove(i,o){const a=this._stack,d=a[0];this._removeDescriptor(i);const u=a[0];d===u||Q2(d,u)||this.fire("change:top",{oldDescriptor:d,newDescriptor:u,writer:o})}_insertDescriptor(i){const o=this._stack,a=o.findIndex(u=>u.id===i.id);if(Q2(i,o[a]))return;a>-1&&o.splice(a,1);let d=0;for(;o[d]&&aa(o[d],i);)d++;o.splice(d,0,i)}_removeDescriptor(i){const o=this._stack,a=o.findIndex(d=>d.id===i);a>-1&&o.splice(a,1)}},Oe);const Yu="ck-widget_selected";function wn(l){return!!l.is("element")&&!!l.getCustomProperty("widget")}function ca(l){const i=l.getCustomProperty("widgetLabel");return i?"function"==typeof i?i():i:""}const vo="widget-type-around";function la(l,i,o){return l&&wn(l)&&!o.isInline(i)}function B1(l){return l.getAttribute(vo)}var Qu=E(38);Ze()(Qu.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const X2=["before","after"],Xu=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,J4="ck-widget__type-around_disabled";class e8 extends le{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[O1,L1]}constructor(i){super(i),this._currentFakeCaretModelElement=null}init(){const i=this.editor,o=i.editing.view;this.on("change:isEnabled",(a,d,u)=>{o.change(f=>{for(const g of o.document.roots)u?f.removeClass(J4,g):f.addClass(J4,g)}),u||i.model.change(f=>{f.removeSelectionAttribute(vo)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration()}destroy(){this._currentFakeCaretModelElement=null}_insertParagraph(i,o){const a=this.editor,d=a.editing.view;a.execute("insertParagraph",{position:a.model.createPositionAt(i,o)}),d.focus(),d.scrollToTheSelection()}_listenToIfEnabled(i,o,a,d){this.listenTo(i,o,(...u)=>{this.isEnabled&&a(...u)},d)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,o=B1(i);if(!o)return!1;const a=i.getSelectedElement();return this._insertParagraph(a,o),!0}_enableTypeAroundUIInjection(){const i=this.editor,o=i.model.schema,a=i.locale.t,d={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};i.editing.downcastDispatcher.on("insert",(u,f,g)=>{const b=g.mapper.toViewElement(f.item);la(b,f.item,o)&&function(_,C,w){const D=_.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(x){const T=this.toDomElement(x);return function(R,L){for(const $ of X2){const Y=new Ri({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${$}`],title:L[$]},children:[R.ownerDocument.importNode(Xu,!0)]});R.appendChild(Y.render())}}(T,C),function(R){const L=new Ri({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});R.appendChild(L.render())}(T),T});_.insert(_.createPositionAt(w,"end"),D)}(g.writer,d,b)},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const i=this.editor,o=i.model,a=o.document.selection,d=o.schema;function f(g){return`ck-widget_type-around_show-fake-caret_${g}`}this._listenToIfEnabled(i.editing.view.document,"arrowKey",(g,b)=>{this._handleArrowKeyPress(g,b)},{context:[wn,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(g,b)=>{b.directChange&&i.model.change(_=>{_.removeSelectionAttribute(vo)})}),this._listenToIfEnabled(o.document,"change:data",()=>{const g=a.getSelectedElement();g&&la(i.editing.mapper.toViewElement(g),g,d)||i.model.change(b=>{b.removeSelectionAttribute(vo)})}),this._listenToIfEnabled(i.editing.downcastDispatcher,"selection",(g,b,_)=>{const C=_.writer;if(this._currentFakeCaretModelElement){const T=_.mapper.toViewElement(this._currentFakeCaretModelElement);T&&(C.removeClass(X2.map(f),T),this._currentFakeCaretModelElement=null)}const w=b.selection.getSelectedElement();if(!w)return;const D=_.mapper.toViewElement(w);if(!la(D,w,d))return;const x=B1(b.selection);x&&(C.addClass(f(x),D),this._currentFakeCaretModelElement=w)}),this._listenToIfEnabled(i.ui.focusTracker,"change:isFocused",(g,b,_)=>{_||i.model.change(C=>{C.removeSelectionAttribute(vo)})})}_handleArrowKeyPress(i,o){const a=this.editor,d=a.model,u=d.document.selection,f=d.schema,g=a.editing.view,b=fd(o.keyCode,a.locale.contentLanguageDirection),_=g.document.selection.getSelectedElement();let C;la(_,a.editing.mapper.toModelElement(_),f)?C=this._handleArrowKeyPressOnSelectedWidget(b):u.isCollapsed&&(C=this._handleArrowKeyPressWhenSelectionNextToAWidget(b)),C&&(o.preventDefault(),i.stop())}_handleArrowKeyPressOnSelectedWidget(i){const o=this.editor.model,a=B1(o.document.selection);return o.change(d=>a?a!==(i?"after":"before")&&(d.removeSelectionAttribute(vo),!0):(d.setSelectionAttribute(vo,i?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(i){const o=this.editor,a=o.model,d=a.schema,u=o.plugins.get("Widget"),f=u._getObjectElementNextToSelection(i);return!!la(o.editing.mapper.toViewElement(f),f,d)&&(a.change(g=>{u._setSelectionOverElement(f),g.setSelectionAttribute(vo,i?"before":"after")}),!0)}_enableInsertingParagraphsOnButtonClick(){const i=this.editor,o=i.editing.view;this._listenToIfEnabled(o.document,"mousedown",(a,d)=>{const u=d.domTarget.closest(".ck-widget__type-around__button");if(!u)return;const f=u.classList.contains("ck-widget__type-around__button_before")?"before":"after",g=function(_,C){const w=_.closest(".ck-widget");return C.mapDomToView(w)}(u,o.domConverter),b=i.editing.mapper.toModelElement(g);this._insertParagraph(b,f),d.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const i=this.editor,o=i.model.document.selection;this._listenToIfEnabled(i.editing.view.document,"enter",(d,u)=>{if("atTarget"!=d.eventPhase)return;const f=o.getSelectedElement(),g=i.editing.mapper.toViewElement(f),b=i.model.schema;let _;this._insertParagraphAccordingToFakeCaretPosition()?_=!0:la(g,f,b)&&(this._insertParagraph(f,u.isSoft?"before":"after"),_=!0),_&&(u.preventDefault(),d.stop())},{context:wn})}_enableInsertingParagraphsOnTypingKeystroke(){const o=[Le.enter,Le.delete,Le.backspace];this._listenToIfEnabled(this.editor.editing.view.document,"keydown",(a,d)=>{o.includes(d.keyCode)||Lu(d)||this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const i=this.editor,a=i.model,d=a.schema;this._listenToIfEnabled(i.editing.view.document,"delete",(u,f)=>{if("atTarget"!=u.eventPhase)return;const g=B1(a.document.selection);if(!g)return;const b=f.direction,_=a.document.selection.getSelectedElement(),C="forward"==b;if("before"===g===C)i.execute("delete",{selection:a.createSelection(_,"on")});else{const w=d.getNearestSelectionRange(a.createPositionAt(_,g),b);if(w)if(w.isCollapsed){const D=a.createSelection(w.start);if(a.modifySelection(D,{direction:b}),D.focus.isEqual(w.start)){const x=function(T,R){let L=R;for(const $ of R.getAncestors({parentFirst:!0})){if($.childCount>1||T.isLimit($))break;L=$}return L}(d,w.start.parent);a.deleteContent(a.createSelection(x,"on"),{doNotAutoparagraph:!0})}else a.change(x=>{x.setSelection(w),i.execute(C?"deleteForward":"delete")})}else a.change(D=>{D.setSelection(w),i.execute(C?"deleteForward":"delete")})}f.preventDefault(),u.stop()},{context:wn})}_enableInsertContentIntegration(){const o=this.editor.model,a=o.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(d,[u,f])=>{if(f&&!f.is("documentSelection"))return;const g=B1(a);return g?(d.stop(),o.change(b=>{const _=a.getSelectedElement(),C=o.createPositionAt(_,g),w=b.createSelection(C),D=o.insertContent(u,w);return b.setSelection(w),D})):void 0},{priority:"high"})}}var Z4=E(39);function t8(l,i,o){const a=l.schema,d=l.createRangeIn(i.root),u="forward"==o?"elementStart":"elementEnd";for(const{previousPosition:f,item:g,type:b}of d.getWalker({startPosition:i,direction:o})){if(a.isLimit(g)&&!a.isInline(g))return f;if(b==u&&a.isBlock(g))return null}return null}function n8(l,i,o){const a="backward"==o?i.end:i.start;if(l.checkChild(a,"$text"))return a;for(const{nextPosition:d}of i.getWalker({direction:o}))if(l.checkChild(d,"$text"))return d}Ze()(Z4.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class i8 extends le{static get pluginName(){return"Widget"}static get requires(){return[e8,L1]}init(){const i=this.editor.editing.view,o=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(a,d,u)=>{this._clearPreviouslySelectedWidgets(u.writer);const f=u.writer,g=f.document.selection,b=g.getSelectedElement();let _=null;for(const C of g.getRanges())for(const w of C){const D=w.item;wn(D)&&!Ib(D,_)&&(f.addClass(Yu,D),this._previouslySelected.add(D),_=D,D==b&&f.setSelection(g.getRanges(),{fake:!0,label:ca(b)}))}},{priority:"low"}),i.addObserver(z2),this.listenTo(o,"mousedown",(...a)=>this._onMousedown(...a)),this.listenTo(o,"arrowKey",(...a)=>{this._handleSelectionChangeOnArrowKeyPress(...a)},{context:[wn,"$text"]}),this.listenTo(o,"arrowKey",(...a)=>{this._preventDefaultOnArrowKeyPress(...a)},{context:"$root"}),this.listenTo(o,"arrowKey",function(l){const i=l.model;return(o,a)=>{const u=a.keyCode==Le.arrowdown,f=a.shiftKey,g=i.document.selection;if(a.keyCode!=Le.arrowup&&!u)return;const b=u;if(f&&!(C=g).isCollapsed&&C.isBackward==b)return;var C;const _=function(C,w,D){const x=C.model;if(D){const T=w.isCollapsed?w.focus:w.getLastPosition(),R=t8(x,T,"forward");if(!R)return null;const L=x.createRange(T,R),$=n8(x.schema,L,"backward");return $&&T.isBefore($)?x.createRange(T,$):null}{const T=w.isCollapsed?w.focus:w.getFirstPosition(),R=t8(x,T,"backward");if(!R)return null;const L=x.createRange(R,T),$=n8(x.schema,L,"forward");return $&&T.isAfter($)?x.createRange($,T):null}}(l,g,b);_&&!_.isCollapsed&&function(C,w,D){const x=C.model,T=C.view.domConverter;if(D){const te=x.createSelection(w.start);x.modifySelection(te),te.focus.isAtEnd||w.start.isEqual(te.focus)||(w=x.createRange(te.focus,w.end))}const R=C.mapper.toViewRange(w),L=T.viewRangeToDom(R),$=Bt.getDomRangeRects(L);let Y;for(const te of $)if(void 0!==Y){if(Math.round(te.top)>=Y)return!1;Y=Math.max(Y,Math.round(te.bottom))}else Y=Math.round(te.bottom);return!0}(l,_,b)&&(i.change(C=>{const w=b?_.end:_.start;if(f){const D=i.createSelection(g.anchor);D.setFocus(w),C.setSelection(D)}else C.setSelection(w)}),o.stop(),a.preventDefault(),a.stopPropagation())}}(this.editor.editing),{context:"$text"}),this.listenTo(o,"delete",(a,d)=>{this._handleDelete("forward"==d.direction)&&(d.preventDefault(),a.stop())},{context:"$root"})}_onMousedown(i,o){const a=this.editor,d=a.editing.view,u=d.document;let f=o.target;if(function(b){for(;b;){if(b.is("editableElement")&&!b.is("rootElement"))return!0;if(wn(b))return!1;b=b.parent}return!1}(f)){if((Ge_isSafari||Ge_isGecko)&&o.domEvent.detail>=3){const b=a.editing.mapper,_=f.is("attributeElement")?f.findAncestor(w=>!w.is("attributeElement")):f,C=b.toModelElement(_);o.preventDefault(),this.editor.model.change(w=>{w.setSelection(C,"in")})}return}if(!wn(f)&&(f=f.findAncestor(wn),!f))return;Ge_isAndroid&&o.preventDefault(),u.isFocused||d.focus();const g=a.editing.mapper.toModelElement(f);this._setSelectionOverElement(g)}_handleSelectionChangeOnArrowKeyPress(i,o){const a=o.keyCode,d=this.editor.model,u=d.schema,f=d.document.selection,g=f.getSelectedElement(),b=fd(a,this.editor.locale.contentLanguageDirection);if(g&&u.isObject(g)){const C=b?f.getLastPosition():f.getFirstPosition(),w=u.getNearestSelectionRange(C,b?"forward":"backward");return void(w&&(d.change(D=>{D.setSelection(w)}),o.preventDefault(),i.stop()))}if(!f.isCollapsed)return;const _=this._getObjectElementNextToSelection(b);_&&u.isObject(_)&&(this._setSelectionOverElement(_),o.preventDefault(),i.stop())}_preventDefaultOnArrowKeyPress(i,o){const a=this.editor.model,d=a.schema,u=a.document.selection.getSelectedElement();u&&d.isObject(u)&&(o.preventDefault(),i.stop())}_handleDelete(i){if(this.editor.isReadOnly)return;const o=this.editor.model.document.selection;if(!o.isCollapsed)return;const a=this._getObjectElementNextToSelection(i);return a?(this.editor.model.change(d=>{let u=o.anchor.parent;for(;u.isEmpty;){const f=u;u=f.parent,d.remove(f)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(i){this.editor.model.change(o=>{o.setSelection(o.createRangeOn(i))})}_getObjectElementNextToSelection(i){const o=this.editor.model,a=o.schema,u=o.createSelection(o.document.selection);o.modifySelection(u,{direction:i?"forward":"backward"});const f=i?u.focus.nodeBefore:u.focus.nodeAfter;return f&&a.isObject(f)?f:null}_clearPreviouslySelectedWidgets(i){for(const o of this._previouslySelected)i.removeClass(Yu,o);this._previouslySelected.clear()}}function Ib(l,i){return!!i&&Array.from(l.getAncestors()).includes(i)}var Y4=function(l,i,o){var a=!0,d=!0;if("function"!=typeof l)throw new TypeError("Expected a function");return pe(o)&&(a="leading"in o?!!o.leading:a,d="trailing"in o?!!o.trailing:d),lo(l,i,{leading:a,maxWait:i,trailing:d})},r8=E(40);Ze()(r8.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Pb extends le{static get pluginName(){return"DragDrop"}static get requires(){return[sa,i8]}init(){const i=this.editor,o=i.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=Y4(a=>this._updateDropMarker(a),40),this._removeDropMarkerDelayed=o8(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=o8(()=>this._clearDraggableAttributes(),40),o.addObserver(Z2),o.addObserver(z2),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(i,"change:isReadOnly",(a,d,u)=>{u?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,d,u)=>{u||this._finalizeDragging(!1)}),Ge_isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const i=this.editor,o=i.model,a=o.document,d=i.editing.view,u=d.document;this.listenTo(u,"dragstart",(f,g)=>{const b=a.selection;if(g.target&&g.target.is("editableElement"))return void g.preventDefault();const _=g.target?Q4(g.target):null;if(_){const D=i.editing.mapper.toModelElement(_);this._draggedRange=zr.fromRange(o.createRangeOn(D))}else if(!u.selection.isCollapsed){const D=u.selection.getSelectedElement();D&&wn(D)||(this._draggedRange=zr.fromRange(b.getFirstRange()))}if(!this._draggedRange)return void g.preventDefault();this._draggingUid=V(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const C=o.createSelection(this._draggedRange.toRange()),w=i.data.toView(o.getSelectedContent(C));u.fire("clipboardOutput",{dataTransfer:g.dataTransfer,content:w,method:f.name}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(f,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&"move"==g.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&d.focus()}),this.listenTo(u,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(f,g)=>{if(!this.isEnabled)return void(g.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const b=Up(i,g.targetRanges,g.target);this._draggedRange||(g.dataTransfer.dropEffect="copy"),Ge_isGecko||("copy"==g.dataTransfer.effectAllowed?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),b&&this._updateDropMarkerThrottled(b)},{priority:"low"})}_setupClipboardInputIntegration(){const i=this.editor;this.listenTo(i.editing.view.document,"clipboardInput",(a,d)=>{if("drop"!=d.method)return;const u=Up(i,d.targetRanges,d.target);return this._removeDropMarker(),u?(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==el(d.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(u,!0)?(this._finalizeDragging(!1),void a.stop()):void(d.targetRanges=[i.editing.mapper.toViewRange(u)])):(this._finalizeDragging(!1),void a.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const i=this.editor.plugins.get(sa);i.on("contentInsertion",(o,a)=>{if(!this.isEnabled||"drop"!==a.method)return;const d=a.targetRanges.map(u=>this.editor.editing.mapper.toModelRange(u));this.editor.model.change(u=>u.setSelection(d))},{priority:"high"}),i.on("contentInsertion",(o,a)=>{if(!this.isEnabled||"drop"!==a.method)return;const d="move"==el(a.dataTransfer);this._finalizeDragging((!a.resultRange||!a.resultRange.isCollapsed)&&d)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const i=this.editor,o=i.editing.view,a=o.document;this.listenTo(a,"mousedown",(d,u)=>{if(Ge_isAndroid||!u)return;this._clearDraggableAttributesDelayed.cancel();let f=Q4(u.target);if(Ge_isBlink&&!i.isReadOnly&&!f&&!a.selection.isCollapsed){const g=a.selection.getSelectedElement();g&&wn(g)||(f=a.selection.editableElement)}f&&(o.change(g=>{g.setAttribute("draggable","true",f)}),this._draggableElement=i.editing.mapper.toModelElement(f))}),this.listenTo(a,"mouseup",()=>{Ge_isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const i=this.editor.editing;i.view.change(o=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&o.removeAttribute("draggable",i.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const i=this.editor;i.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),i.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(o,{writer:a})=>{if(i.model.schema.checkChild(o.markerRange.start,"$text"))return a.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(d){const u=this.toDomElement(d);return u.innerHTML="&NoBreak;<span></span>&NoBreak;",u})}})}_updateDropMarker(i){const o=this.editor,a=o.model.markers;o.model.change(d=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(i)||d.updateMarker("drop-target",{range:i}):d.addMarker("drop-target",{range:i,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const i=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),i.markers.has("drop-target")&&i.change(o=>{o.removeMarker("drop-target")})}_finalizeDragging(i){const o=this.editor.model;this._removeDropMarker(),this._clearDraggableAttributes(),this._draggingUid="",this._draggedRange&&(i&&this.isEnabled&&o.deleteContent(o.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function Up(l,i,o){const a=l.model,d=l.editing.mapper;let u=null;const f=i?i[0].start:null;if(o.is("uiElement")&&(o=o.parent),u=function(_,C){const w=_.model,D=_.editing.mapper;if(wn(C))return w.createRangeOn(D.toModelElement(C));if(!C.is("editableElement")){const x=C.findAncestor(T=>wn(T)||T.is("editableElement"));if(wn(x))return w.createRangeOn(D.toModelElement(x))}return null}(l,o),u)return u;const g=function(_,C){const w=_.editing.mapper,D=_.editing.view,x=w.toModelElement(C);if(x)return x;const T=D.createPositionBefore(C),R=w.findMappedViewAncestor(T);return w.toModelElement(R)}(l,o),b=f?d.toModelPosition(f):null;return b?(u=function(_,C,w){const D=_.model;if(!D.schema.checkChild(w,"$block"))return null;const x=D.createPositionAt(w,0),T=C.path.slice(0,x.path.length),R=D.createPositionFromPath(C.root,T).nodeAfter;return R&&D.schema.isObject(R)?D.createRangeOn(R):null}(l,b,g),u||(u=a.schema.getNearestSelectionRange(b,Ge_isGecko?"forward":"backward"),u||function(_,C){const w=_.model;for(;C;){if(w.schema.isObject(C))return w.createRangeOn(C);C=C.parent}}(l,b.parent))):function(_,C){const w=_.model,D=w.schema,x=w.createPositionAt(C,0);return D.getNearestSelectionRange(x,"forward")}(l,g)}function el(l){return Ge_isGecko?l.dropEffect:["all","copyMove"].includes(l.effectAllowed)?"move":"copy"}function o8(l,i){let o;function a(...d){a.cancel(),o=setTimeout(()=>l(...d),i)}return a.cancel=()=>{clearTimeout(o)},a}function Q4(l){if(l.is("editableElement"))return null;if(l.hasClass("ck-widget__selection-handle"))return l.findAncestor(wn);if(wn(l))return l;const i=l.findAncestor(o=>wn(o)||o.is("editableElement"));return wn(i)?i:null}class s8 extends le{static get pluginName(){return"PastePlainText"}static get requires(){return[sa]}init(){const i=this.editor,o=i.model,a=i.editing.view,d=a.document,u=o.document.selection;let f=!1;a.addObserver(Z2),this.listenTo(d,"keydown",(g,b)=>{f=b.shiftKey}),i.plugins.get(sa).on("contentInsertion",(g,b)=>{(f||function(_,C){if(_.childCount>1)return!1;const w=_.getChild(0);return!C.isObject(w)&&0==[...w.getAttributeKeys()].length}(b.content,o.schema))&&o.change(_=>{const C=Array.from(u.getAttributes()).filter(([D])=>o.schema.getAttributeProperties(D).isFormatting);u.isCollapsed||o.deleteContent(u,{doNotAutoparagraph:!0}),C.push(...u.getAttributes());const w=_.createRangeIn(b.content);for(const D of w.getItems())D.is("$textProxy")&&_.setAttributes(C,D)})})}}class zb extends le{static get pluginName(){return"Clipboard"}static get requires(){return[sa,Pb,s8]}}class Qi extends zt{execute(){const i=this.editor.model,o=i.document.selection;let a=i.schema.getLimitElement(o);if(o.containsEntireContent(a)||!$p(i.schema,a))do{if(a=a.parent,!a)return}while(!$p(i.schema,a));i.change(d=>{d.setSelection(a,"in")})}}function $p(l,i){return l.isLimit(i)&&(l.checkChild(i,"$text")||l.checkChild(i,"paragraph"))}const Ob=Qa("Ctrl+A");class a8 extends le{static get pluginName(){return"SelectAllEditing"}init(){const i=this.editor,o=i.editing.view.document;i.commands.add("selectAll",new Qi(i)),this.listenTo(o,"keydown",(a,d)=>{Pi(d)===Ob&&(i.execute("selectAll"),d.preventDefault())})}}class c8 extends le{static get pluginName(){return"SelectAllUI"}init(){const i=this.editor;i.ui.componentFactory.add("selectAll",o=>{const a=i.commands.get("selectAll"),d=new $t(o);return d.set({label:(0,o.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),d.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(d,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),d})}}class l8 extends le{static get requires(){return[a8,c8]}static get pluginName(){return"SelectAll"}}class d8 extends zt{constructor(i){super(i),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(i.data,"set",()=>this.clearStack())}refresh(){this.isEnabled=this._stack.length>0}addBatch(i){const o=this.editor.model.document.selection,a={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:i,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(i,o,a){const d=this.editor.model,u=d.document,f=[],g=i.map(_=>_.getTransformedByOperations(a)),b=g.flat();for(const _ of g){const C=_.filter(w=>w.root!=u.graveyard).filter(w=>!u8(w,b));C.length&&(Lb(C),f.push(C[0]))}f.length&&d.change(_=>{_.setSelection(f,{backward:o})})}_undo(i,o){const a=this.editor.model,d=a.document;this._createdBatches.add(o);const u=i.operations.slice().filter(f=>f.isDocumentOperation);u.reverse();for(const f of u){const b=Array.from(d.history.getOperations(f.baseVersion+1)),_=xb([f.getReversed()],b,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const C of _)o.addOperation(C),a.applyOperation(C),d.history.setOperationAsUndone(f,C)}}}function Lb(l){l.sort((i,o)=>i.start.isBefore(o.start)?-1:1);for(let i=1;i<l.length;i++){const o=l[i-1].getJoined(l[i],!0);o&&(i--,l.splice(i,2,o))}}function u8(l,i){return i.some(o=>o!==l&&o.containsRange(l,!0))}class wt extends d8{execute(i=null){const o=i?this._stack.findIndex(u=>u.batch==i):this._stack.length-1,a=this._stack.splice(o,1)[0],d=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(d,()=>{this._undo(a.batch,d);const u=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,u),this.fire("revert",a.batch,d)}),this.refresh()}}class Wp extends d8{execute(){const i=this._stack.pop(),o=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(o,()=>{const d=this.editor.model.document.history.getOperations(i.batch.operations[i.batch.operations.length-1].baseVersion+1);this._restoreSelection(i.selection.ranges,i.selection.isBackward,d),this._undo(i.batch,o)}),this.refresh()}}class X4 extends le{static get pluginName(){return"UndoEditing"}constructor(i){super(i),this._batchRegistry=new WeakSet}init(){const i=this.editor;this._undoCommand=new wt(i),this._redoCommand=new Wp(i),i.commands.add("undo",this._undoCommand),i.commands.add("redo",this._redoCommand),this.listenTo(i.model,"applyOperation",(o,a)=>{const d=a[0];if(!d.isDocumentOperation)return;const u=d.batch,f=this._redoCommand._createdBatches.has(u),g=this._undoCommand._createdBatches.has(u);this._batchRegistry.has(u)||"transparent"==u.type&&!f&&!g||(f?this._undoCommand.addBatch(u):g||(this._undoCommand.addBatch(u),this._redoCommand.clearStack()),this._batchRegistry.add(u))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(o,a,d)=>{this._redoCommand.addBatch(d)}),i.keystrokes.set("CTRL+Z","undo"),i.keystrokes.set("CTRL+Y","redo"),i.keystrokes.set("CTRL+SHIFT+Z","redo")}}var h8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',f8='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class qp extends le{static get pluginName(){return"UndoUI"}init(){const i=this.editor,o=i.locale,a=i.t,d="ltr"==o.uiLanguageDirection?h8:f8,u="ltr"==o.uiLanguageDirection?f8:h8;this._addButton("undo",a("Undo"),"CTRL+Z",d),this._addButton("redo",a("Redo"),"CTRL+Y",u)}_addButton(i,o,a,d){const u=this.editor;u.ui.componentFactory.add(i,f=>{const g=u.commands.get(i),b=new $t(f);return b.set({label:o,icon:d,keystroke:a,tooltip:!0}),b.bind("isEnabled").to(g,"isEnabled"),this.listenTo(b,"execute",()=>{u.execute(i),u.editing.view.focus()}),b})}}class Kp extends le{static get requires(){return[X4,qp]}static get pluginName(){return"Undo"}}class Jp extends zt{constructor(i,o){super(i),this.attributeKey=o}refresh(){const i=this.editor.model,o=i.document;this.value=o.selection.getAttribute(this.attributeKey),this.isEnabled=i.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(i={}){const o=this.editor.model,a=o.document.selection,d=i.value;o.change(u=>{if(a.isCollapsed)d?u.setSelectionAttribute(this.attributeKey,d):u.removeSelectionAttribute(this.attributeKey);else{const f=o.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const g of f)d?u.setAttribute(this.attributeKey,d,g):u.removeAttribute(this.attributeKey,g)}})}}Ee(class extends Nt{constructor(i){super(i),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",0===this.length)})}add(i,o){this.find(a=>a.color===i.color)||super.add(i,o)}hasColor(i){return!!this.find(o=>o.color===i)}},ln);var j1=E(41);Ze()(j1.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const yi="fontSize";class G1 extends Jp{constructor(i){super(i,yi)}}function p8(l){return l.map(i=>function(o){if("object"==typeof(a=o)&&a.title&&a.model&&a.view)return U1(o);var a;const d=g8[u=o]||g8[u.model];var u;return d?U1(d):"default"===o?{model:void 0,title:"Default"}:function(u){let f;if("object"==typeof u){if(!u.model)throw new S.a("font-size-invalid-definition",null,u);f=parseFloat(u.model)}else f=parseFloat(u);return isNaN(f)}(o)?void 0:function(u){return"number"!=typeof u&&"string"!=typeof u||(u={title:String(u),model:`${parseFloat(u)}px`}),u.view={name:"span",styles:{"font-size":u.model}},U1(u)}(o)}(i)).filter(i=>!!i)}const g8={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function U1(l){return l.view.priority||(l.view.priority=7),l}const Xi=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class $1 extends le{static get pluginName(){return"FontSizeEditing"}constructor(i){super(i),i.config.define(yi,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:yi}),i.model.schema.setAttributeProperties(yi,{isFormatting:!0,copyOnEnter:!0});const o=i.config.get("fontSize.supportAllValues"),d=function(u,f){const g={model:{key:"fontSize",values:[]},view:{},upcastAlso:{}};for(const b of f)g.model.values.push(b.model),g.view[b.model]=b.view,b.upcastAlso&&(g.upcastAlso[b.model]=b.upcastAlso);return g}(0,p8(this.editor.config.get("fontSize.options")).filter(u=>u.model));o?(this._prepareAnyValueConverters(d),this._prepareCompatibilityConverter()):i.conversion.attributeToElement(d),i.commands.add(yi,new G1(i))}_prepareAnyValueConverters(i){const o=this.editor,a=i.model.values.filter(d=>{return!function(l){return Dp.test(l)}(String(d))&&(u=String(d),!Eu.test(u));var u});if(a.length)throw new S.a("font-size-invalid-use-of-named-presets",null,{presets:a});o.conversion.for("downcast").attributeToElement({model:yi,view:(d,{writer:u})=>{if(d)return u.createAttributeElement("span",{style:"font-size:"+d},{priority:7})}}),o.conversion.for("upcast").elementToAttribute({model:{key:yi,value:d=>d.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:yi,value:i=>{const o=i.getAttribute("size"),a="-"===o[0]||"+"===o[0];let d=parseInt(o,10);a&&(d=3+d);const u=Xi.length-1,f=Math.min(Math.max(d,0),u);return Xi[f]}}})}}var In=E(42);Ze()(In.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class tl extends le{static get pluginName(){return"FontSizeUI"}init(){const i=this.editor,o=i.t,a=this._getLocalizedOptions(),d=i.commands.get(yi);i.ui.componentFactory.add(yi,u=>{const f=ns(u);return x4(f,function(g,b){const _=new Nt;for(const C of g){const w={type:"button",model:new M2({commandName:yi,commandParam:C.model,label:C.title,class:"ck-fontsize-option",withText:!0})};C.view&&C.view.styles&&w.model.set("labelStyle",`font-size:${C.view.styles["font-size"]}`),C.view&&C.view.classes&&w.model.set("class",`${w.model.class} ${C.view.classes}`),w.model.bind("isOn").to(b,"value",D=>D===C.model),_.add(w)}return _}(a,d)),f.buttonView.set({label:o("Font Size"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),f.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),f.bind("isEnabled").to(d),this.listenTo(f,"execute",g=>{i.execute(g.source.commandName,{value:g.source.commandParam}),i.editing.view.focus()}),f})}_getLocalizedOptions(){const i=this.editor,o=i.t,a={Default:o("Default"),Tiny:o("Tiny"),Small:o("Small"),Big:o("Big"),Huge:o("Huge")};return p8(i.config.get(yi).options).map(d=>{const u=a[d.title];return u&&u!=d.title&&(d=Object.assign({},d,{title:u})),d})}}class Fi extends zt{refresh(){const i=this.editor.model,o=pn(i.document.selection.getSelectedBlocks());this.value=!!o&&o.is("element","paragraph"),this.isEnabled=!!o&&lt(o,i.schema)}execute(i={}){const o=this.editor.model,a=o.document;o.change(d=>{const u=(i.selection||a.selection).getSelectedBlocks();for(const f of u)!f.is("element","paragraph")&&lt(f,o.schema)&&d.rename(f,"paragraph")})}}function lt(l,i){return i.checkChild(l.parent,"paragraph")&&!i.isObject(l)}class ua extends zt{execute(i){const o=this.editor.model;let a=i.position;o.change(d=>{const u=d.createElement("paragraph");if(!o.schema.checkChild(a.parent,u)){const f=o.schema.findAllowedParent(a,u);if(!f)return;a=d.split(a,f).position}o.insertContent(u,a),d.setSelection(u,"in")})}}class vr extends le{static get pluginName(){return"Paragraph"}init(){const i=this.editor,o=i.model;i.commands.add("paragraph",new Fi(i)),i.commands.add("insertParagraph",new ua(i)),o.schema.register("paragraph",{inheritAllFrom:"$block"}),i.conversion.elementToElement({model:"paragraph",view:"p"}),i.conversion.for("upcast").elementToElement({model:(a,{writer:d})=>vr.paragraphLikeElements.has(a.name)?a.isEmpty?null:d.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}vr.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class ha extends zt{constructor(i,o){super(i),this.modelElements=o}refresh(){const i=pn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!i&&this.modelElements.includes(i.name)&&i.name,this.isEnabled=!!i&&this.modelElements.some(o=>as(i,o,this.editor.model.schema))}execute(i){const o=this.editor.model,a=o.document,d=i.value;o.change(u=>{const f=Array.from(a.selection.getSelectedBlocks()).filter(g=>as(g,d,o.schema));for(const g of f)g.is("element",d)||u.rename(g,d)})}}function as(l,i,o){return o.checkChild(l.parent,i)&&!o.isObject(l)}const _o="paragraph";class fa extends le{static get pluginName(){return"HeadingEditing"}constructor(i){super(i),i.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[vr]}init(){const i=this.editor,o=i.config.get("heading.options"),a=[];for(const d of o)d.model!==_o&&(i.model.schema.register(d.model,{inheritAllFrom:"$block"}),i.conversion.elementToElement(d),a.push(d.model));this._addDefaultH1Conversion(i),i.commands.add("heading",new ha(i,a))}afterInit(){const i=this.editor,o=i.commands.get("enter"),a=i.config.get("heading.options");o&&this.listenTo(o,"afterExecute",(d,u)=>{const f=i.model.document.selection.getFirstPosition().parent;a.some(g=>f.is("element",g.model))&&!f.is("element",_o)&&0===f.childCount&&u.writer.rename(f,_o)})}_addDefaultH1Conversion(i){i.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:fe.get("low")+1})}}var cs=E(43);Ze()(cs.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ga extends le{static get pluginName(){return"HeadingUI"}init(){const i=this.editor,o=i.t,a=function(f){const g=f.t,b={Paragraph:g("Paragraph"),"Heading 1":g("Heading 1"),"Heading 2":g("Heading 2"),"Heading 3":g("Heading 3"),"Heading 4":g("Heading 4"),"Heading 5":g("Heading 5"),"Heading 6":g("Heading 6")};return f.config.get("heading.options").map(_=>{const C=b[_.title];return C&&C!=_.title&&(_.title=C),_})}(i),d=o("Choose heading"),u=o("Heading");i.ui.componentFactory.add("heading",f=>{const g={},b=new Nt,_=i.commands.get("heading"),C=i.commands.get("paragraph"),w=[_];for(const x of a){const T={type:"button",model:new M2({label:x.title,class:x.class,withText:!0})};"paragraph"===x.model?(T.model.bind("isOn").to(C,"value"),T.model.set("commandName","paragraph"),w.push(C)):(T.model.bind("isOn").to(_,"value",R=>R===x.model),T.model.set({commandName:"heading",commandValue:x.model})),b.add(T),g[x.model]=x.title}const D=ns(f);return x4(D,b),D.buttonView.set({isOn:!1,withText:!0,tooltip:u}),D.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),D.bind("isEnabled").toMany(w,"isEnabled",(...x)=>x.some(T=>T)),D.buttonView.bind("label").to(_,"value",C,"value",(x,T)=>{const R=x||T&&"paragraph";return g[R]?g[R]:d}),this.listenTo(D,"execute",x=>{i.execute(x.source.commandName,x.source.commandValue?{value:x.source.commandValue}:void 0),i.editing.view.focus()}),D})}}class m8 extends zt{refresh(){const i=this.editor.model,o=i.document;this.value=o.selection.getAttribute("highlight"),this.isEnabled=i.schema.checkAttributeInSelection(o.selection,"highlight")}execute(i={}){const o=this.editor.model,a=o.document.selection,d=i.value;o.change(u=>{const f=o.schema.getValidRanges(a.getRanges(),"highlight");if(a.isCollapsed){const g=a.getFirstPosition();if(a.hasAttribute("highlight")){const b=D=>D.item.hasAttribute("highlight")&&D.item.getAttribute("highlight")===this.value,_=g.getLastMatchingPosition(b,{direction:"backward"}),C=g.getLastMatchingPosition(b),w=u.createRange(_,C);d&&this.value!==d?(u.setAttribute("highlight",d,w),u.setSelectionAttribute("highlight",d)):(u.removeAttribute("highlight",w),u.removeSelectionAttribute("highlight"))}else d&&u.setSelectionAttribute("highlight",d)}else for(const g of f)d?u.setAttribute("highlight",d,g):u.removeAttribute("highlight",g)})}}class b8 extends le{static get pluginName(){return"HighlightEditing"}constructor(i){super(i),i.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"highlight"});const o=i.config.get("highlight.options");i.conversion.attributeToElement(function(a){const d={model:{key:"highlight",values:[]},view:{}};for(const u of a)d.model.values.push(u.model),d.view[u.model]={name:"mark",classes:u.class};return d}(o)),i.commands.add("highlight",new m8(i))}}var e6=E(44);Ze()(e6.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _8 extends le{get localizedOptionTitles(){const i=this.editor.t;return{"Yellow marker":i("Yellow marker"),"Green marker":i("Green marker"),"Pink marker":i("Pink marker"),"Blue marker":i("Blue marker"),"Red pen":i("Red pen"),"Green pen":i("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const i=this.editor.config.get("highlight.options");for(const o of i)this._addHighlighterButton(o);this._addRemoveHighlightButton(),this._addDropdown(i)}_addRemoveHighlightButton(){const i=this.editor.t,o=this.editor.commands.get("highlight");this._addButton("removeHighlight",i("Remove highlight"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',null,a=>{a.bind("isEnabled").to(o,"isEnabled")})}_addHighlighterButton(i){const o=this.editor.commands.get("highlight");this._addButton("highlight:"+i.model,i.title,t6(i.type),i.model,function(a){a.bind("isEnabled").to(o,"isEnabled"),a.bind("isOn").to(o,"value",d=>d===i.model),a.iconView.fillColor=i.color,a.isToggleable=!0})}_addButton(i,o,a,d,u){const f=this.editor;f.ui.componentFactory.add(i,g=>{const b=new $t(g);return b.set({label:this.localizedOptionTitles[o]?this.localizedOptionTitles[o]:o,icon:a,tooltip:!0}),b.on("execute",()=>{f.execute("highlight",{value:d}),f.editing.view.focus()}),u(b),b})}_addDropdown(i){const o=this.editor,a=o.t,d=o.ui.componentFactory,u=i[0],f=i.reduce((g,b)=>(g[b.model]=b,g),{});d.add("highlight",g=>{const b=o.commands.get("highlight"),_=ns(g,p4),C=_.buttonView;C.set({tooltip:a("Highlight"),lastExecuted:u.model,commandValue:u.model,isToggleable:!0}),C.bind("icon").to(b,"value",x=>t6(D(x,"type"))),C.bind("color").to(b,"value",x=>D(x,"color")),C.bind("commandValue").to(b,"value",x=>D(x,"model")),C.bind("isOn").to(b,"value",x=>!!x),C.delegate("execute").to(_);const w=i.map(x=>{const T=d.create("highlight:"+x.model);return this.listenTo(T,"execute",()=>_.buttonView.set({lastExecuted:x.model})),T});function D(x,T){return f[x&&x!==C.lastExecuted?x:C.lastExecuted][T]}return _.bind("isEnabled").toMany(w,"isEnabled",(...x)=>x.some(T=>T)),w.push(new A2),w.push(d.create("removeHighlight")),D4(_,w),(x=_).buttonView.actionView.iconView.bind("fillColor").to(x.buttonView,"color"),_.toolbarView.ariaLabel=a("Text highlight toolbar"),C.on("execute",()=>{o.execute("highlight",{value:C.commandValue}),o.editing.view.focus()}),_;var x})}}function t6(l){return"marker"===l?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'}class C8 extends le{static get pluginName(){return"IndentEditing"}init(){const i=this.editor;i.commands.add("indent",new H3(i)),i.commands.add("outdent",new H3(i))}}var n6='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',i6='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Yp extends le{static get pluginName(){return"IndentUI"}init(){const i=this.editor,o=i.locale,a=i.t,d="ltr"==o.uiLanguageDirection?n6:i6,u="ltr"==o.uiLanguageDirection?i6:n6;this._defineButton("indent",a("Increase indent"),d),this._defineButton("outdent",a("Decrease indent"),u)}_defineButton(i,o,a){const d=this.editor;d.ui.componentFactory.add(i,u=>{const f=d.commands.get(i),g=new $t(u);return g.set({label:o,icon:a,tooltip:!0}),g.bind("isOn","isEnabled").to(f,"value","isEnabled"),this.listenTo(g,"execute",()=>{d.execute(i),d.editing.view.focus()}),g})}}const ee="italic";class Qp extends le{static get pluginName(){return"ItalicEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:ee}),i.model.schema.setAttributeProperties(ee,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:ee,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),i.commands.add(ee,new j2(i,ee)),i.keystrokes.set("CTRL+I",ee)}}const er="italic";class k8 extends le{static get pluginName(){return"ItalicUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add(er,a=>{const d=i.commands.get(er),u=new $t(a);return u.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(u,"execute",()=>{i.execute(er),i.editing.view.focus()}),u})}}class Xp{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(i){Array.isArray(i)?i.forEach(o=>this._definitions.add(o)):this._definitions.add(i)}getDispatcher(){return i=>{i.on("attribute:linkHref",(o,a,d)=>{if(!d.consumable.test(a.item,"attribute:linkHref"))return;const u=d.writer,f=u.document.selection;for(const g of this._definitions){const b=u.createAttributeElement("a",g.attributes,{priority:5});u.setCustomProperty("link",!0,b),g.callback(a.attributeNewValue)?a.item.is("selection")?u.wrap(f.getFirstRange(),b):u.wrap(d.mapper.toViewRange(a.range),b):u.unwrap(d.mapper.toViewRange(a.range),b)}},{priority:"high"})}}getDispatcherForLinkedImage(){return i=>{i.on("attribute:linkHref:image",(o,a,d)=>{const u=d.mapper.toViewElement(a.item),f=Array.from(u.getChildren()).find(g=>"a"===g.name);for(const g of this._definitions){const b=ro(g.attributes);if(g.callback(a.attributeNewValue))for(const[_,C]of b)"class"===_?d.writer.addClass(C,f):d.writer.setAttribute(_,C,f);else for(const[_,C]of b)"class"===_?d.writer.removeClass(C,f):d.writer.removeAttribute(_,f)}})}}}var w8=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),y8=function(l){return w8.test(l)},r6="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",D8="\\ud83c[\\udffb-\\udfff]",x8="[^\\ud800-\\udfff]",nl="(?:\\ud83c[\\udde6-\\uddff]){2}",il="[\\ud800-\\udbff][\\udc00-\\udfff]",M8="(?:"+r6+"|"+D8+")?",n7="[\\ufe0e\\ufe0f]?",Rb=n7+M8+"(?:\\u200d(?:"+[x8,nl,il].join("|")+")"+n7+M8+")*",Vb="(?:"+[x8+r6+"?",r6,nl,il,"[\\ud800-\\udfff]"].join("|")+")",i7=RegExp(D8+"(?="+D8+")|"+Vb+Rb,"g"),Fb=function(l){return y8(l)?function(l){return l.match(i7)||[]}(l):function(l){return l.split("")}(l)},r7=function(i){i=id(i);var o=y8(i)?Fb(i):void 0,a=o?o[0]:i.charAt(0),d=o?function(l,i,o){var a=l.length;return o=void 0===o?a:o,!i&&o>=a?l:J5(l,i,o)}(o,1).join(""):i.slice(1);return a.toUpperCase()+d};const ma=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,o7=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,S8=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,s7=/^((\w+:(\/{2,})?)|(\W))/i,rl="Ctrl+K";function W1(l,{writer:i}){const o=i.createAttributeElement("a",{href:l},{priority:5});return i.setCustomProperty("link",!0,o),o}function N8(l){return function(i){return i.replace(ma,"").match(o7)}(l=String(l))?l:"#"}function ol(l,i){return!!l&&l.is("element","image")&&i.checkAttribute("image","linkHref")}function T8(l,i){const o=S8.test(l)?"mailto:":i,d=!!o&&!s7.test(l);return l&&d?o+l:l}class a7 extends zt{constructor(i){super(i),this.manualDecorators=new Nt,this.automaticDecorators=new Xp}restoreManualDecoratorStates(){for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}refresh(){const i=this.editor.model,o=i.document,a=pn(o.selection.getSelectedBlocks());ol(a,i.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttribute(a,"linkHref")):(this.value=o.selection.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttributeInSelection(o.selection,"linkHref"));for(const d of this.manualDecorators)d.value=this._getDecoratorStateFromModel(d.id)}execute(i,o={}){const a=this.editor.model,d=a.document.selection,u=[],f=[];for(const g in o)o[g]?u.push(g):f.push(g);a.change(g=>{if(d.isCollapsed){const b=d.getFirstPosition();if(d.hasAttribute("linkHref")){const _=mo(b,"linkHref",d.getAttribute("linkHref"),a);g.setAttribute("linkHref",i,_),u.forEach(C=>{g.setAttribute(C,!0,_)}),f.forEach(C=>{g.removeAttribute(C,_)}),g.setSelection(g.createPositionAfter(_.end.nodeBefore))}else if(""!==i){const _=ro(d.getAttributes());_.set("linkHref",i),u.forEach(w=>{_.set(w,!0)});const{end:C}=a.insertContent(g.createText(i,_),b);g.setSelection(C)}["linkHref",...u,...f].forEach(_=>{g.removeSelectionAttribute(_)})}else{const b=a.schema.getValidRanges(d.getRanges(),"linkHref"),_=[];for(const w of d.getSelectedBlocks())a.schema.checkAttribute(w,"linkHref")&&_.push(g.createRangeOn(w));const C=_.slice();for(const w of b)this._isRangeToUpdate(w,_)&&C.push(w);for(const w of C)g.setAttribute("linkHref",i,w),u.forEach(D=>{g.setAttribute(D,!0,w)}),f.forEach(D=>{g.removeAttribute(D,w)})}})}_getDecoratorStateFromModel(i){const o=this.editor.model,a=o.document,d=pn(a.selection.getSelectedBlocks());return ol(d,o.schema)?d.getAttribute(i):a.selection.getAttribute(i)}_isRangeToUpdate(i,o){for(const a of o)if(a.containsRange(i))return!1;return!0}}class c7 extends zt{refresh(){const i=this.editor.model,o=i.document,a=pn(o.selection.getSelectedBlocks());this.isEnabled=ol(a,i.schema)?i.schema.checkAttribute(a,"linkHref"):i.schema.checkAttributeInSelection(o.selection,"linkHref")}execute(){const o=this.editor.model,a=o.document.selection,d=this.editor.commands.get("link");o.change(u=>{const f=a.isCollapsed?[mo(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),o)]:o.schema.getValidRanges(a.getRanges(),"linkHref");for(const g of f)if(u.removeAttribute("linkHref",g),d)for(const b of d.manualDecorators)u.removeAttribute(b.id,g)})}}class I8{constructor({id:i,label:o,attributes:a,defaultValue:d}){this.id=i,this.set("value"),this.defaultValue=d,this.label=o,this.attributes=a}}Ee(I8,ln);var P8=E(45);Ze()(P8.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const O8="automatic",L8=/^(https?:)?\/\//;class R8 extends le{static get pluginName(){return"LinkEditing"}static get requires(){return[B4,F2,sa]}constructor(i){super(i),i.config.define("link",{addTargetToExternalLinks:!1})}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"linkHref"}),i.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:W1}),i.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(a,d)=>W1(N8(a),d)}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:a=>a.getAttribute("href")}}),i.commands.add("link",new a7(i)),i.commands.add("unlink",new c7(i));const o=function(a,d){const u={"Open in a new tab":a("Open in a new tab"),Downloadable:a("Downloadable")};return d.forEach(f=>(f.label&&u[f.label]&&(f.label=u[f.label]),f)),d}(i.t,function(a){const d=[];if(a)for(const[u,f]of Object.entries(a)){const g=Object.assign({},f,{id:`link${r7(u)}`});d.push(g)}return d}(i.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(a=>a.mode===O8)),this._enableManualDecorators(o.filter(a=>"manual"===a.mode)),i.plugins.get(B4).registerAttribute("linkHref"),function(a,d,u,f){const g=a.editing.view,b=new Set;g.document.registerPostFixer(_=>{const C=a.model.document.selection;let w=!1;if(C.hasAttribute(d)){const D=mo(C.getFirstPosition(),d,C.getAttribute(d),a.model),x=a.editing.mapper.toViewRange(D);for(const T of x.getItems())T.is("element","a")&&!T.hasClass(f)&&(_.addClass(f,T),b.add(T),w=!0)}return w}),a.conversion.for("editingDowncast").add(_=>{function C(){g.change(w=>{for(const D of b.values())w.removeClass(f,D),b.delete(D)})}_.on("insert",C,{priority:"highest"}),_.on("remove",C,{priority:"highest"}),_.on("attribute",C,{priority:"highest"}),_.on("selection",C,{priority:"highest"})})}(i,"linkHref",0,"ck-link_selected"),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(i){const o=this.editor,a=o.commands.get("link").automaticDecorators;o.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:O8,callback:d=>L8.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(i),a.length&&o.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(i){if(!i.length)return;const o=this.editor,a=o.commands.get("link").manualDecorators;i.forEach(d=>{o.model.schema.extend("$text",{allowAttributes:d.id}),a.add(new I8(d)),o.conversion.for("downcast").attributeToElement({model:d.id,view:(u,{writer:f})=>{if(u){const g=a.get(d.id).attributes,b=f.createAttributeElement("a",g,{priority:5});return f.setCustomProperty("link",!0,b),b}}}),o.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:a.get(d.id).attributes},model:{key:d.id}})})}_enableInsertContentSelectionAttributesFixer(){const i=this.editor,o=i.model,a=o.document.selection,d=i.commands.get("link");this.listenTo(o,"insertContent",()=>{const u=a.anchor.nodeBefore,f=a.anchor.nodeAfter;a.hasAttribute("linkHref")&&u&&u.hasAttribute("linkHref")&&(f&&f.hasAttribute("linkHref")||o.change(g=>{q1(g,d.manualDecorators)}))},{priority:"low"})}_enableClickingAfterLink(){const i=this.editor,o=i.commands.get("link");i.editing.view.addObserver(z2);let a=!1;this.listenTo(i.editing.view.document,"mousedown",()=>{a=!0}),this.listenTo(i.editing.view.document,"selectionChange",()=>{if(!a)return;a=!1;const d=i.model.document.selection;if(!d.isCollapsed||!d.hasAttribute("linkHref"))return;const u=d.getFirstPosition(),f=mo(u,"linkHref",d.getAttribute("linkHref"),i.model);(u.isTouching(f.start)||u.isTouching(f.end))&&i.model.change(g=>{q1(g,o.manualDecorators)})})}_enableTypingOverLink(){const i=this.editor;let a,d;this.listenTo(i.editing.view.document,"delete",()=>{d=!0},{priority:"high"}),this.listenTo(i.model,"deleteContent",()=>{const u=i.model.document.selection;u.isCollapsed||(d?d=!1:l7(i)&&function(f){const g=f.document.selection,b=g.getFirstPosition(),_=g.getLastPosition(),C=b.nodeAfter;return!!(C&&C.is("$text")&&C.hasAttribute("linkHref"))&&(C===(_.textNode||_.nodeBefore)||mo(b,"linkHref",C.getAttribute("linkHref"),f).containsRange(f.createRange(b,_),!0))}(i.model)&&(a=u.getAttributes()))},{priority:"high"}),this.listenTo(i.model,"insertContent",(u,[f])=>{d=!1,l7(i)&&a&&(i.model.change(g=>{for(const[b,_]of a)g.setAttribute(b,_,f)}),a=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const i=this.editor,o=i.model,a=o.document.selection,d=i.editing.view,u=i.commands.get("link");let f=!1,g=!1;this.listenTo(d.document,"delete",(b,_)=>{g=_.domEvent.keyCode===Le.backspace},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{f=!1;const b=a.getFirstPosition(),_=a.getAttribute("linkHref");if(!_)return;const C=mo(b,"linkHref",_,o);f=C.containsPosition(b)||C.end.isEqual(b)},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{g&&(g=!1,f||i.model.enqueueChange(b=>{q1(b,u.manualDecorators)}))},{priority:"low"})}}function q1(l,i){l.removeSelectionAttribute("linkHref");for(const o of i)l.removeSelectionAttribute(o.id)}function l7(l){return l.plugins.get("Input").isInput(l.model.change(i=>i.batch))}var sl=E(46),u7=(Ze()(sl.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),E(47));Ze()(u7.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class o6 extends Xe{constructor(i,o){super(i);const a=i.t;this.focusTracker=new Xn,this.keystrokes=new Gs,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(o),this.children=this._createFormChildren(o.manualDecorators),this._focusables=new Qs,this._focusCycler=new ea({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];var u;o.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children}),(u=this).set("_isCssTransitionsDisabled",!1),u.disableCssTransitions=()=>{u._isCssTransitionsDisabled=!0},u.enableCssTransitions=()=>{u._isCssTransitionsDisabled=!1},u.extendTemplate({attributes:{class:[u.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((i,o)=>(i[o.name]=o.isOn,i),{})}render(){super.render(),function({view:i}){i.listenTo(i.element,"submit",(o,a)=>{a.preventDefault(),i.fire("submit")},{useCapture:!0})}({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const i=this.locale.t,o=new Yi(this.locale,ku);return o.label=i("Link URL"),o}_createButton(i,o,a,d){const u=new $t(this.locale);return u.set({label:i,icon:o,tooltip:!0}),u.extendTemplate({attributes:{class:a}}),d&&u.delegate("execute").to(this,d),u}_createManualDecoratorSwitches(i){const o=this.createCollection();for(const a of i.manualDecorators){const d=new _2(this.locale);d.set({name:a.id,label:a.label,withText:!0}),d.bind("isOn").toMany([a,i],"value",(u,f)=>void 0===f&&void 0===u?a.defaultValue:u),d.on("execute",()=>{a.set("value",!d.isOn)}),o.add(d)}return o}_createFormChildren(i){const o=this.createCollection();if(o.add(this.urlInputView),i.length){const a=new Xe;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(d=>({tag:"li",children:[d],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(a)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}}var J=E(48);Ze()(J.a,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class h7 extends Xe{constructor(i){super(i);const o=i.t;this.focusTracker=new Xn,this.keystrokes=new Gs,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(o("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',"edit"),this.set("href"),this._focusables=new Qs,this._focusCycler=new ea({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(i,o,a){const d=new $t(this.locale);return d.set({label:i,icon:o,tooltip:!0}),d.delegate("execute").to(this,a),d}_createPreviewButton(){const i=new $t(this.locale),o=this.bindTemplate,a=this.t;return i.set({withText:!0,tooltip:a("Open link in new tab")}),i.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",d=>d&&N8(d)),target:"_blank",rel:"noopener noreferrer"}}),i.bind("label").to(this,"href",d=>d||a("This link has no URL")),i.bind("isEnabled").to(this,"href",d=>!!d),i.template.tag="a",i.template.eventListeners={},i}}const I="link-ui";class P extends le{static get requires(){return[bp]}static get pluginName(){return"LinkUI"}init(){const i=this.editor;i.editing.view.addObserver(I4),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=i.plugins.get(bp),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),i.conversion.for("editingDowncast").markerToHighlight({model:I,view:{classes:["ck-fake-link-selection"]}}),i.conversion.for("editingDowncast").markerToElement({model:I,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const i=this.editor,o=new h7(i.locale),a=i.commands.get("link"),d=i.commands.get("unlink");return o.bind("href").to(a,"value"),o.editButtonView.bind("isEnabled").to(a),o.unlinkButtonView.bind("isEnabled").to(d),this.listenTo(o,"edit",()=>{this._addFormView()}),this.listenTo(o,"unlink",()=>{i.execute("unlink"),this._hideUI()}),o.keystrokes.set("Esc",(u,f)=>{this._hideUI(),f()}),o.keystrokes.set(rl,(u,f)=>{this._addFormView(),f()}),o}_createFormView(){const i=this.editor,o=i.commands.get("link"),a=i.config.get("link.defaultProtocol"),d=new o6(i.locale,o);return d.urlInputView.fieldView.bind("value").to(o,"value"),d.urlInputView.bind("isReadOnly").to(o,"isEnabled",u=>!u),d.saveButtonView.bind("isEnabled").to(o),this.listenTo(d,"submit",()=>{const{value:u}=d.urlInputView.fieldView.element,f=T8(u,a);i.execute("link",f,d.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(d,"cancel",()=>{this._closeFormView()}),d.keystrokes.set("Esc",(u,f)=>{this._closeFormView(),f()}),d}_createToolbarLinkButton(){const i=this.editor,o=i.commands.get("link"),a=i.t;i.keystrokes.set(rl,(d,u)=>{u(),o.isEnabled&&this._showUI(!0)}),i.ui.componentFactory.add("link",d=>{const u=new $t(d);return u.isEnabled=!0,u.label=a("Link"),u.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',u.keystroke=rl,u.tooltip=!0,u.isToggleable=!0,u.bind("isEnabled").to(o,"isEnabled"),u.bind("isOn").to(o,"value",f=>!!f),this.listenTo(u,"execute",()=>this._showUI(!0)),u})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(o,a)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),a())},{priority:"high"}),this.editor.keystrokes.set("Esc",(o,a)=>{this._isUIVisible&&(this._hideUI(),a())}),iu({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const i=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=i.value||""}_closeFormView(){const i=this.editor.commands.get("link");i.restoreManualDecoratorStates(),void 0!==i.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(i=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),i&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),i&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const i=this.editor;this.stopListening(i.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),i.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const i=this.editor,o=i.editing.view.document;let a=this._getSelectedLinkElement(),d=f();const u=()=>{const g=this._getSelectedLinkElement(),b=f();a&&!g||!a&&b!==d?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=g,d=b};function f(){return o.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(i.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const i=this.editor.editing.view,a=i.document;let d=null;if(this.editor.model.markers.has(I)){const u=Array.from(this.editor.editing.mapper.markerNameToElements(I)),f=i.createRange(i.createPositionBefore(u[0]),i.createPositionAfter(u[u.length-1]));d=i.domConverter.viewRangeToDom(f)}else{const u=this._getSelectedLinkElement(),f=a.selection.getFirstRange();d=u?i.domConverter.mapViewToDom(u):i.domConverter.viewRangeToDom(f)}return{target:d}}_getSelectedLinkElement(){const i=this.editor.editing.view,o=i.document.selection;if(o.isCollapsed)return Fe(o.getFirstPosition());{const a=o.getFirstRange().getTrimmed(),d=Fe(a.start),u=Fe(a.end);return d&&d==u&&i.createRangeIn(d).getTrimmed().isEqual(a)?d:null}}_showFakeVisualSelection(){const i=this.editor.model;i.change(o=>{const a=i.document.selection.getFirstRange();if(i.markers.has(I))o.updateMarker(I,{range:a});else if(a.start.isAtEnd){const d=a.start.getLastMatchingPosition(({item:u})=>!i.schema.isContent(u),{boundaries:a});o.addMarker(I,{usingOperation:!1,affectsData:!1,range:o.createRange(d,a.end)})}else o.addMarker(I,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const i=this.editor.model;i.markers.has(I)&&i.change(o=>{o.removeMarker(I)})}}function Fe(l){return l.getAncestors().find(i=>{return(o=i).is("attributeElement")&&!!o.getCustomProperty("link");var o})}const Hb=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class f7 extends le{static get pluginName(){return"AutoLink"}init(){const i=this.editor.model.document.selection;i.on("change:range",()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const i=this.editor,o=new H4(i.model,d=>{if(!((f=d).length>4&&" "===f[f.length-1]&&" "!==f[f.length-2]))return;var f;const u=a6(d.substr(0,d.length-1));return u?{url:u}:void 0}),a=i.plugins.get("Input");o.on("matched:data",(d,u)=>{const{batch:f,range:g,url:b}=u;if(!a.isInput(f))return;const _=g.end.getShiftedBy(-1),C=_.getShiftedBy(-b.length),w=i.model.createRange(C,_);this._applyAutoLink(b,w)}),o.bind("isEnabled").to(this)}_enableEnterHandling(){const i=this.editor,o=i.model,a=i.commands.get("enter");a&&a.on("execute",()=>{const d=o.document.selection.getFirstPosition();if(!d.parent.previousSibling)return;const u=o.createRangeIn(d.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(u)})}_enableShiftEnterHandling(){const i=this.editor,o=i.model,a=i.commands.get("shiftEnter");a&&a.on("execute",()=>{const d=o.document.selection.getFirstPosition(),u=o.createRange(o.createPositionAt(d.parent,0),d.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(u)})}_checkAndApplyAutoLinkOnRange(i){const o=this.editor.model,{text:a,range:d}=F4(i,o),u=a6(a);if(u){const f=o.createRange(d.end.getShiftedBy(-u.length),d.end);this._applyAutoLink(u,f)}}_applyAutoLink(i,o){const a=this.editor.model;var u;this.isEnabled&&(u=a).schema.checkAttributeInSelection(u.createSelection(o),"linkHref")&&a.enqueueChange(d=>{const u=this.editor.config.get("link.defaultProtocol"),f=T8(i,u);d.setAttribute("linkHref",f,o)})}}function a6(l){const i=Hb.exec(l);return i?i[2]:null}class c6 extends zt{constructor(i,o){super(i),this.type=o}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor.model,d=Array.from(o.document.selection.getSelectedBlocks()).filter(f=>yn(f,o.schema)),u=void 0!==i.forceValue?!i.forceValue:this.value;o.change(f=>{if(u){let g=d[d.length-1].nextSibling,b=Number.POSITIVE_INFINITY,_=[];for(;g&&"listItem"==g.name&&0!==g.getAttribute("listIndent");){const C=g.getAttribute("listIndent");C<b&&(b=C),_.push({element:g,listIndent:C-b}),g=g.nextSibling}_=_.reverse();for(const C of _)f.setAttribute("listIndent",C.listIndent,C.element)}if(!u){let g=Number.POSITIVE_INFINITY;for(const b of d)b.is("element","listItem")&&b.getAttribute("listIndent")<g&&(g=b.getAttribute("listIndent"));g=0===g?1:g,V8(d,!0,g),V8(d,!1,g)}for(const g of d.reverse())u&&"listItem"==g.name?f.rename(g,"paragraph"):u||"listItem"==g.name?u||"listItem"!=g.name||g.getAttribute("listType")==this.type||f.setAttribute("listType",this.type,g):(f.setAttributes({listType:this.type,listIndent:0},g),f.rename(g,"listItem"));this.fire("_executeCleanup",d)})}_getValue(){const i=pn(this.editor.model.document.selection.getSelectedBlocks());return!!i&&i.is("element","listItem")&&i.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,a=pn(this.editor.model.document.selection.getSelectedBlocks());return!!a&&yn(a,o)}}function V8(l,i,o){const a=i?l[0]:l[l.length-1];if(a.is("element","listItem")){let d=a[i?"previousSibling":"nextSibling"],u=a.getAttribute("listIndent");for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=o;)u>d.getAttribute("listIndent")&&(u=d.getAttribute("listIndent")),d.getAttribute("listIndent")==u&&l[i?"unshift":"push"](d),d=d[i?"previousSibling":"nextSibling"]}}function yn(l,i){return i.checkChild(l.parent,"listItem")&&!i.isObject(l)}class ba extends zt{constructor(i,o){super(i),this._indentBy="forward"==o?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;let a=Array.from(i.document.selection.getSelectedBlocks());i.change(d=>{const u=a[a.length-1];let f=u.nextSibling;for(;f&&"listItem"==f.name&&f.getAttribute("listIndent")>u.getAttribute("listIndent");)a.push(f),f=f.nextSibling;this._indentBy<0&&(a=a.reverse());for(const g of a){const b=g.getAttribute("listIndent")+this._indentBy;b<0?d.rename(g,"paragraph"):d.setAttribute("listIndent",b,g)}this.fire("_executeCleanup",a)})}_checkEnabled(){const i=pn(this.editor.model.document.selection.getSelectedBlocks());if(!i||!i.is("element","listItem"))return!1;if(this._indentBy>0){const o=i.getAttribute("listIndent"),a=i.getAttribute("listType");let d=i.previousSibling;for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=o;){if(d.getAttribute("listIndent")==o)return d.getAttribute("listType")==a;d=d.previousSibling}return!1}return!0}}function al(l,i,o,a){const d=i.parent,u=o.mapper,f=o.writer;let g=u.toViewPosition(a.createPositionBefore(l));const b=H8(l.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:l.getAttribute("listIndent")}),_=l.previousSibling;if(b&&b.getAttribute("listIndent")==l.getAttribute("listIndent")){const C=u.toViewElement(b);g=f.breakContainer(f.createPositionAfter(C))}else if(_&&"listItem"==_.name){g=u.toViewPosition(a.createPositionAt(_,"end"));const C=u.findMappedViewAncestor(g),w=function(D){for(const x of D.getChildren())if("ul"==x.name||"ol"==x.name)return x;return null}(C);g=w?f.createPositionBefore(w):f.createPositionAt(C,"end")}else g=u.toViewPosition(a.createPositionBefore(l));if(g=l6(g),f.insert(g,d),_&&"listItem"==_.name){const C=u.toViewElement(_),w=f.createRange(f.createPositionAt(C,0),g).getWalker({ignoreElementEnd:!0});for(const D of w)if(D.item.is("element","li")){const x=f.breakContainer(f.createPositionBefore(D.item)),T=D.item.parent,R=f.createPositionAt(i,"end");de(f,R.nodeBefore,R.nodeAfter),f.move(f.createRangeOn(T),R),w.position=x}}else{const C=d.nextSibling;if(C&&(C.is("element","ul")||C.is("element","ol"))){let w=null;for(const D of C.getChildren()){const x=u.toModelElement(D);if(!(x&&x.getAttribute("listIndent")>l.getAttribute("listIndent")))break;w=D}w&&(f.breakContainer(f.createPositionAfter(w)),f.move(f.createRangeOn(w.parent),f.createPositionAt(i,"end")))}}de(f,d,d.nextSibling),de(f,d.previousSibling,d)}function de(l,i,o){return!i||!o||"ul"!=i.name&&"ol"!=i.name||i.name!=o.name||i.getAttribute("class")!==o.getAttribute("class")?null:l.mergeContainers(l.createPositionAfter(i))}function l6(l){return l.getLastMatchingPosition(i=>i.item.is("uiElement"))}function H8(l,i){const o=!!i.sameIndent,a=!!i.smallerIndent,d=i.listIndent;let u=l;for(;u&&"listItem"==u.name;){const f=u.getAttribute("listIndent");if(o&&d==f||a&&d>f)return u;u="forward"===i.direction?u.nextSibling:u.previousSibling}return null}function d6(l,i,o,a){l.ui.componentFactory.add(i,d=>{const u=l.commands.get(i),f=new $t(d);return f.set({label:o,icon:a,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(u,"value","isEnabled"),f.on("execute",()=>{l.execute(i),l.editing.view.focus()}),f})}function B8(){const l=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||l?0:qt.call(this)}function cl(l){return(i,o,a)=>{const d=a.consumable;if(!d.test(o.item,"insert")||!d.test(o.item,"attribute:listType")||!d.test(o.item,"attribute:listIndent"))return;d.consume(o.item,"insert"),d.consume(o.item,"attribute:listType"),d.consume(o.item,"attribute:listIndent");const u=o.item;al(u,function(l,i){const o=i.mapper,a=i.writer,d="numbered"==l.getAttribute("listType")?"ol":"ul",u=function(g){const b=g.createContainerElement("li");return b.getFillerOffset=B8,b}(a),f=a.createContainerElement(d,null);return a.insert(a.createPositionAt(f,0),u),o.bindElements(l,u),u}(u,a),a,l)}}function he(l,i,o){if(!o.consumable.consume(i.item,"attribute:listType"))return;const a=o.mapper.toViewElement(i.item),d=o.writer;d.breakContainer(d.createPositionBefore(a)),d.breakContainer(d.createPositionAfter(a)),d.rename("numbered"==i.attributeNewValue?"ol":"ul",a.parent)}function p7(l,i,o){const a=o.mapper.toViewElement(i.item).parent,d=o.writer;de(d,a,a.nextSibling),de(d,a.previousSibling,a);for(const u of i.item.getChildren())o.consumable.consume(u,"insert")}function ll(l,i,o){if("listItem"!=i.item.name){let a=o.mapper.toViewPosition(i.range.start);const d=o.writer,u=[];for(;("ul"==a.parent.name||"ol"==a.parent.name)&&(a=d.breakContainer(a),"li"==a.parent.name);){const f=a,g=d.createPositionAt(a.parent,"end");if(!f.isEqual(g)){const b=d.remove(d.createRange(f,g));u.push(b)}a=d.createPositionAfter(a.parent)}if(u.length>0){for(let f=0;f<u.length;f++){const g=a.nodeBefore;if(a=d.insert(a,u[f]).end,f>0){const b=de(d,g,g.nextSibling);b&&b.parent==g&&a.offset--}}de(d,a.nodeBefore,a.nodeAfter)}}}function u6(l,i,o){const a=o.mapper.toViewPosition(i.position);de(o.writer,a.nodeBefore,a.nodeAfter)}function dl(l,i,o){if(o.consumable.consume(i.viewItem,{name:!0})){const a=o.writer,d=a.createElement("listItem"),u=function(b){let _=0,C=b.parent;for(;C;){if(C.is("element","li"))_++;else{const w=C.previousSibling;w&&w.is("element","li")&&_++}C=C.parent}return _}(i.viewItem);if(a.setAttribute("listIndent",u,d),a.setAttribute("listType",i.viewItem.parent&&"ol"==i.viewItem.parent.name?"numbered":"bulleted",d),!o.safeInsert(d,i.modelCursor))return;const g=function(b,_,C){const{writer:w,schema:D}=C;let x=w.createPositionAfter(b);for(const T of _)if("ul"==T.name||"ol"==T.name)x=C.convertItem(T,x).modelCursor;else{const R=C.convertItem(T,w.createPositionAt(b,"end")),L=R.modelRange.start.nodeAfter;L&&L.is("element")&&!D.checkChild(b,L.name)&&(b=R.modelCursor.parent.is("element","listItem")?R.modelCursor.parent:U8(R.modelCursor),x=w.createPositionAfter(b))}return x}(d,i.viewItem.getChildren(),o);i.modelRange=a.createRange(i.modelCursor,g),o.updateConversionResult(d,i)}}function va(l,i,o){if(o.consumable.test(i.viewItem,{name:!0})){const a=Array.from(i.viewItem.getChildren());for(const d of a)!d.is("element","li")&&!Co(d)&&d._remove()}}function j8(l,i,o){if(o.consumable.test(i.viewItem,{name:!0})){if(0===i.viewItem.childCount)return;const a=[...i.viewItem.getChildren()];let d=!1,u=!0;for(const f of a)d&&!Co(f)&&f._remove(),f.is("$text")?(u&&(f._data=f.data.trimStart()),f.nextSibling&&!Co(f.nextSibling)||(f._data=f.data.trimEnd())):Co(f)&&(d=!0),u=!1}}function h6(l){return(i,o)=>{if(o.isPhantom)return;const a=o.modelPosition.nodeBefore;if(a&&a.is("element","listItem")){const d=o.mapper.toViewElement(a),u=d.getAncestors().find(Co),f=l.createPositionAt(d,0).getWalker();for(const g of f){if("elementStart"==g.type&&g.item.is("element","li")){o.viewPosition=g.previousPosition;break}if("elementEnd"==g.type&&g.item==u){o.viewPosition=g.nextPosition;break}}}}}function G8(l,[i,o]){let a,d=i.is("documentFragment")?i.getChild(0):i;if(a=o?this.createSelection(o):this.document.selection,d&&d.is("element","listItem")){const u=a.getFirstPosition();let f=null;if(u.parent.is("element","listItem")?f=u.parent:u.nodeBefore&&u.nodeBefore.is("element","listItem")&&(f=u.nodeBefore),f){const g=f.getAttribute("listIndent");if(g>0)for(;d&&d.is("element","listItem");)d._setAttribute("listIndent",d.getAttribute("listIndent")+g),d=d.nextSibling}}}function U8(l){const i=new Ir({startPosition:l});let o;do{o=i.next()}while(!o.value.item.is("element","listItem"));return o.value.item}function f6(l,i,o,a,d,u){const f=H8(i.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:l,foo:"b"}),g=d.mapper,b=d.writer,_=f?f.getAttribute("listIndent"):null;let C;if(f)if(_==l){const w=g.toViewElement(f).parent;C=b.createPositionAfter(w)}else{const w=u.createPositionAt(f,"end");C=g.toViewPosition(w)}else C=o;C=l6(C);for(const w of[...a.getChildren()])Co(w)&&(C=b.move(b.createRangeOn(w),C).end,de(b,w,w.nextSibling),de(b,w.previousSibling,w))}function Co(l){return l.is("element","ol")||l.is("element","ul")}class $8 extends le{static get pluginName(){return"ListEditing"}static get requires(){return[O1,L1]}init(){const i=this.editor;i.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const o=i.data,a=i.editing;var d;i.model.document.registerPostFixer(g=>function(b,_){const C=b.document.differ.getChanges(),w=new Map;let D=!1;for(const L of C)if("insert"==L.type&&"listItem"==L.name)x(L.position);else if("insert"==L.type&&"listItem"!=L.name){if("$text"!=L.name){const $=L.position.nodeAfter;$.hasAttribute("listIndent")&&(_.removeAttribute("listIndent",$),D=!0),$.hasAttribute("listType")&&(_.removeAttribute("listType",$),D=!0),$.hasAttribute("listStyle")&&(_.removeAttribute("listStyle",$),D=!0);for(const Y of Array.from(b.createRangeIn($)).filter(te=>te.item.is("element","listItem")))x(Y.previousPosition)}x(L.position.getShiftedBy(L.length))}else"remove"==L.type&&"listItem"==L.name?x(L.position):("attribute"==L.type&&"listIndent"==L.attributeKey||"attribute"==L.type&&"listType"==L.attributeKey)&&x(L.range.start);for(const L of w.values())T(L),R(L);return D;function x(L){const $=L.nodeBefore;if($&&$.is("element","listItem")){let Y=$;if(w.has(Y))return;for(let te=Y.previousSibling;te&&te.is("element","listItem");te=Y.previousSibling)if(Y=te,w.has(Y))return;w.set($,Y)}else{const Y=L.nodeAfter;Y&&Y.is("element","listItem")&&w.set(Y,Y)}}function T(L){let $=0,Y=null;for(;L&&L.is("element","listItem");){const te=L.getAttribute("listIndent");if(te>$){let He;null===Y?(Y=te-$,He=$):(Y>te&&(Y=te),He=te-Y),_.setAttribute("listIndent",He,L),D=!0}else Y=null,$=L.getAttribute("listIndent")+1;L=L.nextSibling}}function R(L){let $=[],Y=null;for(;L&&L.is("element","listItem");){const te=L.getAttribute("listIndent");if(Y&&Y.getAttribute("listIndent")>te&&($=$.slice(0,te+1)),0!=te)if($[te]){const He=$[te];L.getAttribute("listType")!=He&&(_.setAttribute("listType",He,L),D=!0)}else $[te]=L.getAttribute("listType");Y=L,L=L.nextSibling}}}(i.model,g)),a.mapper.registerViewToModelLength("li",ul),o.mapper.registerViewToModelLength("li",ul),a.mapper.on("modelToViewPosition",h6(a.view)),a.mapper.on("viewToModelPosition",(d=i.model,(g,b)=>{const _=b.viewPosition,C=_.parent,w=b.mapper;if("ul"==C.name||"ol"==C.name){if(_.isAtEnd){const D=w.toModelElement(_.nodeBefore),x=w.getModelLength(_.nodeBefore);b.modelPosition=d.createPositionBefore(D).getShiftedBy(x)}else{const D=w.toModelElement(_.nodeAfter);b.modelPosition=d.createPositionBefore(D)}g.stop()}else if("li"==C.name&&_.nodeBefore&&("ul"==_.nodeBefore.name||"ol"==_.nodeBefore.name)){const D=w.toModelElement(C);let x=1,T=_.nodeBefore;for(;T&&Co(T);)x+=w.getModelLength(T),T=T.previousSibling;b.modelPosition=d.createPositionBefore(D).getShiftedBy(x),g.stop()}})),o.mapper.on("modelToViewPosition",h6(a.view)),i.conversion.for("editingDowncast").add(g=>{var b;g.on("insert",ll,{priority:"high"}),g.on("insert:listItem",cl(i.model)),g.on("attribute:listType:listItem",he,{priority:"high"}),g.on("attribute:listType:listItem",p7,{priority:"low"}),g.on("attribute:listIndent:listItem",(b=i.model,(_,C,w)=>{if(!w.consumable.consume(C.item,"attribute:listIndent"))return;const D=w.mapper.toViewElement(C.item),x=w.writer;x.breakContainer(x.createPositionBefore(D)),x.breakContainer(x.createPositionAfter(D));const T=D.parent,R=T.previousSibling,L=x.createRangeOn(T);x.remove(L),R&&R.nextSibling&&de(x,R,R.nextSibling),f6(C.attributeOldValue+1,C.range.start,L.start,D,w,b),al(C.item,D,w,b);for(const $ of C.item.getChildren())w.consumable.consume($,"insert")})),g.on("remove:listItem",function(b){return(_,C,w)=>{const D=w.mapper.toViewPosition(C.position).getLastMatchingPosition(Y=>!Y.item.is("element","li")).nodeAfter,x=w.writer;x.breakContainer(x.createPositionBefore(D)),x.breakContainer(x.createPositionAfter(D));const T=D.parent,R=T.previousSibling,L=x.createRangeOn(T),$=x.remove(L);R&&R.nextSibling&&de(x,R,R.nextSibling),f6(w.mapper.toModelElement(D).getAttribute("listIndent")+1,C.position,L.start,D,w,b);for(const Y of x.createRangeIn($).getItems())w.mapper.unbindViewElement(Y);_.stop()}}(i.model)),g.on("remove",u6,{priority:"low"})}),i.conversion.for("dataDowncast").add(g=>{g.on("insert",ll,{priority:"high"}),g.on("insert:listItem",cl(i.model))}),i.conversion.for("upcast").add(g=>{g.on("element:ul",va,{priority:"high"}),g.on("element:ol",va,{priority:"high"}),g.on("element:li",j8,{priority:"high"}),g.on("element:li",dl)}),i.model.on("insertContent",G8,{priority:"high"}),i.commands.add("numberedList",new c6(i,"numbered")),i.commands.add("bulletedList",new c6(i,"bulleted")),i.commands.add("indentList",new ba(i,"forward")),i.commands.add("outdentList",new ba(i,"backward"));const u=a.view.document;this.listenTo(u,"enter",(g,b)=>{const _=this.editor.model.document,C=_.selection.getLastPosition().parent;_.selection.isCollapsed&&"listItem"==C.name&&C.isEmpty&&(this.editor.execute("outdentList"),b.preventDefault(),g.stop())},{context:"li"}),this.listenTo(u,"delete",(g,b)=>{if("backward"!==b.direction)return;const _=this.editor.model.document.selection;if(!_.isCollapsed)return;const C=_.getFirstPosition();if(!C.isAtStart)return;const w=C.parent;"listItem"===w.name&&(w.previousSibling&&"listItem"===w.previousSibling.name||(this.editor.execute("outdentList"),b.preventDefault(),g.stop()))},{context:"li"});const f=g=>(b,_)=>{this.editor.commands.get(g).isEnabled&&(this.editor.execute(g),_())};i.keystrokes.set("Tab",f("indentList")),i.keystrokes.set("Shift+Tab",f("outdentList"))}afterInit(){const i=this.editor.commands,o=i.get("indent"),a=i.get("outdent");o&&o.registerChildCommand(i.get("indentList")),a&&a.registerChildCommand(i.get("outdentList"))}}function ul(l){let i=1;for(const o of l.getChildren())if("ul"==o.name||"ol"==o.name)for(const a of o.getChildren())i+=ul(a);return i}class Bb extends le{static get pluginName(){return"ListUI"}init(){const i=this.editor.t;d6(this.editor,"numberedList",i("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),d6(this.editor,"bulletedList",i("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const p6="removeFormat";class g7 extends le{static get pluginName(){return"RemoveFormatUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add(p6,a=>{const d=i.commands.get(p6),u=new $t(a);return u.set({label:o("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),u.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(u,"execute",()=>{i.execute(p6),i.editing.view.focus()}),u})}}class W8 extends zt{refresh(){const i=this.editor.model;this.isEnabled=!!pn(this._getFormattingItems(i.document.selection,i.schema))}execute(){const i=this.editor.model,o=i.schema;i.change(a=>{for(const d of this._getFormattingItems(i.document.selection,o))if(d.is("selection"))for(const u of this._getFormattingAttributes(d,o))a.removeSelectionAttribute(u);else{const u=a.createRangeOn(d);for(const f of this._getFormattingAttributes(d,o))a.removeAttribute(f,u)}})}*_getFormattingItems(i,o){const a=d=>!!pn(this._getFormattingAttributes(d,o));for(const d of i.getRanges())for(const u of d.getItems())!o.isBlock(u)&&a(u)&&(yield u);for(const d of i.getSelectedBlocks())a(d)&&(yield d);a(i)&&(yield i)}*_getFormattingAttributes(i,o){for(const[a]of i.getAttributes()){const d=o.getAttributeProperties(a);d&&d.isFormatting&&(yield a)}}}class m7 extends le{static get pluginName(){return"RemoveFormatEditing"}init(){const i=this.editor;i.commands.add("removeFormat",new W8(i))}}const jt="strikethrough";class q8 extends le{static get pluginName(){return"StrikethroughEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:jt}),i.model.schema.setAttributeProperties(jt,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:jt,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),i.commands.add(jt,new j2(i,jt)),i.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const g6="strikethrough";class b7 extends le{static get pluginName(){return"StrikethroughUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add(g6,a=>{const d=i.commands.get(g6),u=new $t(a);return u.set({label:o("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(u,"execute",()=>{i.execute(g6),i.editing.view.focus()}),u})}}const _a="underline";class v7 extends le{static get pluginName(){return"UnderlineEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:_a}),i.model.schema.setAttributeProperties(_a,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:_a,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),i.commands.add(_a,new j2(i,_a)),i.keystrokes.set("CTRL+U","underline")}}const hl="underline";class K8 extends le{static get pluginName(){return"UnderlineUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add(hl,a=>{const d=i.commands.get(hl),u=new $t(a);return u.set({label:o("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),u.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(u,"execute",()=>{i.execute(hl),i.editing.view.focus()}),u})}}function ko(l){if(l.is("$text")||l.is("$textProxy"))return l.data;let i="",o=null;for(const a of l.getChildren()){const d=ko(a);o&&o.is("element")&&(i+="\n"),i+=d,o=a}return i}class m6 extends z4{}m6.builtinPlugins=[class extends le{static get requires(){return[ra,Nu]}static get pluginName(){return"Alignment"}},class extends le{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const l=this.editor.commands;l.get("bulletedList")&&Hr(this.editor,this,/^[*-]\s$/,"bulletedList"),l.get("numberedList")&&Hr(this.editor,this,/^1[.|)]\s$/,"numberedList"),l.get("todoList")&&Hr(this.editor,this,/^\[\s?\]\s$/,"todoList"),l.get("checkTodoList")&&Hr(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const l=this.editor.commands;if(l.get("bold")){const i=P1(this.editor,"bold");go(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,i),go(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,i)}if(l.get("italic")){const i=P1(this.editor,"italic");go(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,i),go(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,i)}if(l.get("code")){const i=P1(this.editor,"code");go(this.editor,this,/(`)([^`]+)(`)$/g,i)}if(l.get("strikethrough")){const i=P1(this.editor,"strikethrough");go(this.editor,this,/(~~)([^~]+)(~~)$/g,i)}}_addHeadingAutoformats(){const l=this.editor.commands.get("heading");l&&l.modelElements.filter(i=>i.match(/^heading[1-6]$/)).forEach(i=>{const a=new RegExp(`^(#{${i[7]}})\\s$`);Hr(this.editor,this,a,()=>{if(!l.isEnabled||l.value===i)return!1;this.editor.execute("heading",{value:i})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Hr(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&Hr(this.editor,this,/^```$/,"codeBlock")}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Hr(this.editor,this,/^---$/,"horizontalLine")}},class extends le{static get requires(){return[$4,Vp]}static get pluginName(){return"BlockQuote"}},class extends le{static get requires(){return[Nb,$u]}static get pluginName(){return"Bold"}},class extends le{static get requires(){return[F1,Ku]}static get pluginName(){return"CodeBlock"}},class extends le{static get requires(){return[zb,O1,l8,Pu,Pp,Kp]}static get pluginName(){return"Essentials"}},class extends le{static get requires(){return[$1,tl]}static get pluginName(){return"FontSize"}},class extends le{static get requires(){return[fa,ga]}static get pluginName(){return"Heading"}},class extends le{static get requires(){return[b8,_8]}static get pluginName(){return"Highlight"}},class extends le{static get pluginName(){return"Indent"}static get requires(){return[C8,Yp]}},class extends le{static get requires(){return[Qp,k8]}static get pluginName(){return"Italic"}},class extends le{static get requires(){return[R8,P,f7]}static get pluginName(){return"Link"}},class extends le{static get requires(){return[$8,Bb]}static get pluginName(){return"List"}},vr,class extends le{static get requires(){return[m7,g7]}static get pluginName(){return"RemoveFormat"}},class extends le{static get requires(){return[q8,b7]}static get pluginName(){return"Strikethrough"}},class extends le{static get pluginName(){return"TextTransformation"}constructor(l){super(l),l.config.define("typing",{transformations:{include:Sb}})}init(){const l=this.editor.model.document.selection;l.on("change:range",()=>{this.isEnabled=!l.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const l=this.editor,i=l.model,o=l.plugins.get("Input"),a=function(u){const g=u.remove||[],b=_=>!g.includes(_);return function(_){const C=new Set;for(const w of _)if(Hu[w])for(const D of Hu[w])C.add(D);else C.add(w);return Array.from(C)}(u.include.concat(u.extra||[]).filter(b)).filter(b).map(_=>zp[_]||_).map(_=>({from:Bu(_.from),to:Op(_.to)}))}(l.config.get("typing.transformations")),d=new H4(l.model,u=>{for(const f of a)if(f.from.test(u))return{normalizedTransformation:f}});d.on("matched:data",(u,f)=>{if(!o.isInput(f.batch))return;const{from:g,to:b}=f.normalizedTransformation,_=g.exec(f.text),C=b(_.slice(1)),w=f.range;let D=_.index;i.enqueueChange(x=>{for(let T=1;T<_.length;T++){const R=_[T],L=C[T-1];if(null==L){D+=R.length;continue}const $=w.start.getShiftedBy(D),Y=i.createRange($,$.getShiftedBy(R.length)),te=Lp($);i.insertContent(x.createText(L,te),Y),D+=L.length}})}),d.bind("isEnabled").to(this)}},class extends le{static get requires(){return[v7,K8]}static get pluginName(){return"Underline"}},class extends le{constructor(l){super(l),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters()}},words:{get(){return this.words=this._getWords()}}}),this.set("_wordsLabel"),this.set("_charactersLabel"),this._config=l.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=Ge_features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9\xc0-\u017e]+\S?)+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",Y4(this._refreshStats.bind(this),250)),"function"==typeof this._config.onUpdate&&this.on("update",(l,i)=>{this._config.onUpdate(i)}),ve(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const l=this.editor,i=l.t,o=l.config.get("wordCount.displayWords"),a=l.config.get("wordCount.displayCharacters"),d=Ri.bind(this,this),u=[];return this._outputView||(this._outputView=new Xe,(o||void 0===o)&&(this.bind("_wordsLabel").to(this,"words",f=>i("Words: %0",f)),u.push({tag:"div",children:[{text:[d.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(a||void 0===a)&&(this.bind("_charactersLabel").to(this,"characters",f=>i("Characters: %0",f)),u.push({tag:"div",children:[{text:[d.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:u}),this._outputView.render()),this._outputView.element}_getCharacters(){return ko(this.editor.model.document.getRoot()).replace(/\n/g,"").length}_getWords(){return(ko(this.editor.model.document.getRoot()).match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const l=this.words=this._getWords(),i=this.characters=this._getCharacters();this.fire("update",{words:l,characters:i})}}],m6.defaultConfig={toolbar:{items:["heading","|","bold","italic","underline","strikethrough","bulletedList","numberedList","|","codeBlock","blockQuote","link","|","outdent","indent","alignment","fontSize","|","highlight","removeFormat","|","undo","redo"]},language:"en",licenseKey:""},U.default=m6}]).default}},Ul=>{Ul(Ul.s=543)}]);